var D=Object.defineProperty,k=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var A=(a,e,t)=>e in a?D(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,c=(a,e)=>{for(var t in e||(e={}))T.call(e,t)&&A(a,t,e[t]);if(g)for(var t of g(e))z.call(e,t)&&A(a,t,e[t]);return a},d=(a,e)=>k(a,N(e));import{r as u,f as P,O as i,j as s,a as B,al as L,S as M,B as F,cM as $,aK as I,av as K,T as O}from"./vendor.ac9d3824.js";import{u as J}from"./index.e3fc6de9.js";import{i as R,s as l,S as q}from"./form.15ff9939.js";import{getColumns as G}from"./constants.4c0a34c0.js";const{Title:H}=O;function Y(){const a=J(R),e=async(n,o)=>{switch(o){case"view":i.info(`\u67E5\u770B\u706B\u70AE\uFF1A${n.name}`);break;case"edit":i.info(`\u7F16\u8F91\u706B\u70AE\uFF1A${n.name}`);break;case"delete":i.warning(`\u5220\u9664\u706B\u70AE\uFF1A${n.name}`);break}},t=u.exports.useMemo(()=>G(a,e),[a]),[S,C]=u.exports.useState([]),[r,p]=u.exports.useState({sizeCanChange:!0,showTotal:!0,pageSize:10,current:1,pageSizeChangeResetCurrent:!0}),[x,h]=u.exports.useState(!0),[m,y]=u.exports.useState({});u.exports.useEffect(()=>{E()},[r.current,r.pageSize,JSON.stringify(m)]);function E(){const{current:n,pageSize:o}=r;h(!0),P.get("/api/weapons/artillery",{params:c({page:n,pageSize:o},m)}).then(f=>{C(f.data.list),p(d(c({},r),{current:n,pageSize:o,total:f.data.total}))}).catch(()=>{i.error("\u83B7\u53D6\u706B\u70AE\u6570\u636E\u5931\u8D25")}).finally(()=>{h(!1)})}function b({current:n,pageSize:o}){p(d(c({},r),{current:n,pageSize:o}))}function v(n){y(n),p(d(c({},r),{current:1}))}const w=()=>{i.info("\u6DFB\u52A0\u65B0\u706B\u70AE")},j=()=>{i.info("\u5BFC\u51FA\u706B\u70AE\u6570\u636E")};return s("div",{className:l.container,children:B(L,{children:[s(H,{heading:6,children:a["artillery.title"]}),s(q,{onSearch:v}),B("div",{className:l.toolbar,children:[s("div",{className:l["toolbar-left"],children:s(M,{children:s(F,{type:"primary",icon:s($,{}),onClick:w,children:"\u6DFB\u52A0\u706B\u70AE"})})}),s("div",{className:l["toolbar-right"],children:s(F,{icon:s(I,{}),onClick:j,children:"\u5BFC\u51FA\u6570\u636E"})})]}),s("div",{className:l["table-wrapper"],children:s(K,{rowKey:"id",loading:x,onChange:b,pagination:r,columns:t,data:S,scroll:{x:2e3,y:600},borderCell:!0,stripe:!0})})]})})}export{Y as default};
