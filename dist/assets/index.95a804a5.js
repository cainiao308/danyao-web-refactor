var ag=Object.defineProperty,og=Object.defineProperties;var ug=Object.getOwnPropertyDescriptors;var j0=Object.getOwnPropertySymbols;var lg=Object.prototype.hasOwnProperty,sg=Object.prototype.propertyIsEnumerable;var Y0=(r,n,e)=>n in r?ag(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e,Ue=(r,n)=>{for(var e in n||(n={}))lg.call(n,e)&&Y0(r,e,n[e]);if(j0)for(var e of j0(n))sg.call(n,e)&&Y0(r,e,n[e]);return r},Bt=(r,n)=>og(r,ug(n));import{j as vr,s as X0,a as wn,aW as Sn,aV as V0,d4 as fg,d5 as cg,d6 as Qa,aA as kr,a2 as vg,cS as hg,r as Jn,S as gg,al as Gt,aj as pg,T as dg,f as Za}from"./vendor.ac9d3824.js";import{s as yg,u as mg}from"./index.e3fc6de9.js";import{l as wg,C as ro,c as J0,I as Sg,T as W0,A as K0,t as nr,r as K,L as Eg,a as _g,b as Q0,F as Tg}from"./index.24bb0bb0.js";import{C as Z0}from"./customer-tooltip.9c2fb4c5.js";import{u as Mg}from"./useChartTheme.6b0cae69.js";import{l as $g}from"./index.b0c339fc.js";import Pg from"./data-overview.96cb40e7.js";import Rg from"./card-list.d69dbf2b.js";/* empty css               *//* empty css               */import"./index.1370898f.js";function xg({data:r,loading:n,height:e}){return wg.registerShape("interval","border-radius",{draw(t,i){const a=t.points;let o=[];o.push(["M",a[0].x,a[0].y]),o.push(["L",a[1].x,a[1].y]),o.push(["L",a[2].x,a[2].y]),o.push(["L",a[3].x,a[3].y]),o.push("Z"),o=this.parsePath(o);const f=i.addGroup(),s=(o[1][2]-o[2][2])/2;return f.addShape("rect",{attrs:{x:o[0][1],y:o[0][2]-s*2,width:o[1][1]-o[0][1],height:o[1][2]-o[2][2],fill:t.color,radius:s}}),f}}),vr(X0,{loading:n,style:{width:"100%"},children:wn(ro,{height:e||370,padding:"auto",data:r,autoFit:!0,className:"chart-wrapper",children:[vr(J0,{transpose:!0}),vr(Sg,{color:"#4086FF",position:"name*count",size:10,shape:"border-radius"}),vr(W0,{children:(t,i)=>vr(Z0,{title:t,data:i})}),vr(K0,{name:"count",label:{formatter(t){return`${Number(t)/1e3}k`}}})]})})}var Cg={};function Nn(){return new Ut}function Ut(){this.reset()}Ut.prototype={constructor:Ut,reset:function(){this.s=this.t=0},add:function(r){rs(Ht,r,this.t),rs(this,Ht.s,this.s),this.s?this.t+=Ht.t:this.s=Ht.t},valueOf:function(){return this.s}};var Ht=new Ut;function rs(r,n,e){var t=r.s=n+e,i=t-n,a=t-i;r.t=n-a+(e-i)}var X=1e-6,ns=1e-12,ar=Math.PI,Rr=ar/2,jt=ar/4,Yr=ar*2,Sr=180/ar,W=ar/180,hr=Math.abs,ce=Math.atan,Fr=Math.atan2,j=Math.cos,Yt=Math.ceil,es=Math.exp,Xt=Math.log,no=Math.pow,H=Math.sin,He=Math.sign||function(r){return r>0?1:r<0?-1:0},xr=Math.sqrt,eo=Math.tan;function ts(r){return r>1?0:r<-1?ar:Math.acos(r)}function Zr(r){return r>1?Rr:r<-1?-Rr:Math.asin(r)}function is(r){return(r=H(r/2))*r}function Er(){}function Vt(r,n){r&&os.hasOwnProperty(r.type)&&os[r.type](r,n)}var as={Feature:function(r,n){Vt(r.geometry,n)},FeatureCollection:function(r,n){for(var e=r.features,t=-1,i=e.length;++t<i;)Vt(e[t].geometry,n)}},os={Sphere:function(r,n){n.sphere()},Point:function(r,n){r=r.coordinates,n.point(r[0],r[1],r[2])},MultiPoint:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)r=e[t],n.point(r[0],r[1],r[2])},LineString:function(r,n){to(r.coordinates,n,0)},MultiLineString:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)to(e[t],n,0)},Polygon:function(r,n){us(r.coordinates,n)},MultiPolygon:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)us(e[t],n)},GeometryCollection:function(r,n){for(var e=r.geometries,t=-1,i=e.length;++t<i;)Vt(e[t],n)}};function to(r,n,e){var t=-1,i=r.length-e,a;for(n.lineStart();++t<i;)a=r[t],n.point(a[0],a[1],a[2]);n.lineEnd()}function us(r,n){var e=-1,t=r.length;for(n.polygonStart();++e<t;)to(r[e],n,1);n.polygonEnd()}function Xr(r,n){r&&as.hasOwnProperty(r.type)?as[r.type](r,n):Vt(r,n)}var Jt=Nn(),Wt=Nn(),ls,ss,io,ao,oo,En={point:Er,lineStart:Er,lineEnd:Er,polygonStart:function(){Jt.reset(),En.lineStart=kg,En.lineEnd=Ag},polygonEnd:function(){var r=+Jt;Wt.add(r<0?Yr+r:r),this.lineStart=this.lineEnd=this.point=Er},sphere:function(){Wt.add(Yr)}};function kg(){En.point=bg}function Ag(){fs(ls,ss)}function bg(r,n){En.point=fs,ls=r,ss=n,r*=W,n*=W,io=r,ao=j(n=n/2+jt),oo=H(n)}function fs(r,n){r*=W,n*=W,n=n/2+jt;var e=r-io,t=e>=0?1:-1,i=t*e,a=j(n),o=H(n),f=oo*o,s=ao*a+f*j(i),c=f*t*H(i);Jt.add(Fr(c,s)),io=r,ao=a,oo=o}function Dg(r){return Wt.reset(),Xr(r,En),Wt*2}function Kt(r){return[Fr(r[1],r[0]),Zr(r[2])]}function Wn(r){var n=r[0],e=r[1],t=j(e);return[t*j(n),t*H(n),H(e)]}function Qt(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]}function ve(r,n){return[r[1]*n[2]-r[2]*n[1],r[2]*n[0]-r[0]*n[2],r[0]*n[1]-r[1]*n[0]]}function uo(r,n){r[0]+=n[0],r[1]+=n[1],r[2]+=n[2]}function Zt(r,n){return[r[0]*n,r[1]*n,r[2]*n]}function ri(r){var n=xr(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=n,r[1]/=n,r[2]/=n}var Tr,rn,Pr,un,Kn,cs,vs,he,je=Nn(),qn,xn,Cn={point:lo,lineStart:gs,lineEnd:ps,polygonStart:function(){Cn.point=ds,Cn.lineStart=Ig,Cn.lineEnd=Og,je.reset(),En.polygonStart()},polygonEnd:function(){En.polygonEnd(),Cn.point=lo,Cn.lineStart=gs,Cn.lineEnd=ps,Jt<0?(Tr=-(Pr=180),rn=-(un=90)):je>X?un=90:je<-X&&(rn=-90),xn[0]=Tr,xn[1]=Pr}};function lo(r,n){qn.push(xn=[Tr=r,Pr=r]),n<rn&&(rn=n),n>un&&(un=n)}function hs(r,n){var e=Wn([r*W,n*W]);if(he){var t=ve(he,e),i=[t[1],-t[0],0],a=ve(i,t);ri(a),a=Kt(a);var o=r-Kn,f=o>0?1:-1,s=a[0]*Sr*f,c,u=hr(o)>180;u^(f*Kn<s&&s<f*r)?(c=a[1]*Sr,c>un&&(un=c)):(s=(s+360)%360-180,u^(f*Kn<s&&s<f*r)?(c=-a[1]*Sr,c<rn&&(rn=c)):(n<rn&&(rn=n),n>un&&(un=n))),u?r<Kn?nn(Tr,r)>nn(Tr,Pr)&&(Pr=r):nn(r,Pr)>nn(Tr,Pr)&&(Tr=r):Pr>=Tr?(r<Tr&&(Tr=r),r>Pr&&(Pr=r)):r>Kn?nn(Tr,r)>nn(Tr,Pr)&&(Pr=r):nn(r,Pr)>nn(Tr,Pr)&&(Tr=r)}else qn.push(xn=[Tr=r,Pr=r]);n<rn&&(rn=n),n>un&&(un=n),he=e,Kn=r}function gs(){Cn.point=hs}function ps(){xn[0]=Tr,xn[1]=Pr,Cn.point=lo,he=null}function ds(r,n){if(he){var e=r-Kn;je.add(hr(e)>180?e+(e>0?360:-360):e)}else cs=r,vs=n;En.point(r,n),hs(r,n)}function Ig(){En.lineStart()}function Og(){ds(cs,vs),En.lineEnd(),hr(je)>X&&(Tr=-(Pr=180)),xn[0]=Tr,xn[1]=Pr,he=null}function nn(r,n){return(n-=r)<0?n+360:n}function Lg(r,n){return r[0]-n[0]}function ys(r,n){return r[0]<=r[1]?r[0]<=n&&n<=r[1]:n<r[0]||r[1]<n}function ms(r){var n,e,t,i,a,o,f;if(un=Pr=-(Tr=rn=1/0),qn=[],Xr(r,Cn),e=qn.length){for(qn.sort(Lg),n=1,t=qn[0],a=[t];n<e;++n)i=qn[n],ys(t,i[0])||ys(t,i[1])?(nn(t[0],i[1])>nn(t[0],t[1])&&(t[1]=i[1]),nn(i[0],t[1])>nn(t[0],t[1])&&(t[0]=i[0])):a.push(t=i);for(o=-1/0,e=a.length-1,n=0,t=a[e];n<=e;t=i,++n)i=a[n],(f=nn(t[1],i[0]))>o&&(o=f,Tr=i[0],Pr=t[1])}return qn=xn=null,Tr===1/0||rn===1/0?[[NaN,NaN],[NaN,NaN]]:[[Tr,rn],[Pr,un]]}var Ye,ni,ei,ti,ii,ai,oi,ui,so,fo,co,ws,Ss,zr,Br,Gr,gn={sphere:Er,point:vo,lineStart:Es,lineEnd:_s,polygonStart:function(){gn.lineStart=Fg,gn.lineEnd=zg},polygonEnd:function(){gn.lineStart=Es,gn.lineEnd=_s}};function vo(r,n){r*=W,n*=W;var e=j(n);Xe(e*j(r),e*H(r),H(n))}function Xe(r,n,e){++Ye,ei+=(r-ei)/Ye,ti+=(n-ti)/Ye,ii+=(e-ii)/Ye}function Es(){gn.point=Ng}function Ng(r,n){r*=W,n*=W;var e=j(n);zr=e*j(r),Br=e*H(r),Gr=H(n),gn.point=qg,Xe(zr,Br,Gr)}function qg(r,n){r*=W,n*=W;var e=j(n),t=e*j(r),i=e*H(r),a=H(n),o=Fr(xr((o=Br*a-Gr*i)*o+(o=Gr*t-zr*a)*o+(o=zr*i-Br*t)*o),zr*t+Br*i+Gr*a);ni+=o,ai+=o*(zr+(zr=t)),oi+=o*(Br+(Br=i)),ui+=o*(Gr+(Gr=a)),Xe(zr,Br,Gr)}function _s(){gn.point=vo}function Fg(){gn.point=Bg}function zg(){Ts(ws,Ss),gn.point=vo}function Bg(r,n){ws=r,Ss=n,r*=W,n*=W,gn.point=Ts;var e=j(n);zr=e*j(r),Br=e*H(r),Gr=H(n),Xe(zr,Br,Gr)}function Ts(r,n){r*=W,n*=W;var e=j(n),t=e*j(r),i=e*H(r),a=H(n),o=Br*a-Gr*i,f=Gr*t-zr*a,s=zr*i-Br*t,c=xr(o*o+f*f+s*s),u=Zr(c),v=c&&-u/c;so+=v*o,fo+=v*f,co+=v*s,ni+=u,ai+=u*(zr+(zr=t)),oi+=u*(Br+(Br=i)),ui+=u*(Gr+(Gr=a)),Xe(zr,Br,Gr)}function ge(r){Ye=ni=ei=ti=ii=ai=oi=ui=so=fo=co=0,Xr(r,gn);var n=so,e=fo,t=co,i=n*n+e*e+t*t;return i<ns&&(n=ai,e=oi,t=ui,ni<X&&(n=ei,e=ti,t=ii),i=n*n+e*e+t*t,i<ns)?[NaN,NaN]:[Fr(e,n)*Sr,Zr(t/xr(i))*Sr]}function pe(r){return function(){return r}}function Ms(r,n){function e(t,i){return t=r(t,i),n(t[0],t[1])}return r.invert&&n.invert&&(e.invert=function(t,i){return t=n.invert(t,i),t&&r.invert(t[0],t[1])}),e}function ho(r,n){return[r>ar?r-Yr:r<-ar?r+Yr:r,n]}ho.invert=ho;function go(r,n,e){return(r%=Yr)?n||e?Ms(Ps(r),Rs(n,e)):Ps(r):n||e?Rs(n,e):ho}function $s(r){return function(n,e){return n+=r,[n>ar?n-Yr:n<-ar?n+Yr:n,e]}}function Ps(r){var n=$s(r);return n.invert=$s(-r),n}function Rs(r,n){var e=j(r),t=H(r),i=j(n),a=H(n);function o(f,s){var c=j(s),u=j(f)*c,v=H(f)*c,l=H(s),h=l*e+u*t;return[Fr(v*i-h*a,u*e-l*t),Zr(h*i+v*a)]}return o.invert=function(f,s){var c=j(s),u=j(f)*c,v=H(f)*c,l=H(s),h=l*i-v*a;return[Fr(v*i+l*a,u*e+h*t),Zr(h*e-u*t)]},o}function de(r){r=go(r[0]*W,r[1]*W,r.length>2?r[2]*W:0);function n(e){return e=r(e[0]*W,e[1]*W),e[0]*=Sr,e[1]*=Sr,e}return n.invert=function(e){return e=r.invert(e[0]*W,e[1]*W),e[0]*=Sr,e[1]*=Sr,e},n}function xs(r,n,e,t,i,a){if(!!e){var o=j(n),f=H(n),s=t*e;i==null?(i=n+t*Yr,a=n-s/2):(i=Cs(o,i),a=Cs(o,a),(t>0?i<a:i>a)&&(i+=t*Yr));for(var c,u=i;t>0?u>a:u<a;u-=s)c=Kt([o,-f*j(u),-f*H(u)]),r.point(c[0],c[1])}}function Cs(r,n){n=Wn(n),n[0]-=r,ri(n);var e=ts(-n[1]);return((-n[2]<0?-e:e)+Yr-X)%Yr}function ks(){var r=pe([0,0]),n=pe(90),e=pe(6),t,i,a={point:o};function o(s,c){t.push(s=i(s,c)),s[0]*=Sr,s[1]*=Sr}function f(){var s=r.apply(this,arguments),c=n.apply(this,arguments)*W,u=e.apply(this,arguments)*W;return t=[],i=go(-s[0]*W,-s[1]*W,0).invert,xs(a,c,u,1),s={type:"Polygon",coordinates:[t]},t=i=null,s}return f.center=function(s){return arguments.length?(r=typeof s=="function"?s:pe([+s[0],+s[1]]),f):r},f.radius=function(s){return arguments.length?(n=typeof s=="function"?s:pe(+s),f):n},f.precision=function(s){return arguments.length?(e=typeof s=="function"?s:pe(+s),f):e},f}function As(){var r=[],n;return{point:function(e,t){n.push([e,t])},lineStart:function(){r.push(n=[])},lineEnd:Er,rejoin:function(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function(){var e=r;return r=[],n=null,e}}}function Gg(r,n,e,t,i,a){var o=r[0],f=r[1],s=n[0],c=n[1],u=0,v=1,l=s-o,h=c-f,g;if(g=e-o,!(!l&&g>0)){if(g/=l,l<0){if(g<u)return;g<v&&(v=g)}else if(l>0){if(g>v)return;g>u&&(u=g)}if(g=i-o,!(!l&&g<0)){if(g/=l,l<0){if(g>v)return;g>u&&(u=g)}else if(l>0){if(g<u)return;g<v&&(v=g)}if(g=t-f,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>u&&(u=g)}if(g=a-f,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<v&&(v=g)}return u>0&&(r[0]=o+u*l,r[1]=f+u*h),v<1&&(n[0]=o+v*l,n[1]=f+v*h),!0}}}}}function li(r,n){return hr(r[0]-n[0])<X&&hr(r[1]-n[1])<X}function si(r,n,e,t){this.x=r,this.z=n,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function bs(r,n,e,t,i){var a=[],o=[],f,s;if(r.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],m=g[p],y;if(li(d,m)){for(i.lineStart(),f=0;f<p;++f)i.point((d=g[f])[0],d[1]);i.lineEnd();return}a.push(y=new si(d,g,null,!0)),o.push(y.o=new si(d,null,y,!1)),a.push(y=new si(m,g,null,!1)),o.push(y.o=new si(m,null,y,!0))}}),!!a.length){for(o.sort(n),Ds(a),Ds(o),f=0,s=o.length;f<s;++f)o[f].e=e=!e;for(var c=a[0],u,v;;){for(var l=c,h=!0;l.v;)if((l=l.n)===c)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,s=u.length;f<s;++f)i.point((v=u[f])[0],v[1]);else t(l.x,l.n.x,1,i);l=l.n}else{if(h)for(u=l.p.z,f=u.length-1;f>=0;--f)i.point((v=u[f])[0],v[1]);else t(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,h=!h}while(!l.v);i.lineEnd()}}}function Ds(r){if(!!(n=r.length)){for(var n,e=0,t=r[0],i;++e<n;)t.n=i=r[e],i.p=t,t=i;t.n=i=r[0],i.p=t}}function po(r,n){return r<n?-1:r>n?1:r>=n?0:NaN}function Ug(r){return r.length===1&&(r=Hg(r)),{left:function(n,e,t,i){for(t==null&&(t=0),i==null&&(i=n.length);t<i;){var a=t+i>>>1;r(n[a],e)<0?t=a+1:i=a}return t},right:function(n,e,t,i){for(t==null&&(t=0),i==null&&(i=n.length);t<i;){var a=t+i>>>1;r(n[a],e)>0?i=a:t=a+1}return t}}}function Hg(r){return function(n,e){return po(r(n),e)}}Ug(po);function Fn(r,n,e){r=+r,n=+n,e=(i=arguments.length)<2?(n=r,r=0,1):i<3?1:+e;for(var t=-1,i=Math.max(0,Math.ceil((n-r)/e))|0,a=new Array(i);++t<i;)a[t]=r+t*e;return a}function zn(r,n){var e=r.length,t=-1,i,a;if(n==null){for(;++t<e;)if((i=r[t])!=null&&i>=i)for(a=i;++t<e;)(i=r[t])!=null&&i>a&&(a=i)}else for(;++t<e;)if((i=n(r[t],t,r))!=null&&i>=i)for(a=i;++t<e;)(i=n(r[t],t,r))!=null&&i>a&&(a=i);return a}function yo(r){for(var n=r.length,e,t=-1,i=0,a,o;++t<n;)i+=r[t].length;for(a=new Array(i);--n>=0;)for(o=r[n],e=o.length;--e>=0;)a[--i]=o[e];return a}function Or(r,n){var e=r.length,t=-1,i,a;if(n==null){for(;++t<e;)if((i=r[t])!=null&&i>=i)for(a=i;++t<e;)(i=r[t])!=null&&a>i&&(a=i)}else for(;++t<e;)if((i=n(r[t],t,r))!=null&&i>=i)for(a=i;++t<e;)(i=n(r[t],t,r))!=null&&a>i&&(a=i);return a}function mo(r,n){var e=r.length,t=-1,i,a=0;if(n==null)for(;++t<e;)(i=+r[t])&&(a+=i);else for(;++t<e;)(i=+n(r[t],t,r))&&(a+=i);return a}var Ve=1e9,fi=-Ve;function wo(r,n,e,t){function i(c,u){return r<=c&&c<=e&&n<=u&&u<=t}function a(c,u,v,l){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(u,v))||s(c,u)<0^v>0)do l.point(h===0||h===3?r:e,h>1?t:n);while((h=(h+v+4)%4)!==g);else l.point(u[0],u[1])}function o(c,u){return hr(c[0]-r)<X?u>0?0:3:hr(c[0]-e)<X?u>0?2:1:hr(c[1]-n)<X?u>0?1:0:u>0?3:2}function f(c,u){return s(c.x,u.x)}function s(c,u){var v=o(c,1),l=o(u,1);return v!==l?v-l:v===0?u[1]-c[1]:v===1?c[0]-u[0]:v===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,v=As(),l,h,g,p,d,m,y,w,E,T,M,C={point:R,lineStart:D,lineEnd:z,polygonStart:O,polygonEnd:k};function R(S,$){i(S,$)&&u.point(S,$)}function x(){for(var S=0,$=0,P=h.length;$<P;++$)for(var I=h[$],J=1,gr=I.length,Z=I[0],ir,pr,Ar=Z[0],Ir=Z[1];J<gr;++J)ir=Ar,pr=Ir,Z=I[J],Ar=Z[0],Ir=Z[1],pr<=t?Ir>t&&(Ar-ir)*(t-pr)>(Ir-pr)*(r-ir)&&++S:Ir<=t&&(Ar-ir)*(t-pr)<(Ir-pr)*(r-ir)&&--S;return S}function O(){u=v,l=[],h=[],M=!0}function k(){var S=x(),$=M&&S,P=(l=yo(l)).length;($||P)&&(c.polygonStart(),$&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),P&&bs(l,f,S,a,c),c.polygonEnd()),u=c,l=h=g=null}function D(){C.point=_,h&&h.push(g=[]),T=!0,E=!1,y=w=NaN}function z(){l&&(_(p,d),m&&E&&v.rejoin(),l.push(v.result())),C.point=R,E&&u.lineEnd()}function _(S,$){var P=i(S,$);if(h&&g.push([S,$]),T)p=S,d=$,m=P,T=!1,P&&(u.lineStart(),u.point(S,$));else if(P&&E)u.point(S,$);else{var I=[y=Math.max(fi,Math.min(Ve,y)),w=Math.max(fi,Math.min(Ve,w))],J=[S=Math.max(fi,Math.min(Ve,S)),$=Math.max(fi,Math.min(Ve,$))];Gg(I,J,r,n,e,t)?(E||(u.lineStart(),u.point(I[0],I[1])),u.point(J[0],J[1]),P||u.lineEnd(),M=!1):P&&(u.lineStart(),u.point(S,$),M=!1)}y=S,w=$,E=P}return C}}function jg(){var r=0,n=0,e=960,t=500,i,a,o;return o={stream:function(f){return i&&a===f?i:i=wo(r,n,e,t)(a=f)},extent:function(f){return arguments.length?(r=+f[0][0],n=+f[0][1],e=+f[1][0],t=+f[1][1],i=a=null,o):[[r,n],[e,t]]}}}var So=Nn();function Is(r,n){var e=n[0],t=n[1],i=[H(e),-j(e),0],a=0,o=0;So.reset();for(var f=0,s=r.length;f<s;++f)if(!!(u=(c=r[f]).length))for(var c,u,v=c[u-1],l=v[0],h=v[1]/2+jt,g=H(h),p=j(h),d=0;d<u;++d,l=y,g=E,p=T,v=m){var m=c[d],y=m[0],w=m[1]/2+jt,E=H(w),T=j(w),M=y-l,C=M>=0?1:-1,R=C*M,x=R>ar,O=g*E;if(So.add(Fr(O*C*H(R),p*T+O*j(R))),a+=x?M+C*Yr:M,x^l>=e^y>=e){var k=ve(Wn(v),Wn(m));ri(k);var D=ve(i,k);ri(D);var z=(x^M>=0?-1:1)*Zr(D[2]);(t>z||t===z&&(k[0]||k[1]))&&(o+=x^M>=0?1:-1)}}return(a<-X||a<X&&So<-X)^o&1}var Eo=Nn(),_o,ci,vi,ye={sphere:Er,point:Er,lineStart:Yg,lineEnd:Er,polygonStart:Er,polygonEnd:Er};function Yg(){ye.point=Vg,ye.lineEnd=Xg}function Xg(){ye.point=ye.lineEnd=Er}function Vg(r,n){r*=W,n*=W,_o=r,ci=H(n),vi=j(n),ye.point=Jg}function Jg(r,n){r*=W,n*=W;var e=H(n),t=j(n),i=hr(r-_o),a=j(i),o=H(i),f=t*o,s=vi*e-ci*t*a,c=ci*e+vi*t*a;Eo.add(Fr(xr(f*f+s*s),c)),_o=r,ci=e,vi=t}function Os(r){return Eo.reset(),Xr(r,ye),+Eo}var To=[null,null],Wg={type:"LineString",coordinates:To};function Je(r,n){return To[0]=r,To[1]=n,Os(Wg)}var Ls={Feature:function(r,n){return hi(r.geometry,n)},FeatureCollection:function(r,n){for(var e=r.features,t=-1,i=e.length;++t<i;)if(hi(e[t].geometry,n))return!0;return!1}},Ns={Sphere:function(){return!0},Point:function(r,n){return qs(r.coordinates,n)},MultiPoint:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)if(qs(e[t],n))return!0;return!1},LineString:function(r,n){return Fs(r.coordinates,n)},MultiLineString:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)if(Fs(e[t],n))return!0;return!1},Polygon:function(r,n){return zs(r.coordinates,n)},MultiPolygon:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)if(zs(e[t],n))return!0;return!1},GeometryCollection:function(r,n){for(var e=r.geometries,t=-1,i=e.length;++t<i;)if(hi(e[t],n))return!0;return!1}};function hi(r,n){return r&&Ns.hasOwnProperty(r.type)?Ns[r.type](r,n):!1}function qs(r,n){return Je(r,n)===0}function Fs(r,n){var e=Je(r[0],r[1]),t=Je(r[0],n),i=Je(n,r[1]);return t+i<=e+X}function zs(r,n){return!!Is(r.map(Kg),Bs(n))}function Kg(r){return r=r.map(Bs),r.pop(),r}function Bs(r){return[r[0]*W,r[1]*W]}function Qg(r,n){return(r&&Ls.hasOwnProperty(r.type)?Ls[r.type]:hi)(r,n)}function Gs(r,n,e){var t=Fn(r,n-X,e).concat(n);return function(i){return t.map(function(a){return[i,a]})}}function Us(r,n,e){var t=Fn(r,n-X,e).concat(n);return function(i){return t.map(function(a){return[a,i]})}}function Hs(){var r,n,e,t,i,a,o,f,s=10,c=s,u=90,v=360,l,h,g,p,d=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return Fn(Yt(t/u)*u,e,u).map(g).concat(Fn(Yt(f/v)*v,o,v).map(p)).concat(Fn(Yt(n/s)*s,r,s).filter(function(w){return hr(w%u)>X}).map(l)).concat(Fn(Yt(a/c)*c,i,c).filter(function(w){return hr(w%v)>X}).map(h))}return m.lines=function(){return y().map(function(w){return{type:"LineString",coordinates:w}})},m.outline=function(){return{type:"Polygon",coordinates:[g(t).concat(p(o).slice(1),g(e).reverse().slice(1),p(f).reverse().slice(1))]}},m.extent=function(w){return arguments.length?m.extentMajor(w).extentMinor(w):m.extentMinor()},m.extentMajor=function(w){return arguments.length?(t=+w[0][0],e=+w[1][0],f=+w[0][1],o=+w[1][1],t>e&&(w=t,t=e,e=w),f>o&&(w=f,f=o,o=w),m.precision(d)):[[t,f],[e,o]]},m.extentMinor=function(w){return arguments.length?(n=+w[0][0],r=+w[1][0],a=+w[0][1],i=+w[1][1],n>r&&(w=n,n=r,r=w),a>i&&(w=a,a=i,i=w),m.precision(d)):[[n,a],[r,i]]},m.step=function(w){return arguments.length?m.stepMajor(w).stepMinor(w):m.stepMinor()},m.stepMajor=function(w){return arguments.length?(u=+w[0],v=+w[1],m):[u,v]},m.stepMinor=function(w){return arguments.length?(s=+w[0],c=+w[1],m):[s,c]},m.precision=function(w){return arguments.length?(d=+w,l=Gs(a,i,90),h=Us(n,r,d),g=Gs(f,o,90),p=Us(t,e,d),m):d},m.extentMajor([[-180,-90+X],[180,90-X]]).extentMinor([[-180,-80-X],[180,80+X]])}function Zg(){return Hs()()}function gi(r,n){var e=r[0]*W,t=r[1]*W,i=n[0]*W,a=n[1]*W,o=j(t),f=H(t),s=j(a),c=H(a),u=o*j(e),v=o*H(e),l=s*j(i),h=s*H(i),g=2*Zr(xr(is(a-t)+o*s*is(i-e))),p=H(g),d=g?function(m){var y=H(m*=g)/p,w=H(g-m)/p,E=w*u+y*l,T=w*v+y*h,M=w*f+y*c;return[Fr(T,E)*Sr,Fr(M,xr(E*E+T*T))*Sr]}:function(){return[e*Sr,t*Sr]};return d.distance=g,d}function Qn(r){return r}var Mo=Nn(),$o=Nn(),js,Ys,Po,Ro,kn={point:Er,lineStart:Er,lineEnd:Er,polygonStart:function(){kn.lineStart=rp,kn.lineEnd=ep},polygonEnd:function(){kn.lineStart=kn.lineEnd=kn.point=Er,Mo.add(hr($o)),$o.reset()},result:function(){var r=Mo/2;return Mo.reset(),r}};function rp(){kn.point=np}function np(r,n){kn.point=Xs,js=Po=r,Ys=Ro=n}function Xs(r,n){$o.add(Ro*r-Po*n),Po=r,Ro=n}function ep(){Xs(js,Ys)}var me=1/0,pi=me,We=-me,di=We,yi={point:tp,lineStart:Er,lineEnd:Er,polygonStart:Er,polygonEnd:Er,result:function(){var r=[[me,pi],[We,di]];return We=di=-(pi=me=1/0),r}};function tp(r,n){r<me&&(me=r),r>We&&(We=r),n<pi&&(pi=n),n>di&&(di=n)}var xo=0,Co=0,Ke=0,mi=0,wi=0,we=0,ko=0,Ao=0,Qe=0,Vs,Js,_n,Tn,ln={point:Zn,lineStart:Ws,lineEnd:Ks,polygonStart:function(){ln.lineStart=op,ln.lineEnd=up},polygonEnd:function(){ln.point=Zn,ln.lineStart=Ws,ln.lineEnd=Ks},result:function(){var r=Qe?[ko/Qe,Ao/Qe]:we?[mi/we,wi/we]:Ke?[xo/Ke,Co/Ke]:[NaN,NaN];return xo=Co=Ke=mi=wi=we=ko=Ao=Qe=0,r}};function Zn(r,n){xo+=r,Co+=n,++Ke}function Ws(){ln.point=ip}function ip(r,n){ln.point=ap,Zn(_n=r,Tn=n)}function ap(r,n){var e=r-_n,t=n-Tn,i=xr(e*e+t*t);mi+=i*(_n+r)/2,wi+=i*(Tn+n)/2,we+=i,Zn(_n=r,Tn=n)}function Ks(){ln.point=Zn}function op(){ln.point=lp}function up(){Qs(Vs,Js)}function lp(r,n){ln.point=Qs,Zn(Vs=_n=r,Js=Tn=n)}function Qs(r,n){var e=r-_n,t=n-Tn,i=xr(e*e+t*t);mi+=i*(_n+r)/2,wi+=i*(Tn+n)/2,we+=i,i=Tn*r-_n*n,ko+=i*(_n+r),Ao+=i*(Tn+n),Qe+=i*3,Zn(_n=r,Tn=n)}function Zs(r){this._context=r}Zs.prototype={_radius:4.5,pointRadius:function(r){return this._radius=r,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(r,n){switch(this._point){case 0:{this._context.moveTo(r,n),this._point=1;break}case 1:{this._context.lineTo(r,n);break}default:{this._context.moveTo(r+this._radius,n),this._context.arc(r,n,this._radius,0,Yr);break}}},result:Er};var bo=Nn(),Do,rf,nf,Ze,rt,nt={point:Er,lineStart:function(){nt.point=sp},lineEnd:function(){Do&&ef(rf,nf),nt.point=Er},polygonStart:function(){Do=!0},polygonEnd:function(){Do=null},result:function(){var r=+bo;return bo.reset(),r}};function sp(r,n){nt.point=ef,rf=Ze=r,nf=rt=n}function ef(r,n){Ze-=r,rt-=n,bo.add(xr(Ze*Ze+rt*rt)),Ze=r,rt=n}function tf(){this._string=[]}tf.prototype={_radius:4.5,_circle:af(4.5),pointRadius:function(r){return(r=+r)!==this._radius&&(this._radius=r,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(r,n){switch(this._point){case 0:{this._string.push("M",r,",",n),this._point=1;break}case 1:{this._string.push("L",r,",",n);break}default:{this._circle==null&&(this._circle=af(this._radius)),this._string.push("M",r,",",n,this._circle);break}}},result:function(){if(this._string.length){var r=this._string.join("");return this._string=[],r}else return null}};function af(r){return"m0,"+r+"a"+r+","+r+" 0 1,1 0,"+-2*r+"a"+r+","+r+" 0 1,1 0,"+2*r+"z"}function fp(r,n){var e=4.5,t,i;function a(o){return o&&(typeof e=="function"&&i.pointRadius(+e.apply(this,arguments)),Xr(o,t(i))),i.result()}return a.area=function(o){return Xr(o,t(kn)),kn.result()},a.measure=function(o){return Xr(o,t(nt)),nt.result()},a.bounds=function(o){return Xr(o,t(yi)),yi.result()},a.centroid=function(o){return Xr(o,t(ln)),ln.result()},a.projection=function(o){return arguments.length?(t=o==null?(r=null,Qn):(r=o).stream,a):r},a.context=function(o){return arguments.length?(i=o==null?(n=null,new tf):new Zs(n=o),typeof e!="function"&&i.pointRadius(e),a):n},a.pointRadius=function(o){return arguments.length?(e=typeof o=="function"?o:(i.pointRadius(+o),+o),a):e},a.projection(r).context(n)}function of(r,n,e,t){return function(i,a){var o=n(a),f=i.invert(t[0],t[1]),s=As(),c=n(s),u=!1,v,l,h,g={point:p,lineStart:m,lineEnd:y,polygonStart:function(){g.point=w,g.lineStart=E,g.lineEnd=T,l=[],v=[]},polygonEnd:function(){g.point=p,g.lineStart=m,g.lineEnd=y,l=yo(l);var M=Is(v,f);l.length?(u||(a.polygonStart(),u=!0),bs(l,vp,M,e,a)):M&&(u||(a.polygonStart(),u=!0),a.lineStart(),e(null,null,1,a),a.lineEnd()),u&&(a.polygonEnd(),u=!1),l=v=null},sphere:function(){a.polygonStart(),a.lineStart(),e(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function p(M,C){var R=i(M,C);r(M=R[0],C=R[1])&&a.point(M,C)}function d(M,C){var R=i(M,C);o.point(R[0],R[1])}function m(){g.point=d,o.lineStart()}function y(){g.point=p,o.lineEnd()}function w(M,C){h.push([M,C]);var R=i(M,C);c.point(R[0],R[1])}function E(){c.lineStart(),h=[]}function T(){w(h[0][0],h[0][1]),c.lineEnd();var M=c.clean(),C=s.result(),R,x=C.length,O,k,D;if(h.pop(),v.push(h),h=null,!!x){if(M&1){if(k=C[0],(O=k.length-1)>0){for(u||(a.polygonStart(),u=!0),a.lineStart(),R=0;R<O;++R)a.point((D=k[R])[0],D[1]);a.lineEnd()}return}x>1&&M&2&&C.push(C.pop().concat(C.shift())),l.push(C.filter(cp))}}return g}}function cp(r){return r.length>1}function vp(r,n){return((r=r.x)[0]<0?r[1]-Rr-X:Rr-r[1])-((n=n.x)[0]<0?n[1]-Rr-X:Rr-n[1])}var uf=of(function(){return!0},hp,pp,[-ar,-Rr]);function hp(r){var n=NaN,e=NaN,t=NaN,i;return{lineStart:function(){r.lineStart(),i=1},point:function(a,o){var f=a>0?ar:-ar,s=hr(a-n);hr(s-ar)<X?(r.point(n,e=(e+o)/2>0?Rr:-Rr),r.point(t,e),r.lineEnd(),r.lineStart(),r.point(f,e),r.point(a,e),i=0):t!==f&&s>=ar&&(hr(n-t)<X&&(n-=t*X),hr(a-f)<X&&(a-=f*X),e=gp(n,e,a,o),r.point(t,e),r.lineEnd(),r.lineStart(),r.point(f,e),i=0),r.point(n=a,e=o),t=f},lineEnd:function(){r.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function gp(r,n,e,t){var i,a,o=H(r-e);return hr(o)>X?ce((H(n)*(a=j(t))*H(e)-H(t)*(i=j(n))*H(r))/(i*a*o)):(n+t)/2}function pp(r,n,e,t){var i;if(r==null)i=e*Rr,t.point(-ar,i),t.point(0,i),t.point(ar,i),t.point(ar,0),t.point(ar,-i),t.point(0,-i),t.point(-ar,-i),t.point(-ar,0),t.point(-ar,i);else if(hr(r[0]-n[0])>X){var a=r[0]<n[0]?ar:-ar;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(n[0],n[1])}function dp(r,n){var e=j(r),t=e>0,i=hr(e)>X;function a(u,v,l,h){xs(h,r,n,l,u,v)}function o(u,v){return j(u)*j(v)>e}function f(u){var v,l,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,m){var y=[d,m],w,E=o(d,m),T=t?E?0:c(d,m):E?c(d+(d<0?ar:-ar),m):0;if(!v&&(g=h=E)&&u.lineStart(),E!==h&&(w=s(v,y),(!w||li(v,w)||li(y,w))&&(y[0]+=X,y[1]+=X,E=o(y[0],y[1]))),E!==h)p=0,E?(u.lineStart(),w=s(y,v),u.point(w[0],w[1])):(w=s(v,y),u.point(w[0],w[1]),u.lineEnd()),v=w;else if(i&&v&&t^E){var M;!(T&l)&&(M=s(y,v,!0))&&(p=0,t?(u.lineStart(),u.point(M[0][0],M[0][1]),u.point(M[1][0],M[1][1]),u.lineEnd()):(u.point(M[1][0],M[1][1]),u.lineEnd(),u.lineStart(),u.point(M[0][0],M[0][1])))}E&&(!v||!li(v,y))&&u.point(y[0],y[1]),v=y,h=E,l=T},lineEnd:function(){h&&u.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function s(u,v,l){var h=Wn(u),g=Wn(v),p=[1,0,0],d=ve(h,g),m=Qt(d,d),y=d[0],w=m-y*y;if(!w)return!l&&u;var E=e*m/w,T=-e*y/w,M=ve(p,d),C=Zt(p,E),R=Zt(d,T);uo(C,R);var x=M,O=Qt(C,x),k=Qt(x,x),D=O*O-k*(Qt(C,C)-1);if(!(D<0)){var z=xr(D),_=Zt(x,(-O-z)/k);if(uo(_,C),_=Kt(_),!l)return _;var S=u[0],$=v[0],P=u[1],I=v[1],J;$<S&&(J=S,S=$,$=J);var gr=$-S,Z=hr(gr-ar)<X,ir=Z||gr<X;if(!Z&&I<P&&(J=P,P=I,I=J),ir?Z?P+I>0^_[1]<(hr(_[0]-S)<X?P:I):P<=_[1]&&_[1]<=I:gr>ar^(S<=_[0]&&_[0]<=$)){var pr=Zt(x,(-O+z)/k);return uo(pr,C),[_,Kt(pr)]}}}function c(u,v){var l=t?r:ar-r,h=0;return u<-l?h|=1:u>l&&(h|=2),v<-l?h|=4:v>l&&(h|=8),h}return of(o,f,a,t?[0,-r]:[-ar,r-ar])}function yp(r){return{stream:Si(r)}}function Si(r){return function(n){var e=new Io;for(var t in r)e[t]=r[t];return e.stream=n,e}}function Io(){}Io.prototype={constructor:Io,point:function(r,n){this.stream.point(r,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ei(r,n,e){var t=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=r.clipExtent&&r.clipExtent();r.scale(150).translate([0,0]),a!=null&&r.clipExtent(null),Xr(e,r.stream(yi));var o=yi.result(),f=Math.min(t/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),s=+n[0][0]+(t-f*(o[1][0]+o[0][0]))/2,c=+n[0][1]+(i-f*(o[1][1]+o[0][1]))/2;return a!=null&&r.clipExtent(a),r.scale(f*150).translate([s,c])}function Oo(r,n,e){return Ei(r,[[0,0],n],e)}var lf=16,mp=j(30*W);function sf(r,n){return+n?Sp(r,n):wp(r)}function wp(r){return Si({point:function(n,e){n=r(n,e),this.stream.point(n[0],n[1])}})}function Sp(r,n){function e(t,i,a,o,f,s,c,u,v,l,h,g,p,d){var m=c-t,y=u-i,w=m*m+y*y;if(w>4*n&&p--){var E=o+l,T=f+h,M=s+g,C=xr(E*E+T*T+M*M),R=Zr(M/=C),x=hr(hr(M)-1)<X||hr(a-v)<X?(a+v)/2:Fr(T,E),O=r(x,R),k=O[0],D=O[1],z=k-t,_=D-i,S=y*z-m*_;(S*S/w>n||hr((m*z+y*_)/w-.5)>.3||o*l+f*h+s*g<mp)&&(e(t,i,a,o,f,s,k,D,x,E/=C,T/=C,M,p,d),d.point(k,D),e(k,D,x,E,T,M,c,u,v,l,h,g,p,d))}}return function(t){var i,a,o,f,s,c,u,v,l,h,g,p,d={point:m,lineStart:y,lineEnd:E,polygonStart:function(){t.polygonStart(),d.lineStart=T},polygonEnd:function(){t.polygonEnd(),d.lineStart=y}};function m(R,x){R=r(R,x),t.point(R[0],R[1])}function y(){v=NaN,d.point=w,t.lineStart()}function w(R,x){var O=Wn([R,x]),k=r(R,x);e(v,l,u,h,g,p,v=k[0],l=k[1],u=R,h=O[0],g=O[1],p=O[2],lf,t),t.point(v,l)}function E(){d.point=m,t.lineEnd()}function T(){y(),d.point=M,d.lineEnd=C}function M(R,x){w(i=R,x),a=v,o=l,f=h,s=g,c=p,d.point=w}function C(){e(v,l,u,h,g,p,a,o,i,f,s,c,lf,t),d.lineEnd=E,E()}return d}}var Ep=Si({point:function(r,n){this.stream.point(r*W,n*W)}});function U(r){return Ur(function(){return r})()}function Ur(r){var n,e=150,t=480,i=250,a,o,f=0,s=0,c=0,u=0,v=0,l,h,g=null,p=uf,d=null,m,y,w,E=Qn,T=.5,M=sf(k,T),C,R;function x(_){return _=h(_[0]*W,_[1]*W),[_[0]*e+a,o-_[1]*e]}function O(_){return _=h.invert((_[0]-a)/e,(o-_[1])/e),_&&[_[0]*Sr,_[1]*Sr]}function k(_,S){return _=n(_,S),[_[0]*e+a,o-_[1]*e]}x.stream=function(_){return C&&R===_?C:C=Ep(p(l,M(E(R=_))))},x.clipAngle=function(_){return arguments.length?(p=+_?dp(g=_*W,6*W):(g=null,uf),z()):g*Sr},x.clipExtent=function(_){return arguments.length?(E=_==null?(d=m=y=w=null,Qn):wo(d=+_[0][0],m=+_[0][1],y=+_[1][0],w=+_[1][1]),z()):d==null?null:[[d,m],[y,w]]},x.scale=function(_){return arguments.length?(e=+_,D()):e},x.translate=function(_){return arguments.length?(t=+_[0],i=+_[1],D()):[t,i]},x.center=function(_){return arguments.length?(f=_[0]%360*W,s=_[1]%360*W,D()):[f*Sr,s*Sr]},x.rotate=function(_){return arguments.length?(c=_[0]%360*W,u=_[1]%360*W,v=_.length>2?_[2]%360*W:0,D()):[c*Sr,u*Sr,v*Sr]},x.precision=function(_){return arguments.length?(M=sf(k,T=_*_),z()):xr(T)},x.fitExtent=function(_,S){return Ei(x,_,S)},x.fitSize=function(_,S){return Oo(x,_,S)};function D(){h=Ms(l=go(c,u,v),n);var _=n(f,s);return a=t-_[0]*e,o=i+_[1]*e,z()}function z(){return C=R=null,x}return function(){return n=r.apply(this,arguments),x.invert=n.invert&&O,D()}}function Lo(r){var n=0,e=ar/3,t=Ur(r),i=t(n,e);return i.parallels=function(a){return arguments.length?t(n=a[0]*W,e=a[1]*W):[n*Sr,e*Sr]},i}function _p(r){var n=j(r);function e(t,i){return[t*n,H(i)/n]}return e.invert=function(t,i){return[t/n,Zr(i*n)]},e}function ff(r,n){var e=H(r),t=(e+H(n))/2;if(hr(t)<X)return _p(r);var i=1+e*(2*t-e),a=xr(i)/t;function o(f,s){var c=xr(i-2*t*H(s))/t;return[c*H(f*=t),a-c*j(f)]}return o.invert=function(f,s){var c=a-s;return[Fr(f,hr(c))/t*He(c),Zr((i-(f*f+c*c)*t*t)/(2*t))]},o}function _i(){return Lo(ff).scale(155.424).center([0,33.6442])}function cf(){return _i().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Tp(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function Mp(){var r,n,e=cf(),t,i=_i().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=_i().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,s,c={point:function(l,h){s=[l,h]}};function u(l){var h=l[0],g=l[1];return s=null,t.point(h,g),s||(a.point(h,g),s)||(f.point(h,g),s)}u.invert=function(l){var h=e.scale(),g=e.translate(),p=(l[0]-g[0])/h,d=(l[1]-g[1])/h;return(d>=.12&&d<.234&&p>=-.425&&p<-.214?i:d>=.166&&d<.234&&p>=-.214&&p<-.115?o:e).invert(l)},u.stream=function(l){return r&&n===l?r:r=Tp([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),v()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),o.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),g=+l[0],p=+l[1];return t=e.translate(l).clipExtent([[g-.455*h,p-.238*h],[g+.455*h,p+.238*h]]).stream(c),a=i.translate([g-.307*h,p+.201*h]).clipExtent([[g-.425*h+X,p+.12*h+X],[g-.214*h-X,p+.234*h-X]]).stream(c),f=o.translate([g-.205*h,p+.212*h]).clipExtent([[g-.214*h+X,p+.166*h+X],[g-.115*h-X,p+.234*h-X]]).stream(c),v()},u.fitExtent=function(l,h){return Ei(u,l,h)},u.fitSize=function(l,h){return Oo(u,l,h)};function v(){return r=n=null,u}return u.scale(1070)}function vf(r){return function(n,e){var t=j(n),i=j(e),a=r(t*i);return[a*i*H(n),a*H(e)]}}function et(r){return function(n,e){var t=xr(n*n+e*e),i=r(t),a=H(i),o=j(i);return[Fr(n*a,t*o),Zr(t&&e*a/t)]}}var Se=vf(function(r){return xr(2/(1+r))});Se.invert=et(function(r){return 2*Zr(r/2)});function $p(){return U(Se).scale(124.75).clipAngle(180-.001)}var Bn=vf(function(r){return(r=ts(r))&&r/H(r)});Bn.invert=et(function(r){return r});function Pp(){return U(Bn).scale(79.4188).clipAngle(180-.001)}function tt(r,n){return[r,Xt(eo((Rr+n)/2))]}tt.invert=function(r,n){return[r,2*ce(es(n))-Rr]};function Rp(){return hf(tt).scale(961/Yr)}function hf(r){var n=U(r),e=n.center,t=n.scale,i=n.translate,a=n.clipExtent,o=null,f,s,c;n.scale=function(v){return arguments.length?(t(v),u()):t()},n.translate=function(v){return arguments.length?(i(v),u()):i()},n.center=function(v){return arguments.length?(e(v),u()):e()},n.clipExtent=function(v){return arguments.length?(v==null?o=f=s=c=null:(o=+v[0][0],f=+v[0][1],s=+v[1][0],c=+v[1][1]),u()):o==null?null:[[o,f],[s,c]]};function u(){var v=ar*t(),l=n(de(n.rotate()).invert([0,0]));return a(o==null?[[l[0]-v,l[1]-v],[l[0]+v,l[1]+v]]:r===tt?[[Math.max(l[0]-v,o),f],[Math.min(l[0]+v,s),c]]:[[o,Math.max(l[1]-v,f)],[s,Math.min(l[1]+v,c)]])}return u()}function Ti(r){return eo((Rr+r)/2)}function gf(r,n){var e=j(r),t=r===n?H(r):Xt(e/j(n))/Xt(Ti(n)/Ti(r)),i=e*no(Ti(r),t)/t;if(!t)return tt;function a(o,f){i>0?f<-Rr+X&&(f=-Rr+X):f>Rr-X&&(f=Rr-X);var s=i/no(Ti(f),t);return[s*H(t*o),i-s*j(t*o)]}return a.invert=function(o,f){var s=i-f,c=He(t)*xr(o*o+s*s);return[Fr(o,hr(s))/t*He(s),2*ce(no(i/c,1/t))-Rr]},a}function xp(){return Lo(gf).scale(109.5).parallels([30,30])}function it(r,n){return[r,n]}it.invert=it;function pf(){return U(it).scale(152.63)}function df(r,n){var e=j(r),t=r===n?H(r):(e-j(n))/(n-r),i=e/t+r;if(hr(t)<X)return it;function a(o,f){var s=i-f,c=t*o;return[s*H(c),i-s*j(c)]}return a.invert=function(o,f){var s=i-f;return[Fr(o,hr(s))/t*He(s),i-He(t)*xr(o*o+s*s)]},a}function Cp(){return Lo(df).scale(131.154).center([0,13.9389])}function at(r,n){var e=j(n),t=j(r)*e;return[e*H(r)/t,H(n)/t]}at.invert=et(ce);function No(){return U(at).scale(144.049).clipAngle(60)}function Mi(r,n,e,t){return r===1&&n===1&&e===0&&t===0?Qn:Si({point:function(i,a){this.stream.point(i*r+e,a*n+t)}})}function kp(){var r=1,n=0,e=0,t=1,i=1,a=Qn,o=null,f,s,c,u=Qn,v,l,h;function g(){return v=l=null,h}return h={stream:function(p){return v&&l===p?v:v=a(u(l=p))},clipExtent:function(p){return arguments.length?(u=p==null?(o=f=s=c=null,Qn):wo(o=+p[0][0],f=+p[0][1],s=+p[1][0],c=+p[1][1]),g()):o==null?null:[[o,f],[s,c]]},scale:function(p){return arguments.length?(a=Mi((r=+p)*t,r*i,n,e),g()):r},translate:function(p){return arguments.length?(a=Mi(r*t,r*i,n=+p[0],e=+p[1]),g()):[n,e]},reflectX:function(p){return arguments.length?(a=Mi(r*(t=p?-1:1),r*i,n,e),g()):t<0},reflectY:function(p){return arguments.length?(a=Mi(r*t,r*(i=p?-1:1),n,e),g()):i<0},fitExtent:function(p,d){return Ei(h,p,d)},fitSize:function(p,d){return Oo(h,p,d)}}}function qo(r,n){return[j(n)*H(r),H(n)]}qo.invert=et(Zr);function yf(){return U(qo).scale(249.5).clipAngle(90+X)}function Fo(r,n){var e=j(n),t=1+j(r)*e;return[e*H(r)/t,H(n)/t]}Fo.invert=et(function(r){return 2*ce(r)});function Ap(){return U(Fo).scale(250).clipAngle(142)}function zo(r,n){return[Xt(eo((Rr+n)/2)),-r]}zo.invert=function(r,n){return[-n,2*ce(es(r))-Rr]};function bp(){var r=hf(zo),n=r.center,e=r.rotate;return r.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},r.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}var Dp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoArea:Dg,geoBounds:ms,geoCentroid:ge,geoCircle:ks,geoClipExtent:jg,geoContains:Qg,geoDistance:Je,geoGraticule:Hs,geoGraticule10:Zg,geoInterpolate:gi,geoLength:Os,geoPath:fp,geoAlbers:cf,geoAlbersUsa:Mp,geoAzimuthalEqualArea:$p,geoAzimuthalEqualAreaRaw:Se,geoAzimuthalEquidistant:Pp,geoAzimuthalEquidistantRaw:Bn,geoConicConformal:xp,geoConicConformalRaw:gf,geoConicEqualArea:_i,geoConicEqualAreaRaw:ff,geoConicEquidistant:Cp,geoConicEquidistantRaw:df,geoEquirectangular:pf,geoEquirectangularRaw:it,geoGnomonic:No,geoGnomonicRaw:at,geoIdentity:kp,geoProjection:U,geoProjectionMutator:Ur,geoMercator:Rp,geoMercatorRaw:tt,geoOrthographic:yf,geoOrthographicRaw:qo,geoStereographic:Ap,geoStereographicRaw:Fo,geoTransverseMercator:bp,geoTransverseMercatorRaw:zo,geoRotation:de,geoStream:Xr,geoTransform:yp}),ot=Sn(Dp),F=Math.abs,_r=Math.atan,er=Math.atan2,b=Math.cos,Mn=Math.exp,Ee=Math.floor,Cr=Math.log,ut=Math.max,pn=Math.min,Bo=Math.pow,$i=Math.round,tr=Math.sign||function(r){return r>0?1:r<0?-1:0},L=Math.sin,Q=Math.tan,B=1e-6,_e=1e-12,N=Math.PI,G=N/2,Vr=N/4,sn=Math.SQRT1_2,fr=q(2),fn=q(N),dn=N*2,mr=180/N,or=N/180;function Ip(r){return r?r/Math.sin(r):1}function Y(r){return r>1?G:r<-1?-G:Math.asin(r)}function br(r){return r>1?0:r<-1?N:Math.acos(r)}function q(r){return r>0?Math.sqrt(r):0}function Op(r){return r=Mn(2*r),(r-1)/(r+1)}function Go(r){return(Mn(r)-Mn(-r))/2}function mf(r){return(Mn(r)+Mn(-r))/2}function Lp(r){return Cr(r+q(r*r+1))}function Np(r){return Cr(r+q(r*r-1))}function wf(r){var n=Q(r/2),e=2*Cr(b(r/2))/(n*n);function t(i,a){var o=b(i),f=b(a),s=L(a),c=f*o,u=-((1-c?Cr((1+c)/2)/(1-c):-.5)+e/(1+c));return[u*f*L(i),u*s]}return t.invert=function(i,a){var o=q(i*i+a*a),f=-r/2,s=50,c;if(!o)return[0,0];do{var u=f/2,v=b(u),l=L(u),h=Q(u),g=Cr(1/v);f-=c=(2/h*g-e*h-o)/(-g/(l*l)+1-e/(2*v*v))}while(F(c)>B&&--s>0);var p=L(f);return[er(i*p,o*b(f)),Y(a*p/o)]},t}function qp(){var r=G,n=Ur(wf),e=n(r);return e.radius=function(t){return arguments.length?n(r=t*or):r*mr},e.scale(179.976).clipAngle(147)}function Pi(r,n){var e=b(n),t=Ip(br(e*b(r/=2)));return[2*e*L(r)*t,L(n)*t]}Pi.invert=function(r,n){if(!(r*r+4*n*n>N*N+B)){var e=r,t=n,i=25;do{var a=L(e),o=L(e/2),f=b(e/2),s=L(t),c=b(t),u=L(2*t),v=s*s,l=c*c,h=o*o,g=1-l*f*f,p=g?br(c*f)*q(d=1/g):d=0,d,m=2*p*c*o-r,y=p*s-n,w=d*(l*h+p*c*f*v),E=d*(.5*a*u-p*2*s*o),T=d*.25*(u*o-p*s*l*a),M=d*(v*f+p*h*c),C=E*T-M*w;if(!C)break;var R=(y*E-m*M)/C,x=(m*T-y*w)/C;e-=R,t-=x}while((F(R)>B||F(x)>B)&&--i>0);return[e,t]}};function Fp(){return U(Pi).scale(152.63)}function Sf(r){var n=L(r),e=b(r),t=r>=0?1:-1,i=Q(t*r),a=(1+n-e)/2;function o(f,s){var c=b(s),u=b(f/=2);return[(1+c)*L(f),(t*s>-er(u,i)-.001?0:-t*10)+a+L(s)*e-(1+c)*n*u]}return o.invert=function(f,s){var c=0,u=0,v=50;do{var l=b(c),h=L(c),g=b(u),p=L(u),d=1+g,m=d*h-f,y=a+p*e-d*n*l-s,w=d*l/2,E=-h*p,T=n*d*h/2,M=e*g+n*l*p,C=E*T-M*w,R=(y*E-m*M)/C/2,x=(m*T-y*w)/C;c-=R,u-=x}while((F(R)>B||F(x)>B)&&--v>0);return t*u>-er(b(c),i)-.001?[c*2,u]:null},o}function zp(){var r=20*or,n=r>=0?1:-1,e=Q(n*r),t=Ur(Sf),i=t(r),a=i.stream;return i.parallel=function(o){return arguments.length?(e=Q((n=(r=o*or)>=0?1:-1)*r),t(r)):r*mr},i.stream=function(o){var f=i.rotate(),s=a(o),c=(i.rotate([0,0]),a(o));return i.rotate(f),s.sphere=function(){c.polygonStart(),c.lineStart();for(var u=n*-180;n*u<180;u+=n*90)c.point(u,n*90);for(;n*(u-=r)>=-180;)c.point(u,n*-er(b(u*or/2),e)*mr);c.lineEnd(),c.polygonEnd()},s},i.scale(218.695).center([0,28.0974])}function Ri(r,n){var e=Q(n/2),t=q(1-e*e),i=1+t*b(r/=2),a=L(r)*t/i,o=e/i,f=a*a,s=o*o;return[4/3*a*(3+f-3*s),4/3*o*(3+3*f-s)]}Ri.invert=function(r,n){if(r*=3/8,n*=3/8,!r&&F(n)>1)return null;var e=r*r,t=n*n,i=1+e+t,a=q((i-q(i*i-4*n*n))/2),o=Y(a)/3,f=a?Np(F(n/a))/3:Lp(F(r))/3,s=b(o),c=mf(f),u=c*c-s*s;return[tr(r)*2*er(Go(f)*s,.25-u),tr(n)*2*er(c*L(o),.25+u)]};function Bp(){return U(Ri).scale(66.1603)}var Uo=q(8),Gp=Cr(1+fr);function Ho(r,n){var e=F(n);return e<Vr?[r,Cr(Q(Vr+n/2))]:[r*b(e)*(2*fr-1/L(e)),tr(n)*(2*fr*(e-Vr)-Cr(Q(e/2)))]}Ho.invert=function(r,n){if((a=F(n))<Gp)return[r,2*_r(Mn(n))-G];var e=Vr,t=25,i,a;do{var o=b(e/2),f=Q(e/2);e-=i=(Uo*(e-Vr)-Cr(f)-a)/(Uo-o*o/(2*f))}while(F(i)>_e&&--t>0);return[r/(b(e)*(Uo-1/L(e))),tr(n)*e]};function Up(){return U(Ho).scale(112.314)}function Ef(r){var n=2*N/r;function e(t,i){var a=Bn(t,i);if(F(t)>G){var o=er(a[1],a[0]),f=q(a[0]*a[0]+a[1]*a[1]),s=n*$i((o-G)/n)+G,c=er(L(o-=s),2-b(o));o=s+Y(N/f*L(c))-c,a[0]=f*b(o),a[1]=f*L(o)}return a}return e.invert=function(t,i){var a=q(t*t+i*i);if(a>G){var o=er(i,t),f=n*$i((o-G)/n)+G,s=o>f?-1:1,c=a*b(f-o),u=1/Q(s*br((c-N)/q(N*(N-2*c)+a*a)));o=f+2*_r((u+s*q(u*u-3))/3),t=a*b(o),i=a*L(o)}return Bn.invert(t,i)},e}function Hp(){var r=5,n=Ur(Ef),e=n(r),t=e.stream,i=.01,a=-b(i*or),o=L(i*or);return e.lobes=function(f){return arguments.length?n(r=+f):r},e.stream=function(f){var s=e.rotate(),c=t(f),u=(e.rotate([0,0]),t(f));return e.rotate(s),c.sphere=function(){u.polygonStart(),u.lineStart();for(var v=0,l=360/r,h=2*N/r,g=90-180/r,p=G;v<r;++v,g-=l,p-=h)u.point(er(o*b(p),a)*mr,Y(o*L(p))*mr),g<-90?(u.point(-90,-180-g-i),u.point(-90,-180-g+i)):(u.point(90,g+i),u.point(90,g-i));u.lineEnd(),u.polygonEnd()},c},e.scale(87.8076).center([0,17.1875]).clipAngle(180-.001)}function _f(r,n){var e=r*L(n),t=30,i;do n-=i=(n+L(n)-e)/(1+b(n));while(F(i)>B&&--t>0);return n/2}function jo(r,n,e){function t(i,a){return[r*i*b(a=_f(e,a)),n*L(a)]}return t.invert=function(i,a){return a=Y(a/n),[i/(r*b(a)),Y((2*a+L(2*a))/e)]},t}var Gn=jo(fr/G,fr,N);function jp(){return U(Gn).scale(169.529)}var xi=2.00276,Tf=1.11072;function Ci(r,n){var e=_f(N,n);return[xi*r/(1/b(n)+Tf/b(e)),(n+fr*L(e))/xi]}Ci.invert=function(r,n){var e=xi*n,t=n<0?-Vr:Vr,i=25,a,o;do o=e-fr*L(t),t-=a=(L(2*t)+2*t-N*L(o))/(2*b(2*t)+2+N*b(o)*fr*b(t));while(F(a)>B&&--i>0);return o=e-fr*L(t),[r*(1/b(o)+Tf/b(t))/xi,o]};function Yp(){return U(Ci).scale(160.857)}function Te(r){var n=0,e=Ur(r),t=e(n);return t.parallel=function(i){return arguments.length?e(n=i*or):n*mr},t}function An(r,n){return[r*b(n),n]}An.invert=function(r,n){return[r/b(n),n]};function Xp(){return U(An).scale(152.63)}function Mf(r){if(!r)return An;var n=1/Q(r);function e(t,i){var a=n+r-i,o=a&&t*b(i)/a;return[a*L(o),n-a*b(o)]}return e.invert=function(t,i){var a=q(t*t+(i=n-i)*i),o=n+r-a;return[a/b(o)*er(t,i),o]},e}function Vp(){return Te(Mf).scale(123.082).center([0,26.1441]).parallel(45)}function $f(r){function n(e,t){var i=G-t,a=i&&e*r*L(i)/i;return[i*L(a)/r,G-i*b(a)]}return n.invert=function(e,t){var i=e*r,a=G-t,o=q(i*i+a*a),f=er(i,a);return[(o?o/L(o):1)*f/r,G-o]},n}function Jp(){var r=.5,n=Ur($f),e=n(r);return e.fraction=function(t){return arguments.length?n(r=+t):r},e.scale(158.837)}var Pf=jo(1,4/N,N);function Wp(){return U(Pf).scale(152.63)}function Rf(r,n,e,t,i,a){var o=b(a),f;if(F(r)>1||F(a)>1)f=br(e*i+n*t*o);else{var s=L(r/2),c=L(a/2);f=2*Y(q(s*s+n*t*c*c))}return F(f)>B?[f,er(t*L(a),n*i-e*t*o)]:[0,0]}function Yo(r,n,e){return br((r*r+n*n-e*e)/(2*r*n))}function Kp(r){return r-2*N*Ee((r+N)/(2*N))}function xf(r,n,e){for(var t=[[r[0],r[1],L(r[1]),b(r[1])],[n[0],n[1],L(n[1]),b(n[1])],[e[0],e[1],L(e[1]),b(e[1])]],i=t[2],a,o=0;o<3;++o,i=a)a=t[o],i.v=Rf(a[1]-i[1],i[3],i[2],a[3],a[2],a[0]-i[0]),i.point=[0,0];var f=Yo(t[0].v[0],t[2].v[0],t[1].v[0]),s=Yo(t[0].v[0],t[1].v[0],t[2].v[0]),c=N-f;t[2].point[1]=0,t[0].point[0]=-(t[1].point[0]=t[0].v[0]/2);var u=[t[2].point[0]=t[0].point[0]+t[2].v[0]*b(f),2*(t[0].point[1]=t[1].point[1]=t[2].v[0]*L(f))];function v(l,h){var g=L(h),p=b(h),d=new Array(3),m;for(m=0;m<3;++m){var y=t[m];if(d[m]=Rf(h-y[1],y[3],y[2],p,g,l-y[0]),!d[m][0])return y.point;d[m][1]=Kp(d[m][1]-y.v[1])}var w=u.slice();for(m=0;m<3;++m){var E=m==2?0:m+1,T=Yo(t[m].v[0],d[m][0],d[E][0]);d[m][1]<0&&(T=-T),m?m==1?(T=s-T,w[0]-=d[m][0]*b(T),w[1]-=d[m][0]*L(T)):(T=c-T,w[0]+=d[m][0]*b(T),w[1]+=d[m][0]*L(T)):(w[0]+=d[m][0]*b(T),w[1]-=d[m][0]*L(T))}return w[0]/=3,w[1]/=3,w}return v}function Xo(r){return r[0]*=or,r[1]*=or,r}function Qp(){return Cf([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Cf(r,n,e){var t=ge({type:"MultiPoint",coordinates:[r,n,e]}),i=[-t[0],-t[1]],a=de(i),o=U(xf(Xo(a(r)),Xo(a(n)),Xo(a(e)))).rotate(i),f=o.center;return delete o.rotate,o.center=function(s){return arguments.length?f(a(s)):a.invert(f())},o.clipAngle(90)}function $n(r,n){var e=q(1-L(n));return[2/fn*r*e,fn*(1-e)]}$n.invert=function(r,n){var e=(e=n/fn-1)*e;return[e>0?r*q(N/e)/2:0,Y(1-e)]};function Zp(){return U($n).scale(95.6464).center([0,30])}function kf(r){var n=Q(r);function e(t,i){return[t,(t?t/L(t):1)*(L(i)*b(t)-n*b(i))]}return e.invert=n?function(t,i){t&&(i*=L(t)/t);var a=b(t);return[t,2*er(q(a*a+n*n-i*i)-a,n-i)]}:function(t,i){return[t,Y(t?i*Q(t)/t:i)]},e}function r2(){return Te(kf).scale(249.828).clipAngle(90)}var ki=q(3);function Vo(r,n){return[ki*r*(2*b(2*n/3)-1)/fn,ki*fn*L(n/3)]}Vo.invert=function(r,n){var e=3*Y(n/(ki*fn));return[fn*r/(ki*(2*b(2*e/3)-1)),e]};function n2(){return U(Vo).scale(156.19)}function Jo(r){var n=b(r);function e(t,i){return[t*n,L(i)/n]}return e.invert=function(t,i){return[t/n,Y(i*n)]},e}function e2(){return Te(Jo).parallel(38.58).scale(195.044)}function Af(r){var n=b(r);function e(t,i){return[t*n,(1+n)*Q(i/2)]}return e.invert=function(t,i){return[t/n,_r(i/(1+n))*2]},e}function t2(){return Te(Af).scale(124.75)}function Wo(r,n){var e=q(8/(3*N));return[e*r*(1-F(n)/N),e*n]}Wo.invert=function(r,n){var e=q(8/(3*N)),t=n/e;return[r/(e*(1-F(t)/N)),t]};function i2(){return U(Wo).scale(165.664)}function Ko(r,n){var e=q(4-3*L(F(n)));return[2/q(6*N)*r*e,tr(n)*q(2*N/3)*(2-e)]}Ko.invert=function(r,n){var e=2-F(n)/q(2*N/3);return[r*q(6*N)/(2*e),tr(n)*Y((4-e*e)/3)]};function a2(){return U(Ko).scale(165.664)}function Qo(r,n){var e=q(N*(4+N));return[2/e*r*(1+q(1-4*n*n/(N*N))),4/e*n]}Qo.invert=function(r,n){var e=q(N*(4+N))/2;return[r*e/(1+q(1-n*n*(4+N)/(4*N))),n*e/2]};function o2(){return U(Qo).scale(180.739)}function Zo(r,n){var e=(2+G)*L(n);n/=2;for(var t=0,i=1/0;t<10&&F(i)>B;t++){var a=b(n);n-=i=(n+L(n)*(a+2)-e)/(2*a*(1+a))}return[2/q(N*(4+N))*r*(1+b(n)),2*q(N/(4+N))*L(n)]}Zo.invert=function(r,n){var e=n*q((4+N)/N)/2,t=Y(e),i=b(t);return[r/(2/q(N*(4+N))*(1+i)),Y((t+e*(i+2))/(2+G))]};function u2(){return U(Zo).scale(180.739)}function ru(r,n){return[r*(1+b(n))/q(2+N),2*n/q(2+N)]}ru.invert=function(r,n){var e=q(2+N),t=n*e/2;return[e*r/(1+b(t)),t]};function l2(){return U(ru).scale(173.044)}function nu(r,n){for(var e=(1+G)*L(n),t=0,i=1/0;t<10&&F(i)>B;t++)n-=i=(n+L(n)-e)/(1+b(n));return e=q(2+N),[r*(1+b(n))/e,2*n/e]}nu.invert=function(r,n){var e=1+G,t=q(e/2);return[r*2*t/(1+b(n*=t)),Y((n+L(n))/e)]};function s2(){return U(nu).scale(173.044)}var Ai=3+2*fr;function eu(r,n){var e=L(r/=2),t=b(r),i=q(b(n)),a=b(n/=2),o=L(n)/(a+fr*t*i),f=q(2/(1+o*o)),s=q((fr*a+(t+e)*i)/(fr*a+(t-e)*i));return[Ai*(f*(s-1/s)-2*Cr(s)),Ai*(f*o*(s+1/s)-2*_r(o))]}eu.invert=function(r,n){if(!(a=Ri.invert(r/1.2,n*1.065)))return null;var e=a[0],t=a[1],i=20,a;r/=Ai,n/=Ai;do{var o=e/2,f=t/2,s=L(o),c=b(o),u=L(f),v=b(f),l=b(t),h=q(l),g=u/(v+fr*c*h),p=g*g,d=q(2/(1+p)),m=fr*v+(c+s)*h,y=fr*v+(c-s)*h,w=m/y,E=q(w),T=E-1/E,M=E+1/E,C=d*T-2*Cr(E)-r,R=d*g*M-2*_r(g)-n,x=u&&sn*h*s*p/u,O=(fr*c*v+h)/(2*(v+fr*c*h)*(v+fr*c*h)*h),k=-.5*g*d*d*d,D=k*x,z=k*O,_=(_=2*v+fr*h*(c-s))*_*E,S=(fr*c*v*h+l)/_,$=-(fr*s*u)/(h*_),P=T*D-2*S/E+d*(S+S/w),I=T*z-2*$/E+d*($+$/w),J=g*M*D-2*x/(1+p)+d*M*x+d*g*(S-S/w),gr=g*M*z-2*O/(1+p)+d*M*O+d*g*($-$/w),Z=I*J-gr*P;if(!Z)break;var ir=(R*I-C*gr)/Z,pr=(C*J-R*P)/Z;e-=ir,t=ut(-G,pn(G,t-pr))}while((F(ir)>B||F(pr)>B)&&--i>0);return F(F(t)-G)<B?[0,t]:i&&[e,t]};function f2(){return U(eu).scale(62.5271)}var bi=b(35*or);function tu(r,n){var e=Q(n/2);return[r*bi*q(1-e*e),(1+bi)*e]}tu.invert=function(r,n){var e=n/(1+bi);return[r&&r/(bi*q(1-e*e)),2*_r(e)]};function c2(){return U(tu).scale(137.152)}function iu(r,n){var e=n/2,t=b(e);return[2*r/fn*b(n)*t*t,fn*Q(e)]}iu.invert=function(r,n){var e=_r(n/fn),t=b(e),i=2*e;return[r*fn/2/(b(i)*t*t),i]};function v2(){return U(iu).scale(135.264)}function bf(r){return[r[0]/2,Y(Q(r[1]/2*or))*mr]}function Df(r){return[r[0]*2,2*_r(L(r[1]*or))*mr]}function h2(r){r==null&&(r=yf);var n=r(),e=pf().scale(mr).precision(0).clipAngle(null).translate([0,0]);function t(a){return n(bf(a))}n.invert&&(t.invert=function(a){return Df(n.invert(a))}),t.stream=function(a){var o=n.stream(a),f=e.stream({point:function(s,c){o.point(s/2,Y(Q(-c/2*or))*mr)},lineStart:function(){o.lineStart()},lineEnd:function(){o.lineEnd()},polygonStart:function(){o.polygonStart()},polygonEnd:function(){o.polygonEnd()}});return f.sphere=o.sphere,f};function i(a){t[a]=function(o){return arguments.length?(n[a](o),t):n[a]()}}return t.rotate=function(a){return arguments.length?(e.rotate(a),t):e.rotate()},t.center=function(a){return arguments.length?(n.center(bf(a)),t):Df(n.center())},i("clipAngle"),i("clipExtent"),i("scale"),i("translate"),i("precision"),t.scale(249.5)}function If(r,n){var e=2*N/n,t=r*r;function i(a,o){var f=Bn(a,o),s=f[0],c=f[1],u=s*s+c*c;if(u>t){var v=q(u),l=er(c,s),h=e*$i(l/e),g=l-h,p=r*b(g),d=(r*L(g)-g*L(p))/(G-p),m=Of(g,d),y=(N-r)/Di(m,p,N);s=v;var w=50,E;do s-=E=(r+Di(m,p,s)*y-v)/(m(s)*y);while(F(E)>B&&--w>0);c=g*L(s),s<G&&(c-=d*(s-G));var T=L(h),M=b(h);f[0]=s*M-c*T,f[1]=s*T+c*M}return f}return i.invert=function(a,o){var f=a*a+o*o;if(f>t){var s=q(f),c=er(o,a),u=e*$i(c/e),v=c-u;a=s*b(v),o=s*L(v);for(var l=a-G,h=L(a),g=o/h,p=a<G?1/0:0,d=10;;){var m=r*L(g),y=r*b(g),w=L(y),E=G-y,T=(m-g*w)/E,M=Of(g,T);if(F(p)<_e||!--d)break;g-=p=(g*h-T*l-o)/(h-l*2*(E*(y+g*m*b(y)-w)-m*(m-g*w))/(E*E))}s=r+Di(M,y,a)*(N-r)/Di(M,y,N),c=u+g,a=s*b(c),o=s*L(c)}return Bn.invert(a,o)},i}function Of(r,n){return function(e){var t=r*b(e);return e<G&&(t-=n),q(1+t*t)}}function Di(r,n,e){for(var t=50,i=(e-n)/t,a=r(n)+r(e),o=1,f=n;o<t;++o)a+=2*r(f+=i);return a*.5*i}function g2(){var r=6,n=30*or,e=b(n),t=L(n),i=Ur(If),a=i(n,r),o=a.stream,f=.01,s=-b(f*or),c=L(f*or);return a.radius=function(u){return arguments.length?(e=b(n=u*or),t=L(n),i(n,r)):n*mr},a.lobes=function(u){return arguments.length?i(n,r=+u):r},a.stream=function(u){var v=a.rotate(),l=o(u),h=(a.rotate([0,0]),o(u));return a.rotate(v),l.sphere=function(){h.polygonStart(),h.lineStart();for(var g=0,p=2*N/r,d=0;g<r;++g,d-=p)h.point(er(c*b(d),s)*mr,Y(c*L(d))*mr),h.point(er(t*b(d-p/2),e)*mr,Y(t*L(d-p/2))*mr);h.lineEnd(),h.polygonEnd()},l},a.rotate([90,-40]).scale(91.7095).clipAngle(180-.001)}function Ii(r,n,e,t,i,a,o,f){arguments.length<8&&(f=0);function s(c,u){if(!u)return[r*c/N,0];var v=u*u,l=r+v*(n+v*(e+v*t)),h=u*(i-1+v*(a-f+v*o)),g=(l*l+h*h)/(2*h),p=c*Y(l/g)/N;return[g*L(p),u*(1+v*f)+g*(1-b(p))]}return s.invert=function(c,u){var v=N*c/r,l=u,h,g,p=50;do{var d=l*l,m=r+d*(n+d*(e+d*t)),y=l*(i-1+d*(a-f+d*o)),w=m*m+y*y,E=2*y,T=w/E,M=T*T,C=Y(m/T)/N,R=v*C,x=m*m,O=(2*n+d*(4*e+d*6*t))*l,k=i+d*(3*a+d*5*o),D=2*(m*O+y*(k-1)),z=2*(k-1),_=(D*E-w*z)/(E*E),S=b(R),$=L(R),P=T*S,I=T*$,J=v/N*(1/q(1-x/M))*(O*T-m*_)/M,gr=I-c,Z=l*(1+d*f)+T-P-u,ir=_*$+P*J,pr=P*C,Ar=1+_-(_*S-I*J),Ir=I*C,Ka=ir*Ir-Ar*pr;if(!Ka)break;v-=h=(Z*ir-gr*Ar)/Ka,l-=g=(gr*Ir-Z*pr)/Ka}while((F(h)>B||F(g)>B)&&--p>0);return[v,l]},s}var Lf=Ii(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function p2(){return U(Lf).scale(149.995)}var Nf=Ii(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function d2(){return U(Nf).scale(153.93)}var qf=Ii(5/6*N,-.62636,-.0344,0,1.3493,-.05524,0,.045);function y2(){return U(qf).scale(130.945)}function au(r,n){var e=r*r,t=n*n;return[r*(1-.162388*t)*(.87-952426e-9*e*e),n*(1+t/12)]}au.invert=function(r,n){var e=r,t=n,i=50,a;do{var o=t*t;t-=a=(t*(1+o/12)-n)/(1+o/4)}while(F(a)>B&&--i>0);i=50,r/=1-.162388*o;do{var f=(f=e*e)*f;e-=a=(e*(.87-952426e-9*f)-r)/(.87-.00476213*f)}while(F(a)>B&&--i>0);return[e,t]};function m2(){return U(au).scale(131.747)}var Ff=Ii(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function w2(){return U(Ff).scale(131.087)}function zf(r){var n=r(G,0)[0]-r(-G,0)[0];function e(t,i){var a=t>0?-.5:.5,o=r(t+a*N,i);return o[0]-=a*n,o}return r.invert&&(e.invert=function(t,i){var a=t>0?-.5:.5,o=r.invert(t+a*n,i),f=o[0]-a*N;return f<-N?f+=2*N:f>N&&(f-=2*N),o[0]=f,o}),e}function Oi(r,n){var e=tr(r),t=tr(n),i=b(n),a=b(r)*i,o=L(r)*i,f=L(t*n);r=F(er(o,f)),n=Y(a),F(r-G)>B&&(r%=G);var s=S2(r>N/4?G-r:r,n);return r>N/4&&(f=s[0],s[0]=-s[1],s[1]=-f),s[0]*=e,s[1]*=-t,s}Oi.invert=function(r,n){F(r)>1&&(r=tr(r)*2-r),F(n)>1&&(n=tr(n)*2-n);var e=tr(r),t=tr(n),i=-e*r,a=-t*n,o=a/i<1,f=E2(o?a:i,o?i:a),s=f[0],c=f[1],u=b(c);return o&&(s=-G-s),[e*(er(L(s)*u,-L(c))+N),t*Y(b(s)*u)]};function S2(r,n){if(n===G)return[0,0];var e=L(n),t=e*e,i=t*t,a=1+i,o=1+3*i,f=1-i,s=Y(1/q(a)),c=f+t*a*s,u=(1-e)/c,v=q(u),l=u*a,h=q(l),g=v*f,p,d;if(r===0)return[0,-(g+t*h)];var m=b(n),y=1/m,w=2*e*m,E=(-3*t+s*o)*w,T=(-c*m-(1-e)*E)/(c*c),M=.5*T/v,C=f*M-2*t*v*w,R=t*a*T+u*o*w,x=-y*w,O=-y*R,k=-2*y*C,D=4*r/N,z;if(r>.222*N||n<N/4&&r>.175*N){if(p=(g+t*q(l*(1+i)-g*g))/(1+i),r>N/4)return[p,p];var _=p,S=.5*p;p=.5*(S+_),d=50;do{var $=q(l-p*p),P=p*(k+x*$)+O*Y(p/h)-D;if(!P)break;P<0?S=p:_=p,p=.5*(S+_)}while(F(_-S)>B&&--d>0)}else{p=B,d=25;do{var I=p*p,J=q(l-I),gr=k+x*J,Z=p*gr+O*Y(p/h)-D,ir=gr+(O-x*I)/J;p-=z=J?Z/ir:0}while(F(z)>B&&--d>0)}return[p,-g-t*q(l-p*p)]}function E2(r,n){for(var e=0,t=1,i=.5,a=50;;){var o=i*i,f=q(i),s=Y(1/q(1+o)),c=1-o+i*(1+o)*s,u=(1-f)/c,v=q(u),l=u*(1+o),h=v*(1-o),g=l-r*r,p=q(g),d=n+h+i*p;if(F(t-e)<_e||--a==0||d===0)break;d>0?e=i:t=i,i=.5*(e+t)}if(!a)return null;var m=Y(f),y=b(m),w=1/y,E=2*f*y,T=(-3*i+s*(1+3*o))*E,M=(-c*y-(1-f)*T)/(c*c),C=.5*M/v,R=(1-o)*C-2*i*v*E,x=-2*w*R,O=-w*E,k=-w*(i*(1+o)*M+u*(1+3*o)*E);return[N/4*(r*(x+O*p)+k*Y(r/q(l))),m]}function _2(){return U(zf(Oi)).scale(239.75)}function T2(r,n,e){var t,i,a;return r?(t=ou(r,e),n?(i=ou(n,1-e),a=i[1]*i[1]+e*t[0]*t[0]*i[0]*i[0],[[t[0]*i[2]/a,t[1]*t[2]*i[0]*i[1]/a],[t[1]*i[1]/a,-t[0]*t[2]*i[0]*i[2]/a],[t[2]*i[1]*i[2]/a,-e*t[0]*t[1]*i[0]/a]]):[[t[0],0],[t[1],0],[t[2],0]]):(i=ou(n,1-e),[[0,i[0]/i[1]],[1/i[1],0],[i[2]/i[1],0]])}function ou(r,n){var e,t,i,a,o;if(n<B)return a=L(r),t=b(r),e=n*(r-a*t)/4,[a-e*t,t+e*a,1-n*a*a/2,r-e];if(n>=1-B)return e=(1-n)/4,t=mf(r),a=Op(r),i=1/t,o=t*Go(r),[a+e*(o-r)/(t*t),i-e*a*i*(o-r),i+e*a*i*(o+r),2*_r(Mn(r))-G+e*(o-r)/t];var f=[1,0,0,0,0,0,0,0,0],s=[q(n),0,0,0,0,0,0,0,0],c=0;for(t=q(1-n),o=1;F(s[c]/f[c])>B&&c<8;)e=f[c++],s[c]=(e-t)/2,f[c]=(e+t)/2,t=q(e*t),o*=2;i=o*f[c]*r;do a=s[c]*L(t=i)/f[c],i=(Y(a)+i)/2;while(--c);return[L(i),a=b(i),a/b(i-t),i]}function M2(r,n,e){var t=F(r),i=F(n),a=Go(i);if(t){var o=1/L(t),f=1/(Q(t)*Q(t)),s=-(f+e*(a*a*o*o)-1+e),c=(e-1)*f,u=(-s+q(s*s-4*c))/2;return[lt(_r(1/q(u)),e)*tr(r),lt(_r(q((u/f-1)/e)),1-e)*tr(n)]}return[0,lt(_r(a),1-e)*tr(n)]}function lt(r,n){if(!n)return r;if(n===1)return Cr(Q(r/2+Vr));for(var e=1,t=q(1-n),i=q(n),a=0;F(i)>B;a++){if(r%N){var o=_r(t*Q(r)/e);o<0&&(o+=N),r+=o+~~(r/N)*N}else r+=r;i=(e+t)/2,t=q(e*t),i=((e=i)-t)/2}return r/(Bo(2,a)*e)}function Li(r,n){var e=(fr-1)/(fr+1),t=q(1-e*e),i=lt(G,t*t),a=-1,o=Cr(Q(N/4+F(n)/2)),f=Mn(a*o)/q(e),s=$2(f*b(a*r),f*L(a*r)),c=M2(s[0],s[1],t*t);return[-c[1],(n>=0?1:-1)*(.5*i-c[0])]}function $2(r,n){var e=r*r,t=n+1,i=1-e-n*n;return[.5*((r>=0?G:-G)-er(i,2*r)),-.25*Cr(i*i+4*e)+.5*Cr(t*t+e)]}function P2(r,n){var e=n[0]*n[0]+n[1]*n[1];return[(r[0]*n[0]+r[1]*n[1])/e,(r[1]*n[0]-r[0]*n[1])/e]}Li.invert=function(r,n){var e=(fr-1)/(fr+1),t=q(1-e*e),i=lt(G,t*t),a=-1,o=T2(.5*i-n,-r,t*t),f=P2(o[0],o[1]),s=er(f[1],f[0])/a;return[s,2*_r(Mn(.5/a*Cr(e*f[0]*f[0]+e*f[1]*f[1])))-G]};function R2(){return U(zf(Li)).scale(151.496)}function Bf(r,n){if(arguments.length<2&&(n=r),n===1)return Se;if(n===1/0)return Gf;function e(t,i){var a=Se(t/n,i);return a[0]*=r,a}return e.invert=function(t,i){var a=Se.invert(t/r,i);return a[0]*=n,a},e}function Gf(r,n){return[r*b(n)/b(n/=2),2*L(n)]}Gf.invert=function(r,n){var e=2*Y(n/2);return[r*b(e/2)/b(e),e]};function x2(){var r=2,n=Ur(Bf),e=n(r);return e.coefficient=function(t){return arguments.length?n(r=+t):r},e.scale(169.529)}function Uf(r){var n=L(r),e=b(r),t=Hf(r);t.invert=Hf(-r);function i(a,o){var f=t(a,o);a=f[0],o=f[1];var s=L(o),c=b(o),u=b(a),v=br(n*s+e*c*u),l=L(v),h=F(l)>B?v/l:1;return[h*e*L(a),(F(a)>G?h:-h)*(n*c-e*s*u)]}return i.invert=function(a,o){var f=q(a*a+o*o),s=-L(f),c=b(f),u=f*c,v=-o*s,l=f*n,h=q(u*u+v*v-l*l),g=er(u*l+v*h,v*l-u*h),p=(f>G?-1:1)*er(a*s,f*b(g)*c+o*L(g)*s);return t.invert(p,g)},i}function Hf(r){var n=L(r),e=b(r);return function(t,i){var a=b(i),o=b(t)*a,f=L(t)*a,s=L(i);return[er(f,o*e-s*n),Y(s*e+o*n)]}}function C2(){var r=0,n=Ur(Uf),e=n(r),t=e.rotate,i=e.stream,a=ks();return e.parallel=function(o){if(!arguments.length)return r*mr;var f=e.rotate();return n(r=o*or).rotate(f)},e.rotate=function(o){return arguments.length?(t.call(e,[o[0],o[1]-r*mr]),a.center([-o[0],-o[1]]),e):(o=t.call(e),o[1]+=r*mr,o)},e.stream=function(o){return o=i(o),o.sphere=function(){o.polygonStart();var f=.01,s=a.radius(90-f)().coordinates[0],c=s.length-1,u=-1,v;for(o.lineStart();++u<c;)o.point((v=s[u])[0],v[1]);for(o.lineEnd(),s=a.radius(90+f)().coordinates[0],c=s.length-1,o.lineStart();--u>=0;)o.point((v=s[u])[0],v[1]);o.lineEnd(),o.polygonEnd()},o},e.scale(79.4187).parallel(45).clipAngle(180-.001)}var uu=41+48/36+37/3600,lu=Jo(0);function jf(r){var n=uu*or,e=$n(N,n)[0]-$n(-N,n)[0],t=lu(0,n)[1],i=$n(0,n)[1],a=fn-i,o=dn/r,f=4/dn,s=t+a*a*4/dn;function c(u,v){var l,h=F(v);if(h>n){var g=pn(r-1,ut(0,Ee((u+N)/o)));u+=N*(r-1)/r-g*o,l=$n(u,h),l[0]=l[0]*dn/e-dn*(r-1)/(2*r)+g*dn/r,l[1]=t+(l[1]-i)*4*a/dn,v<0&&(l[1]=-l[1])}else l=lu(u,v);return l[0]*=f,l[1]/=s,l}return c.invert=function(u,v){u/=f,v*=s;var l=F(v);if(l>t){var h=pn(r-1,ut(0,Ee((u+N)/o)));u=(u+N*(r-1)/r-h*o)*e/dn;var g=$n.invert(u,.25*(l-t)*dn/a+i);return g[0]-=N*(r-1)/r-h*o,v<0&&(g[1]=-g[1]),g}return lu.invert(u,v)},c}function k2(r){return{type:"Polygon",coordinates:[Fn(-180,180+r/2,r).map(function(n,e){return[n,e&1?90-1e-6:uu]}).concat(Fn(180,-180-r/2,-r).map(function(n,e){return[n,e&1?-90+1e-6:-uu]}))]}}function A2(){var r=4,n=Ur(jf),e=n(r),t=e.stream;return e.lobes=function(i){return arguments.length?n(r=+i):r},e.stream=function(i){var a=e.rotate(),o=t(i),f=(e.rotate([0,0]),t(i));return e.rotate(a),o.sphere=function(){Xr(k2(180/r),f)},o},e.scale(239.75)}function Yf(r){var n=1+r,e=L(1/n),t=Y(e),i=2*q(N/(a=N+4*t*n)),a,o=.5*i*(n+q(r*(2+r))),f=r*r,s=n*n;function c(u,v){var l=1-L(v),h,g;if(l&&l<2){var p=G-v,d=25,m;do{var y=L(p),w=b(p),E=t+er(y,n-w),T=1+s-2*n*w;p-=m=(p-f*t-n*y+T*E-.5*l*a)/(2*n*y*E)}while(F(m)>_e&&--d>0);h=i*q(T),g=u*E/N}else h=i*(r+l),g=u*t/N;return[h*L(g),o-h*b(g)]}return c.invert=function(u,v){var l=u*u+(v-=o)*v,h=(1+s-l/(i*i))/(2*n),g=br(h),p=L(g),d=t+er(p,n-h);return[Y(u/q(l))*N/d,Y(1-2*(g-f*t-n*p+(1+s-2*n*h)*d)/a)]},c}function b2(){var r=1,n=Ur(Yf),e=n(r);return e.ratio=function(t){return arguments.length?n(r=+t):r},e.scale(167.774).center([0,18.67])}var Ni=.7109889596207567,Me=.0528035274542;function qi(r,n){return n>-Ni?(r=Gn(r,n),r[1]+=Me,r):An(r,n)}qi.invert=function(r,n){return n>-Ni?Gn.invert(r,n-Me):An.invert(r,n)};function D2(){return U(qi).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Fi(r,n){return F(n)>Ni?(r=Gn(r,n),r[1]-=n>0?Me:-Me,r):An(r,n)}Fi.invert=function(r,n){return F(n)>Ni?Gn.invert(r,n+(n>0?Me:-Me)):An.invert(r,n)};function I2(){return U(Fi).scale(152.63)}function O2(r,n){return F(r[0]-n[0])<B&&F(r[1]-n[1])<B}function Xf(r,n){for(var e=-1,t=r.length,i=r[0],a,o,f,s=[];++e<t;){a=r[e],o=(a[0]-i[0])/n,f=(a[1]-i[1])/n;for(var c=0;c<n;++c)s.push([i[0]+c*o,i[1]+c*f]);i=a}return s.push(a),s}function L2(r){var n=[],e,t,i,a,o,f,s,c=r[0].length;for(s=0;s<c;++s)e=r[0][s],t=e[0][0],i=e[0][1],a=e[1][1],o=e[2][0],f=e[2][1],n.push(Xf([[t+B,i+B],[t+B,a-B],[o-B,a-B],[o-B,f+B]],30));for(s=r[1].length-1;s>=0;--s)e=r[1][s],t=e[0][0],i=e[0][1],a=e[1][1],o=e[2][0],f=e[2][1],n.push(Xf([[o-B,f-B],[o-B,a+B],[t+B,a+B],[t+B,i-B]],30));return{type:"Polygon",coordinates:[yo(n)]}}function re(r,n){var e=L2(n);n=n.map(function(f){return f.map(function(s){return[[s[0][0]*or,s[0][1]*or],[s[1][0]*or,s[1][1]*or],[s[2][0]*or,s[2][1]*or]]})});var t=n.map(function(f){return f.map(function(s){var c=r(s[0][0],s[0][1])[0],u=r(s[2][0],s[2][1])[0],v=r(s[1][0],s[0][1])[1],l=r(s[1][0],s[1][1])[1],h;return v>l&&(h=v,v=l,l=h),[[c,v],[u,l]]})});function i(f,s){for(var c=s<0?-1:1,u=n[+(s<0)],v=0,l=u.length-1;v<l&&f>u[v][2][0];++v);var h=r(f-u[v][1][0],s);return h[0]+=r(u[v][1][0],c*s>c*u[v][0][1]?u[v][0][1]:s)[0],h}r.invert&&(i.invert=function(f,s){for(var c=t[+(s<0)],u=n[+(s<0)],v=0,l=c.length;v<l;++v){var h=c[v];if(h[0][0]<=f&&f<h[1][0]&&h[0][1]<=s&&s<h[1][1]){var g=r.invert(f-r(u[v][1][0],0)[0],s);return g[0]+=u[v][1][0],O2(i(g[0],g[1]),[f,s])?g:null}}});var a=U(i),o=a.stream;return a.stream=function(f){var s=a.rotate(),c=o(f),u=(a.rotate([0,0]),o(f));return a.rotate(s),c.sphere=function(){Xr(e,u)},c},a}var N2=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function q2(){return re(Ci,N2).scale(160.857)}var F2=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function z2(){return re(Fi,F2).scale(152.63)}var B2=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function G2(){return re(Gn,B2).scale(169.529)}var U2=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function H2(){return re(Gn,U2).scale(169.529).rotate([20,0])}var j2=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Y2(){return re(qi,j2).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var X2=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function V2(){return re(An,X2).scale(152.63).rotate([-20,0])}function su(r,n){return[3/dn*r*q(N*N/3-n*n),n]}su.invert=function(r,n){return[dn/3*r/q(N*N/3-n*n),n]};function J2(){return U(su).scale(158.837)}function Vf(r){function n(e,t){if(F(F(t)-G)<B)return[0,t<0?-2:2];var i=L(t),a=Bo((1+i)/(1-i),r/2),o=.5*(a+1/a)+b(e*=r);return[2*L(e)/o,(a-1/a)/o]}return n.invert=function(e,t){var i=F(t);if(F(i-2)<B)return e?null:[0,tr(t)*G];if(i>2)return null;e/=2,t/=2;var a=e*e,o=t*t,f=2*t/(1+a+o);return f=Bo((1+f)/(1-f),1/r),[er(2*e,1-a-o)/r,Y((f-1)/(f+1))]},n}function W2(){var r=.5,n=Ur(Vf),e=n(r);return e.spacing=function(t){return arguments.length?n(r=+t):r},e.scale(124.75)}var fu=N/fr;function cu(r,n){return[r*(1+q(b(n)))/2,n/(b(n/2)*b(r/6))]}cu.invert=function(r,n){var e=F(r),t=F(n),i=B,a=G;t<fu?a*=t/fu:i+=6*br(fu/t);for(var o=0;o<25;o++){var f=L(a),s=q(b(a)),c=L(a/2),u=b(a/2),v=L(i/6),l=b(i/6),h=.5*i*(1+s)-e,g=a/(u*l)-t,p=s?-.25*i*f/s:0,d=.5*(1+s),m=(1+.5*a*c/u)/(u*l),y=a/u*(v/6)/(l*l),w=p*y-m*d,E=(h*y-g*d)/w,T=(g*p-h*m)/w;if(a-=E,i-=T,F(E)<B&&F(T)<B)break}return[r<0?-i:i,n<0?-a:a]};function K2(){return U(cu).scale(97.2672)}function vu(r,n){var e=r*r,t=n*n;return[r*(.975534+t*(-.119161+e*-.0143059+t*-.0547009)),n*(1.00384+e*(.0802894+t*-.02855+e*199025e-9)+t*(.0998909+t*-.0491032))]}vu.invert=function(r,n){var e=tr(r)*N,t=n/2,i=50;do{var a=e*e,o=t*t,f=e*t,s=e*(.975534+o*(-.119161+a*-.0143059+o*-.0547009))-r,c=t*(1.00384+a*(.0802894+o*-.02855+a*199025e-9)+o*(.0998909+o*-.0491032))-n,u=.975534-o*(.119161+3*a*.0143059+o*.0547009),v=-f*(2*.119161+4*.0547009*o+2*.0143059*a),l=f*(2*.0802894+4*199025e-9*a+2*-.02855*o),h=1.00384+a*(.0802894+199025e-9*a)+o*(3*(.0998909-.02855*a)-5*.0491032*o),g=v*l-h*u,p=(c*v-s*h)/g,d=(s*l-c*u)/g;e-=p,t-=d}while((F(p)>B||F(d)>B)&&--i>0);return i&&[e,t]};function Q2(){return U(vu).scale(139.98)}function hu(r,n){return[L(r)/b(n),Q(n)*b(r)]}hu.invert=function(r,n){var e=r*r,t=n*n,i=t+1,a=r?sn*q((i-q(e*e+2*e*(t-1)+i*i))/e+1):1/q(i);return[Y(r*a),tr(n)*br(a)]};function Z2(){return U(hu).scale(144.049).clipAngle(90-.001)}function Jf(r){var n=b(r),e=Q(Vr+r/2);function t(i,a){var o=a-r,f=F(o)<B?i*n:F(f=Vr+a/2)<B||F(F(f)-G)<B?0:i*o/Cr(Q(f)/e);return[f,o]}return t.invert=function(i,a){var o,f=a+r;return[F(a)<B?i/n:F(o=Vr+f/2)<B||F(F(o)-G)<B?0:i*Cr(Q(o)/e)/a,f]},t}function rd(){return Te(Jf).parallel(40).scale(158.837)}function gu(r,n){return[r,1.25*Cr(Q(Vr+.4*n))]}gu.invert=function(r,n){return[r,2.5*_r(Mn(.8*n))-.625*N]};function nd(){return U(gu).scale(108.318)}function Wf(r){var n=r.length-1;function e(t,i){for(var a=b(i),o=2/(1+a*b(t)),f=o*a*L(t),s=o*L(i),c=n,u=r[c],v=u[0],l=u[1],h;--c>=0;)u=r[c],v=u[0]+f*(h=v)-s*l,l=u[1]+f*l+s*h;return v=f*(h=v)-s*l,l=f*l+s*h,[v,l]}return e.invert=function(t,i){var a=20,o=t,f=i;do{for(var s=n,c=r[s],u=c[0],v=c[1],l=0,h=0,g;--s>=0;)c=r[s],l=u+o*(g=l)-f*h,h=v+o*h+f*g,u=c[0]+o*(g=u)-f*v,v=c[1]+o*v+f*g;l=u+o*(g=l)-f*h,h=v+o*h+f*g,u=o*(g=u)-f*v-t,v=o*v+f*g-i;var p=l*l+h*h,d,m;o-=d=(u*l+v*h)/p,f-=m=(v*l-u*h)/p}while(F(d)+F(m)>B*B&&--a>0);if(a){var y=q(o*o+f*f),w=2*_r(y*.5),E=L(w);return[er(o*E,y*b(w)),y?Y(f*E/y):0]}},e}var ed=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],td=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],id=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],ad=[[.9245,0],[0,0],[.01943,0]],od=[[.721316,0],[0,0],[-.00881625,-.00617325]];function ud(){return $e(ed,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function ld(){return $e(td,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function sd(){return $e(id,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function fd(){return $e(ad,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function cd(){return $e(od,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function $e(r,n){var e=U(Wf(r)).rotate(n).clipAngle(90),t=de(n),i=e.center;return delete e.rotate,e.center=function(a){return arguments.length?i(t(a)):t.invert(i())},e}var zi=q(6),Bi=q(7);function pu(r,n){var e=Y(7*L(n)/(3*zi));return[zi*r*(2*b(2*e/3)-1)/Bi,9*L(e/3)/Bi]}pu.invert=function(r,n){var e=3*Y(n*Bi/9);return[r*Bi/(zi*(2*b(2*e/3)-1)),Y(L(e)*3*zi/7)]};function vd(){return U(pu).scale(164.859)}function du(r,n){for(var e=(1+sn)*L(n),t=n,i=0,a;i<25&&(t-=a=(L(t/2)+L(t)-e)/(.5*b(t/2)+b(t)),!(F(a)<B));i++);return[r*(1+2*b(t)/b(t/2))/(3*fr),2*q(3)*L(t/2)/q(2+fr)]}du.invert=function(r,n){var e=n*q(2+fr)/(2*q(3)),t=2*Y(e);return[3*fr*r/(1+2*b(t)/b(t/2)),Y((e+L(t))/(1+sn))]};function hd(){return U(du).scale(188.209)}function yu(r,n){for(var e=q(6/(4+N)),t=(1+N/4)*L(n),i=n/2,a=0,o;a<25&&(i-=o=(i/2+L(i)-t)/(.5+b(i)),!(F(o)<B));a++);return[e*(.5+b(i))*r/1.5,e*i]}yu.invert=function(r,n){var e=q(6/(4+N)),t=n/e;return F(F(t)-G)<B&&(t=t<0?-G:G),[1.5*r/(e*(.5+b(t))),Y((t/2+L(t))/(1+N/4))]};function gd(){return U(yu).scale(166.518)}function mu(r,n){var e=n*n,t=e*e;return[r*(.8707-.131979*e+t*(-.013791+t*(.003971*e-.001529*t))),n*(1.007226+e*(.015085+t*(-.044475+.028874*e-.005916*t)))]}mu.invert=function(r,n){var e=n,t=25,i;do{var a=e*e,o=a*a;e-=i=(e*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-n)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(F(i)>B&&--t>0);return[r/(.8707+(a=e*e)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),e]};function pd(){return U(mu).scale(175.295)}function wu(r,n){var e=n*n,t=e*e,i=e*t;return[r*(.84719-.13063*e+i*i*(-.04515+.05494*e-.02326*t+.00331*i)),n*(1.01183+t*t*(-.02625+.01926*e-.00396*t))]}wu.invert=function(r,n){var e=n,t=25,i,a,o,f;do a=e*e,o=a*a,e-=i=(e*(1.01183+o*o*(-.02625+.01926*a-.00396*o))-n)/(1.01183+o*o*(9*-.02625+11*.01926*a+13*-.00396*o));while(F(i)>_e&&--t>0);return a=e*e,o=a*a,f=a*o,[r/(.84719-.13063*a+f*f*(-.04515+.05494*a-.02326*o+.00331*f)),e]};function dd(){return U(wu).scale(175.295)}function Su(r,n){return[r*(1+b(n))/2,2*(n-Q(n/2))]}Su.invert=function(r,n){for(var e=n/2,t=0,i=1/0;t<10&&F(i)>B;++t){var a=b(n/2);n-=i=(n-Q(n/2)-e)/(1-.5/(a*a))}return[2*r/(1+b(n)),n]};function yd(){return U(Su).scale(152.63)}var Eu=1.0148,_u=.23185,Tu=-.14499,Mu=.02406,md=Eu,wd=5*_u,Sd=7*Tu,Ed=9*Mu,Gi=1.790857183;function $u(r,n){var e=n*n;return[r,n*(Eu+e*e*(_u+e*(Tu+Mu*e)))]}$u.invert=function(r,n){n>Gi?n=Gi:n<-Gi&&(n=-Gi);var e=n,t;do{var i=e*e;e-=t=(e*(Eu+i*i*(_u+i*(Tu+Mu*i)))-n)/(md+i*i*(wd+i*(Sd+Ed*i)))}while(F(t)>B);return[r,e]};function _d(){return U($u).scale(139.319)}function Pu(r,n){if(F(n)<B)return[r,0];var e=Q(n),t=r*L(n);return[L(t)/e,n+(1-b(t))/e]}Pu.invert=function(r,n){if(F(n)<B)return[r,0];var e=r*r+n*n,t=n*.5,i=10,a;do{var o=Q(t),f=1/b(t),s=e-2*n*t+t*t;t-=a=(o*s+2*(t-n))/(2+s*f*f+2*(t-n)*o)}while(F(a)>B&&--i>0);return o=Q(t),[(F(n)<F(t+1/o)?Y(r*o):tr(r)*(br(F(r*o))+G))/L(t),t]};function Td(){return U(Pu).scale(103.74)}function Md(r,n){var e=Kf(r[1],r[0]),t=Kf(n[1],n[0]),i=Pd(e,t),a=Qf(e)/Qf(t);return Ui([1,0,r[0][0],0,1,r[0][1]],Ui([a,0,0,0,a,0],Ui([b(i),L(i),0,-L(i),b(i),0],[1,0,-n[0][0],0,1,-n[0][1]])))}function $d(r){var n=1/(r[0]*r[4]-r[1]*r[3]);return[n*r[4],-n*r[1],n*(r[1]*r[5]-r[2]*r[4]),-n*r[3],n*r[0],n*(r[2]*r[3]-r[0]*r[5])]}function Ui(r,n){return[r[0]*n[0]+r[1]*n[3],r[0]*n[1]+r[1]*n[4],r[0]*n[2]+r[1]*n[5]+r[2],r[3]*n[0]+r[4]*n[3],r[3]*n[1]+r[4]*n[4],r[3]*n[2]+r[4]*n[5]+r[5]]}function Kf(r,n){return[r[0]-n[0],r[1]-n[1]]}function Qf(r){return q(r[0]*r[0]+r[1]*r[1])}function Pd(r,n){return er(r[0]*n[1]-r[1]*n[0],r[0]*n[0]+r[1]*n[1])}function Hi(r,n,e){e=e==null?-N/6:e,t(r,{transform:[b(e),L(e),0,-L(e),b(e),0]});function t(c,u){if(c.edges=xd(c.face),u.face){var v=c.shared=Rd(c.face,u.face),l=Md(v.map(u.project),v.map(c.project));c.transform=u.transform?Ui(u.transform,l):l;for(var h=u.edges,g=0,p=h.length;g<p;++g)Un(v[0],h[g][1])&&Un(v[1],h[g][0])&&(h[g]=c),Un(v[0],h[g][0])&&Un(v[1],h[g][1])&&(h[g]=c);for(h=c.edges,g=0,p=h.length;g<p;++g)Un(v[0],h[g][0])&&Un(v[1],h[g][1])&&(h[g]=u),Un(v[0],h[g][1])&&Un(v[1],h[g][0])&&(h[g]=u)}else c.transform=u.transform;return c.children&&c.children.forEach(function(d){t(d,c)}),c}function i(c,u){var v=n(c,u),l=v.project([c*mr,u*mr]),h;return(h=v.transform)?[h[0]*l[0]+h[1]*l[1]+h[2],-(h[3]*l[0]+h[4]*l[1]+h[5])]:(l[1]=-l[1],l)}rc(r)&&(i.invert=function(c,u){var v=a(r,[c,-u]);return v&&(v[0]*=or,v[1]*=or,v)});function a(c,u){var v=c.project.invert,l=c.transform,h=u;if(l&&(l=$d(l),h=[l[0]*h[0]+l[1]*h[1]+l[2],l[3]*h[0]+l[4]*h[1]+l[5]]),v&&c===o(g=v(h)))return g;for(var g,p=c.children,d=0,m=p&&p.length;d<m;++d)if(g=a(p[d],u))return g}function o(c){return n(c[0]*or,c[1]*or)}var f=U(i),s=f.stream;return f.stream=function(c){var u=f.rotate(),v=s(c),l=(f.rotate([0,0]),s(c));return f.rotate(u),v.sphere=function(){l.polygonStart(),l.lineStart(),Zf(l,r),l.lineEnd(),l.polygonEnd()},v},f}function Zf(r,n,e){var t,i=n.edges,a=i.length,o,f={type:"MultiPoint",coordinates:n.face},s=n.face.filter(function(p){return F(p[1])!==90}),c=ms({type:"MultiPoint",coordinates:s}),u=!1,v=-1,l=c[1][0]-c[0][0],h=l===180||l===360?[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]:ge(f);if(e)for(;++v<a&&i[v]!==e;);++v;for(var g=0;g<a;++g)o=i[(g+v)%a],Array.isArray(o)?(u||(r.point((t=gi(o[0],h)(B))[0],t[1]),u=!0),r.point((t=gi(o[1],h)(B))[0],t[1])):(u=!1,o!==e&&Zf(r,o,n))}function Un(r,n){return r&&n&&r[0]===n[0]&&r[1]===n[1]}function Rd(r,n){for(var e,t,i=r.length,a=null,o=0;o<i;++o){e=r[o];for(var f=n.length;--f>=0;)if(t=n[f],e[0]===t[0]&&e[1]===t[1]){if(a)return[a,e];a=e}}}function xd(r){for(var n=r.length,e=[],t=r[n-1],i=0;i<n;++i)e.push([t,t=r[i]]);return e}function rc(r){return r.project.invert||r.children&&r.children.some(rc)}var Cd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ji=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(r){return r.map(function(n){return Cd[n]})});function kd(r){r=r||function(e){var t=ge({type:"MultiPoint",coordinates:e});return No().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var n=ji.map(function(e){return{face:e,project:r(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,t){var i=n[e];i&&(i.children||(i.children=[])).push(n[t])}),Hi(n[0],function(e,t){return n[e<-N/2?t<0?6:4:e<0?t<0?2:0:e<N/2?t<0?3:1:t<0?7:5]}).scale(101.858).center([0,45])}var nc=2/q(3);function ec(r,n){var e=$n(r,n);return[e[0]*nc,e[1]]}ec.invert=function(r,n){return $n.invert(r/nc,n)};function Ad(r){r=r||function(e){var t=ge({type:"MultiPoint",coordinates:e});return U(ec).translate([0,0]).scale(1).rotate(t[1]>0?[-t[0],0]:[180-t[0],180])};var n=ji.map(function(e){return{face:e,project:r(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,t){var i=n[e];i&&(i.children||(i.children=[])).push(n[t])}),Hi(n[0],function(e,t){return n[e<-N/2?t<0?6:4:e<0?t<0?2:0:e<N/2?t<0?3:1:t<0?7:5]}).scale(121.906).center([0,48.5904])}function bd(r){r=r||function(o){var f=o.length===6?ge({type:"MultiPoint",coordinates:o}):o[0];return No().scale(1).translate([0,0]).rotate([-f[0],-f[1]])};var n=ji.map(function(o){for(var f=o.map(xu),s=f.length,c=f[s-1],u,v=[],l=0;l<s;++l)u=f[l],v.push(tc([c[0]*.9486832980505138+u[0]*.31622776601683794,c[1]*.9486832980505138+u[1]*.31622776601683794,c[2]*.9486832980505138+u[2]*.31622776601683794]),tc([u[0]*.9486832980505138+c[0]*.31622776601683794,u[1]*.9486832980505138+c[1]*.31622776601683794,u[2]*.9486832980505138+c[2]*.31622776601683794])),c=u;return v}),e=[],t=[-1,0,0,1,0,1,4,5];n.forEach(function(o,f){for(var s=ji[f],c=s.length,u=e[f]=[],v=0;v<c;++v)n.push([s[v],o[(v*2+2)%(2*c)],o[(v*2+1)%(2*c)]]),t.push(f),u.push(Dd(xu(o[(v*2+2)%(2*c)]),xu(o[(v*2+1)%(2*c)])))});var i=n.map(function(o){return{project:r(o),face:o}});t.forEach(function(o,f){var s=i[o];s&&(s.children||(s.children=[])).push(i[f])});function a(o,f){var s=b(f),c=[s*b(o),s*L(o),L(f)],u=o<-N/2?f<0?6:4:o<0?f<0?2:0:o<N/2?f<0?3:1:f<0?7:5,v=e[u];return i[Ru(v[0],c)<0?8+3*u:Ru(v[1],c)<0?8+3*u+1:Ru(v[2],c)<0?8+3*u+2:u]}return Hi(i[0],a).scale(110.625).center([0,45])}function Ru(r,n){for(var e=0,t=r.length,i=0;e<t;++e)i+=r[e]*n[e];return i}function Dd(r,n){return[r[1]*n[2]-r[2]*n[1],r[2]*n[0]-r[0]*n[2],r[0]*n[1]-r[1]*n[0]]}function tc(r){return[er(r[1],r[0])*mr,Y(ut(-1,pn(1,r[2])))*mr]}function xu(r){var n=r[0]*or,e=r[1]*or,t=b(e);return[t*b(n),t*L(n),L(e)]}function Yi(){}function Id(r){if((e=r.length)<4)return!1;for(var n=0,e,t=r[e-1][1]*r[0][0]-r[e-1][0]*r[0][1];++n<e;)t+=r[n-1][1]*r[n][0]-r[n-1][0]*r[n][1];return t<=0}function Od(r,n){for(var e=n[0],t=n[1],i=!1,a=0,o=r.length,f=o-1;a<o;f=a++){var s=r[a],c=s[0],u=s[1],v=r[f],l=v[0],h=v[1];u>t^h>t&&e<(l-c)*(t-u)/(h-u)+c&&(i=!i)}return i}function Ld(r,n){var e=n.stream,t;if(!e)throw new Error("invalid projection");switch(r&&r.type){case"Feature":t=ic;break;case"FeatureCollection":t=Nd;break;default:t=Cu;break}return t(r,e)}function Nd(r,n){return{type:"FeatureCollection",features:r.features.map(function(e){return ic(e,n)})}}function ic(r,n){return{type:"Feature",id:r.id,properties:r.properties,geometry:Cu(r.geometry,n)}}function qd(r,n){return{type:"GeometryCollection",geometries:r.geometries.map(function(e){return Cu(e,n)})}}function Cu(r,n){if(!r)return null;if(r.type==="GeometryCollection")return qd(r,n);var e;switch(r.type){case"Point":e=ac;break;case"MultiPoint":e=ac;break;case"LineString":e=oc;break;case"MultiLineString":e=oc;break;case"Polygon":e=ku;break;case"MultiPolygon":e=ku;break;case"Sphere":e=ku;break;default:return null}return Xr(r,n(e)),e.result()}var Lr=[],Pn=[],ac={point:function(r,n){Lr.push([r,n])},result:function(){var r=Lr.length?Lr.length<2?{type:"Point",coordinates:Lr[0]}:{type:"MultiPoint",coordinates:Lr}:null;return Lr=[],r}},oc={lineStart:Yi,point:function(r,n){Lr.push([r,n])},lineEnd:function(){Lr.length&&(Pn.push(Lr),Lr=[])},result:function(){var r=Pn.length?Pn.length<2?{type:"LineString",coordinates:Pn[0]}:{type:"MultiLineString",coordinates:Pn}:null;return Pn=[],r}},ku={polygonStart:Yi,lineStart:Yi,point:function(r,n){Lr.push([r,n])},lineEnd:function(){var r=Lr.length;if(r){do Lr.push(Lr[0].slice());while(++r<4);Pn.push(Lr),Lr=[]}},polygonEnd:Yi,result:function(){if(!Pn.length)return null;var r=[],n=[];return Pn.forEach(function(e){Id(e)?r.push([e]):n.push(e)}),n.forEach(function(e){var t=e[0];r.some(function(i){if(Od(i[0],t))return i.push(e),!0})||r.push([e])}),Pn=[],r.length?r.length>1?{type:"MultiPolygon",coordinates:r}:{type:"Polygon",coordinates:r[0]}:null}};function Au(r){var n=r(G,0)[0]-r(-G,0)[0];function e(t,i){var a=F(t)<G,o=r(a?t:t>0?t-N:t+N,i),f=(o[0]-o[1])*sn,s=(o[0]+o[1])*sn;if(a)return[f,s];var c=n*sn,u=f>0^s>0?-1:1;return[u*f-tr(s)*c,u*s-tr(f)*c]}return r.invert&&(e.invert=function(t,i){var a=(t+i)*sn,o=(i-t)*sn,f=F(a)<.5*n&&F(o)<.5*n;if(!f){var s=n*sn,c=a>0^o>0?-1:1,u=-c*t+(o>0?1:-1)*s,v=-c*i+(a>0?1:-1)*s;a=(-u-v)*sn,o=(u-v)*sn}var l=r.invert(a,o);return f||(l[0]+=a>0?N:-N),l}),U(e).rotate([-90,-90,45]).clipAngle(180-.001)}function Fd(){return Au(Oi).scale(176.423)}function uc(){return Au(Li).scale(111.48)}function zd(r,n){if(!(0<=(n=+n)&&n<=20))throw new Error("invalid digits");function e(s){var c=s.length,u=2,v=new Array(c);for(v[0]=+s[0].toFixed(n),v[1]=+s[1].toFixed(n);u<c;)v[u]=s[u],++u;return v}function t(s){return s.map(e)}function i(s){return s.map(t)}function a(s){if(s==null)return s;var c;switch(s.type){case"GeometryCollection":c={type:"GeometryCollection",geometries:s.geometries.map(a)};break;case"Point":c={type:"Point",coordinates:e(s.coordinates)};break;case"MultiPoint":case"LineString":c={type:s.type,coordinates:t(s.coordinates)};break;case"MultiLineString":case"Polygon":c={type:s.type,coordinates:i(s.coordinates)};break;case"MultiPolygon":c={type:"MultiPolygon",coordinates:s.coordinates.map(i)};break;default:return s}return s.bbox!=null&&(c.bbox=s.bbox),c}function o(s){var c={type:"Feature",properties:s.properties,geometry:a(s.geometry)};return s.id!=null&&(c.id=s.id),s.bbox!=null&&(c.bbox=s.bbox),c}if(r!=null)switch(r.type){case"Feature":return o(r);case"FeatureCollection":{var f={type:"FeatureCollection",features:r.features.map(o)};return r.bbox!=null&&(f.bbox=r.bbox),f}default:return a(r)}return r}function lc(r){var n=L(r);function e(t,i){var a=n?Q(t*n/2)/n:t/2;if(!i)return[2*a,-r];var o=2*_r(a*L(i)),f=1/Q(i);return[L(o)*f,i+(1-b(o))*f-r]}return e.invert=function(t,i){if(F(i+=r)<B)return[n?2*_r(n*t/2)/n:t,0];var a=t*t+i*i,o=0,f=10,s;do{var c=Q(o),u=1/b(o),v=a-2*i*o+o*o;o-=s=(c*v+2*(o-i))/(2+v*u*u+2*(o-i)*c)}while(F(s)>B&&--f>0);var l=t*(c=Q(o)),h=Q(F(i)<F(o+1/c)?Y(l)*.5:br(l)*.5+N/4)/L(o);return[n?2*_r(n*h)/n:2*h,o]},e}function Bd(){return Te(lc).scale(131.215)}var en=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];en.forEach(function(r){r[1]*=1.0144});function bu(r,n){var e=pn(18,F(n)*36/N),t=Ee(e),i=e-t,a=(v=en[t])[0],o=v[1],f=(v=en[++t])[0],s=v[1],c=(v=en[pn(19,++t)])[0],u=v[1],v;return[r*(f+i*(c-a)/2+i*i*(c-2*f+a)/2),(n>0?G:-G)*(s+i*(u-o)/2+i*i*(u-2*s+o)/2)]}bu.invert=function(r,n){var e=n/G,t=e*90,i=pn(18,F(t/5)),a=ut(0,Ee(i));do{var o=en[a][1],f=en[a+1][1],s=en[pn(19,a+2)][1],c=s-o,u=s-2*f+o,v=2*(F(e)-f)/c,l=u/c,h=v*(1-l*v*(1-2*l*v));if(h>=0||a===1){t=(n>=0?5:-5)*(h+i);var g=50,p;do i=pn(18,F(t)/5),a=Ee(i),h=i-a,o=en[a][1],f=en[a+1][1],s=en[pn(19,a+2)][1],t-=(p=(n>=0?G:-G)*(f+h*(s-o)/2+h*h*(s-2*f+o)/2)-n)*mr;while(F(p)>_e&&--g>0);break}}while(--a>=0);var d=en[a][0],m=en[a+1][0],y=en[pn(19,a+2)][0];return[r/(m+h*(y-d)/2+h*h*(y-2*m+d)/2),t*or]};function Gd(){return U(bu).scale(152.63)}function Ud(r){function n(e,t){var i=b(t),a=(r-1)/(r-i*b(e));return[a*i*L(e),a*L(t)]}return n.invert=function(e,t){var i=e*e+t*t,a=q(i),o=(r-q(1-i*(r+1)/(r-1)))/((r-1)/a+a/(r-1));return[er(e*o,a*q(1-o*o)),a?Y(t*o/a):0]},n}function sc(r,n){var e=Ud(r);if(!n)return e;var t=b(n),i=L(n);function a(o,f){var s=e(o,f),c=s[1],u=c*i/(r-1)+t;return[s[0]*t/u,c/u]}return a.invert=function(o,f){var s=(r-1)/(r-1-f*i);return e.invert(s*o,s*f*t)},a}function Hd(){var r=2,n=0,e=Ur(sc),t=e(r,n);return t.distance=function(i){return arguments.length?e(r=+i,n):r},t.tilt=function(i){return arguments.length?e(r,n=i*or):n*mr},t.scale(432.147).clipAngle(br(1/r)*mr-1e-6)}var Xi=1e-4,fc=1e4,Du=-180,Iu=Du+Xi,cc=180,Ou=cc-Xi,Lu=-90,Nu=Lu+Xi,qu=90,Fu=qu-Xi;function jd(r){return r.length>0}function Yd(r){return Math.floor(r*fc)/fc}function vc(r){return r===Lu||r===qu?[0,r]:[Du,Yd(r)]}function zu(r){var n=r[0],e=r[1],t=!1;return n<=Iu?(n=Du,t=!0):n>=Ou&&(n=cc,t=!0),e<=Nu?(e=Lu,t=!0):e>=Fu&&(e=qu,t=!0),t?[n,e]:r}function hc(r){return r.map(zu)}function gc(r,n,e){for(var t=0,i=r.length;t<i;++t){var a=r[t].slice();e.push({index:-1,polygon:n,ring:a});for(var o=0,f=a.length;o<f;++o){var s=a[o],c=s[0],u=s[1];if(c<=Iu||c>=Ou||u<=Nu||u>=Fu){a[o]=zu(s);for(var v=o+1;v<f;++v){var l=a[v],h=l[0],g=l[1];if(h>Iu&&h<Ou&&g>Nu&&g<Fu)break}if(v===o+1)continue;if(o){var p={index:-1,polygon:n,ring:a.slice(0,o+1)};p.ring[p.ring.length-1]=vc(u),e[e.length-1]=p}else e.pop();if(v>=f)break;e.push({index:-1,polygon:n,ring:a=a.slice(v-1)}),a[0]=vc(a[0][1]),o=-1,f=a.length}}}}function pc(r){var n,e=r.length,t={},i={},a,o,f,s,c;for(n=0;n<e;++n){if(a=r[n],o=a.ring[0],s=a.ring[a.ring.length-1],o[0]===s[0]&&o[1]===s[1]){a.polygon.push(a.ring),r[n]=null;continue}a.index=n,t[o]=i[s]=a}for(n=0;n<e;++n)if(a=r[n],a){if(o=a.ring[0],s=a.ring[a.ring.length-1],f=i[o],c=t[s],delete t[o],delete i[s],o[0]===s[0]&&o[1]===s[1]){a.polygon.push(a.ring);continue}f?(delete i[o],delete t[f.ring[0]],f.ring.pop(),r[f.index]=null,a={index:-1,polygon:f.polygon,ring:f.ring.concat(a.ring)},f===c?a.polygon.push(a.ring):(a.index=e++,r.push(t[a.ring[0]]=i[a.ring[a.ring.length-1]]=a))):c?(delete t[s],delete i[c.ring[c.ring.length-1]],a.ring.pop(),a={index:e++,polygon:c.polygon,ring:a.ring.concat(c.ring)},r[c.index]=null,r.push(t[a.ring[0]]=i[a.ring[a.ring.length-1]]=a)):(a.ring.push(a.ring[0]),a.polygon.push(a.ring))}}function dc(r){var n={type:"Feature",geometry:Bu(r.geometry)};return r.id!=null&&(n.id=r.id),r.bbox!=null&&(n.bbox=r.bbox),r.properties!=null&&(n.properties=r.properties),n}function Bu(r){if(r==null)return r;var n,e,t,i;switch(r.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:r.geometries.map(Bu)};break;case"Point":n={type:"Point",coordinates:zu(r.coordinates)};break;case"MultiPoint":case"LineString":n={type:r.type,coordinates:hc(r.coordinates)};break;case"MultiLineString":n={type:"MultiLineString",coordinates:r.coordinates.map(hc)};break;case"Polygon":{var a=[];gc(r.coordinates,a,e=[]),pc(e),n={type:"Polygon",coordinates:a};break}case"MultiPolygon":{e=[],t=-1,i=r.coordinates.length;for(var o=new Array(i);++t<i;)gc(r.coordinates[t],o[t]=[],e);pc(e),n={type:"MultiPolygon",coordinates:o.filter(jd)};break}default:return r}return r.bbox!=null&&(n.bbox=r.bbox),n}function Xd(r){if(r==null)return r;switch(r.type){case"Feature":return dc(r);case"FeatureCollection":{var n={type:"FeatureCollection",features:r.features.map(dc)};return r.bbox!=null&&(n.bbox=r.bbox),n}default:return Bu(r)}}function Gu(r,n){var e=Q(n/2),t=L(Vr*e);return[r*(.74482-.34588*t*t),1.70711*e]}Gu.invert=function(r,n){var e=n/1.70711,t=L(Vr*e);return[r/(.74482-.34588*t*t),2*_r(e)]};function Vd(){return U(Gu).scale(146.153)}function yc(r,n,e){var t=gi(n,e),i=t(.5),a=de([-i[0],-i[1]])(n),o=t.distance/2,f=-Y(L(a[1]*or)/L(o)),s=[-i[0],-i[1],-(a[0]>0?N-f:f)*mr],c=U(r(o)).rotate(s),u=de(s),v=c.center;return delete c.rotate,c.center=function(l){return arguments.length?v(u(l)):u.invert(v())},c.clipAngle(90)}function mc(r){var n=b(r);function e(t,i){var a=at(t,i);return a[0]*=n,a}return e.invert=function(t,i){return at.invert(t/n,i)},e}function Jd(){return wc([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function wc(r,n){return yc(mc,r,n)}function Sc(r){if(!(r*=2))return Bn;var n=-r/2,e=-n,t=r*r,i=Q(e),a=.5/L(e);function o(f,s){var c=br(b(s)*b(f-n)),u=br(b(s)*b(f-e)),v=s<0?-1:1;return c*=c,u*=u,[(c-u)/(2*r),v*q(4*t*u-(t-c+u)*(t-c+u))/(2*r)]}return o.invert=function(f,s){var c=s*s,u=b(q(c+(l=f+n)*l)),v=b(q(c+(l=f+e)*l)),l,h;return[er(h=u-v,l=(u+v)*i),(s<0?-1:1)*br(q(l*l+h*h)*a)]},o}function Wd(){return Ec([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Ec(r,n){return yc(Sc,r,n)}function Uu(r,n){if(F(n)<B)return[r,0];var e=F(n/G),t=Y(e);if(F(r)<B||F(F(n)-G)<B)return[0,tr(n)*N*Q(t/2)];var i=b(t),a=F(N/r-r/N)/2,o=a*a,f=i/(e+i-1),s=f*(2/e-1),c=s*s,u=c+o,v=f-c,l=o+f;return[tr(r)*N*(a*v+q(o*v*v-u*(f*f-c)))/u,tr(n)*N*(s*l-a*q((o+1)*u-l*l))/u]}Uu.invert=function(r,n){if(F(n)<B)return[r,0];if(F(r)<B)return[0,G*L(2*_r(n/N))];var e=(r/=N)*r,t=(n/=N)*n,i=e+t,a=i*i,o=-F(n)*(1+i),f=o-2*t+e,s=-2*o+1+2*t+a,c=t/s+(2*f*f*f/(s*s*s)-9*o*f/(s*s))/27,u=(o-f*f/(3*s))/s,v=2*q(-u/3),l=br(3*c/(u*v))/3;return[N*(i-1+q(1+2*(e-t)+a))/(2*r),tr(n)*N*(-v*b(l+N/3)-f/(3*s))]};function Kd(){return U(Uu).scale(79.4183)}function Hu(r,n){if(F(n)<B)return[r,0];var e=F(n/G),t=Y(e);if(F(r)<B||F(F(n)-G)<B)return[0,tr(n)*N*Q(t/2)];var i=b(t),a=F(N/r-r/N)/2,o=a*a,f=i*(q(1+o)-a*i)/(1+o*e*e);return[tr(r)*N*f,tr(n)*N*q(1-f*(2*a+f))]}Hu.invert=function(r,n){if(!r)return[0,G*L(2*_r(n/N))];var e=F(r/N),t=(1-e*e-(n/=N)*n)/(2*e),i=t*t,a=q(i+1);return[tr(r)*N*(a-t),tr(n)*G*L(2*er(q((1-2*t*e)*(t+a)-e),q(a+t+e)))]};function Qd(){return U(Hu).scale(79.4183)}function ju(r,n){if(F(n)<B)return[r,0];var e=n/G,t=Y(e);if(F(r)<B||F(F(n)-G)<B)return[0,N*Q(t/2)];var i=(N/r-r/N)/2,a=e/(1+b(t));return[N*(tr(r)*q(i*i+1-a*a)-i),N*a]}ju.invert=function(r,n){if(!n)return[r,0];var e=n/N,t=(N*N*(1-e*e)-r*r)/(2*N*r);return[r?N*(tr(r)*q(t*t+1)-t):0,G*L(2*_r(e))]};function Zd(){return U(ju).scale(79.4183)}function Yu(r,n){if(!n)return[r,0];var e=F(n);if(!r||e===G)return[0,n];var t=e/G,i=t*t,a=(8*t-i*(i+2)-5)/(2*i*(t-1)),o=a*a,f=t*a,s=i+o+2*f,c=t+3*a,u=r/G,v=u+1/u,l=tr(F(r)-G)*q(v*v-4),h=l*l,g=s*(i+o*h-1)+(1-i)*(i*(c*c+4*o)+12*f*o+4*o*o),p=(l*(s+o-1)+2*q(g))/(4*s+h);return[tr(r)*G*p,tr(n)*G*q(1+l*F(p)-p*p)]}Yu.invert=function(r,n){var e;if(!r||!n)return[r,n];n/=N;var t=tr(r)*r/G,i=(t*t-1+4*n*n)/F(t),a=i*i,o=2*n,f=50;do{var s=o*o,c=(8*o-s*(s+2)-5)/(2*s*(o-1)),u=(3*o-s*o-10)/(2*s*o),v=c*c,l=o*c,h=o+c,g=h*h,p=o+3*c,d=g*(s+v*a-1)+(1-s)*(s*(p*p+4*v)+v*(12*l+4*v)),m=-2*h*(4*l*v+(1-4*s+3*s*s)*(1+u)+v*(-6+14*s-a+(-8+8*s-2*a)*u)+l*(-8+12*s+(-10+10*s-a)*u)),y=q(d),w=i*(g+v-1)+2*y-t*(4*g+a),E=i*(2*c*u+2*h*(1+u))+m/y-8*h*(i*(-1+v+g)+2*y)*(1+u)/(a+4*g);o-=e=w/E}while(e>B&&--f>0);return[tr(r)*(q(i*i+4)+i)*N/4,G*o]};function r5(){return U(Yu).scale(127.16)}var _c=4*N+3*q(3),Tc=2*q(2*N*q(3)/_c),Mc=jo(Tc*q(3)/N,Tc,_c/6);function n5(){return U(Mc).scale(176.84)}function Xu(r,n){return[r*q(1-3*n*n/(N*N)),n]}Xu.invert=function(r,n){return[r/q(1-3*n*n/(N*N)),n]};function e5(){return U(Xu).scale(152.63)}function Vu(r,n){var e=.90631*L(n),t=q(1-e*e),i=q(2/(1+t*b(r/=3)));return[2.66723*t*i*L(r),1.24104*e*i]}Vu.invert=function(r,n){var e=r/2.66723,t=n/1.24104,i=q(e*e+t*t),a=2*Y(i/2);return[3*er(r*Q(a),2.66723*i),i&&Y(n*L(a)/(1.24104*.90631*i))]};function t5(){return U(Vu).scale(172.632)}function Ju(r,n){var e=b(n),t=b(r)*e,i=1-t,a=b(r=er(L(r)*e,-L(n))),o=L(r);return e=q(1-t*t),[o*e-a*i,-a*e-o*i]}Ju.invert=function(r,n){var e=(r*r+n*n)/-2,t=q(-e*(2+e)),i=n*e+r*t,a=r*e-n*t,o=q(a*a+i*i);return[er(t*i,o*(1+e)),o?-Y(t*a/o):0]};function i5(){return U(Ju).rotate([0,-90,45]).scale(124.75).clipAngle(180-.001)}function Wu(r,n){var e=Pi(r,n);return[(e[0]+r/G)/2,(e[1]+n)/2]}Wu.invert=function(r,n){var e=r,t=n,i=25;do{var a=b(t),o=L(t),f=L(2*t),s=o*o,c=a*a,u=L(e),v=b(e/2),l=L(e/2),h=l*l,g=1-c*v*v,p=g?br(a*v)*q(d=1/g):d=0,d,m=.5*(2*p*a*l+e/G)-r,y=.5*(p*o+t)-n,w=.5*d*(c*h+p*a*v*s)+.5/G,E=d*(u*f/4-p*o*l),T=.125*d*(f*l-p*o*c*u),M=.5*d*(s*v+p*h*a)+.5,C=E*T-M*w,R=(y*E-m*M)/C,x=(m*T-y*w)/C;e-=R,t-=x}while((F(R)>B||F(x)>B)&&--i>0);return[e,t]};function a5(){return U(Wu).scale(158.837)}var o5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoAiry:qp,geoAiryRaw:wf,geoAitoff:Fp,geoAitoffRaw:Pi,geoArmadillo:zp,geoArmadilloRaw:Sf,geoAugust:Bp,geoAugustRaw:Ri,geoBaker:Up,geoBakerRaw:Ho,geoBerghaus:Hp,geoBerghausRaw:Ef,geoBoggs:Yp,geoBoggsRaw:Ci,geoBonne:Vp,geoBonneRaw:Mf,geoBottomley:Jp,geoBottomleyRaw:$f,geoBromley:Wp,geoBromleyRaw:Pf,geoChamberlin:Cf,geoChamberlinRaw:xf,geoChamberlinAfrica:Qp,geoCollignon:Zp,geoCollignonRaw:$n,geoCraig:r2,geoCraigRaw:kf,geoCraster:n2,geoCrasterRaw:Vo,geoCylindricalEqualArea:e2,geoCylindricalEqualAreaRaw:Jo,geoCylindricalStereographic:t2,geoCylindricalStereographicRaw:Af,geoEckert1:i2,geoEckert1Raw:Wo,geoEckert2:a2,geoEckert2Raw:Ko,geoEckert3:o2,geoEckert3Raw:Qo,geoEckert4:u2,geoEckert4Raw:Zo,geoEckert5:l2,geoEckert5Raw:ru,geoEckert6:s2,geoEckert6Raw:nu,geoEisenlohr:f2,geoEisenlohrRaw:eu,geoFahey:c2,geoFaheyRaw:tu,geoFoucaut:v2,geoFoucautRaw:iu,geoGilbert:h2,geoGingery:g2,geoGingeryRaw:If,geoGinzburg4:p2,geoGinzburg4Raw:Lf,geoGinzburg5:d2,geoGinzburg5Raw:Nf,geoGinzburg6:y2,geoGinzburg6Raw:qf,geoGinzburg8:m2,geoGinzburg8Raw:au,geoGinzburg9:w2,geoGinzburg9Raw:Ff,geoGringorten:_2,geoGringortenRaw:Oi,geoGuyou:R2,geoGuyouRaw:Li,geoHammer:x2,geoHammerRaw:Bf,geoHammerRetroazimuthal:C2,geoHammerRetroazimuthalRaw:Uf,geoHealpix:A2,geoHealpixRaw:jf,geoHill:b2,geoHillRaw:Yf,geoHomolosine:I2,geoHomolosineRaw:Fi,geoInterrupt:re,geoInterruptedBoggs:q2,geoInterruptedHomolosine:z2,geoInterruptedMollweide:G2,geoInterruptedMollweideHemispheres:H2,geoInterruptedSinuMollweide:Y2,geoInterruptedSinusoidal:V2,geoKavrayskiy7:J2,geoKavrayskiy7Raw:su,geoLagrange:W2,geoLagrangeRaw:Vf,geoLarrivee:K2,geoLarriveeRaw:cu,geoLaskowski:Q2,geoLaskowskiRaw:vu,geoLittrow:Z2,geoLittrowRaw:hu,geoLoximuthal:rd,geoLoximuthalRaw:Jf,geoMiller:nd,geoMillerRaw:gu,geoModifiedStereographic:$e,geoModifiedStereographicRaw:Wf,geoModifiedStereographicAlaska:ud,geoModifiedStereographicGs48:ld,geoModifiedStereographicGs50:sd,geoModifiedStereographicMiller:fd,geoModifiedStereographicLee:cd,geoMollweide:jp,geoMollweideRaw:Gn,geoMtFlatPolarParabolic:vd,geoMtFlatPolarParabolicRaw:pu,geoMtFlatPolarQuartic:hd,geoMtFlatPolarQuarticRaw:du,geoMtFlatPolarSinusoidal:gd,geoMtFlatPolarSinusoidalRaw:yu,geoNaturalEarth:pd,geoNaturalEarthRaw:mu,geoNaturalEarth2:dd,geoNaturalEarth2Raw:wu,geoNellHammer:yd,geoNellHammerRaw:Su,geoPatterson:_d,geoPattersonRaw:$u,geoPolyconic:Td,geoPolyconicRaw:Pu,geoPolyhedral:Hi,geoPolyhedralButterfly:kd,geoPolyhedralCollignon:Ad,geoPolyhedralWaterman:bd,geoProject:Ld,geoGringortenQuincuncial:Fd,geoPeirceQuincuncial:uc,geoPierceQuincuncial:uc,geoQuantize:zd,geoQuincuncial:Au,geoRectangularPolyconic:Bd,geoRectangularPolyconicRaw:lc,geoRobinson:Gd,geoRobinsonRaw:bu,geoSatellite:Hd,geoSatelliteRaw:sc,geoSinuMollweide:D2,geoSinuMollweideRaw:qi,geoSinusoidal:Xp,geoSinusoidalRaw:An,geoStitch:Xd,geoTimes:Vd,geoTimesRaw:Gu,geoTwoPointAzimuthal:wc,geoTwoPointAzimuthalRaw:mc,geoTwoPointAzimuthalUsa:Jd,geoTwoPointEquidistant:Ec,geoTwoPointEquidistantRaw:Sc,geoTwoPointEquidistantUsa:Wd,geoVanDerGrinten:Kd,geoVanDerGrintenRaw:Uu,geoVanDerGrinten2:Qd,geoVanDerGrinten2Raw:Hu,geoVanDerGrinten3:Zd,geoVanDerGrinten3Raw:ju,geoVanDerGrinten4:r5,geoVanDerGrinten4Raw:Yu,geoWagner4:n5,geoWagner4Raw:Mc,geoWagner6:e5,geoWagner6Raw:Xu,geoWagner7:t5,geoWagner7Raw:Vu,geoWiechel:i5,geoWiechelRaw:Ju,geoWinkel3:a5,geoWinkel3Raw:Wu}),$c=Sn(o5),Hn={},Ku={exports:{}};/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */(function(r){(function(n){function e(){}var t=e.prototype,i=n.EventEmitter;function a(s,c){for(var u=s.length;u--;)if(s[u].listener===c)return u;return-1}function o(s){return function(){return this[s].apply(this,arguments)}}t.getListeners=function(c){var u=this._getEvents(),v,l;if(c instanceof RegExp){v={};for(l in u)u.hasOwnProperty(l)&&c.test(l)&&(v[l]=u[l])}else v=u[c]||(u[c]=[]);return v},t.flattenListeners=function(c){var u=[],v;for(v=0;v<c.length;v+=1)u.push(c[v].listener);return u},t.getListenersAsObject=function(c){var u=this.getListeners(c),v;return u instanceof Array&&(v={},v[c]=u),v||u};function f(s){return typeof s=="function"||s instanceof RegExp?!0:s&&typeof s=="object"?f(s.listener):!1}t.addListener=function(c,u){if(!f(u))throw new TypeError("listener must be a function");var v=this.getListenersAsObject(c),l=typeof u=="object",h;for(h in v)v.hasOwnProperty(h)&&a(v[h],u)===-1&&v[h].push(l?u:{listener:u,once:!1});return this},t.on=o("addListener"),t.addOnceListener=function(c,u){return this.addListener(c,{listener:u,once:!0})},t.once=o("addOnceListener"),t.defineEvent=function(c){return this.getListeners(c),this},t.defineEvents=function(c){for(var u=0;u<c.length;u+=1)this.defineEvent(c[u]);return this},t.removeListener=function(c,u){var v=this.getListenersAsObject(c),l,h;for(h in v)v.hasOwnProperty(h)&&(l=a(v[h],u),l!==-1&&v[h].splice(l,1));return this},t.off=o("removeListener"),t.addListeners=function(c,u){return this.manipulateListeners(!1,c,u)},t.removeListeners=function(c,u){return this.manipulateListeners(!0,c,u)},t.manipulateListeners=function(c,u,v){var l,h,g=c?this.removeListener:this.addListener,p=c?this.removeListeners:this.addListeners;if(typeof u=="object"&&!(u instanceof RegExp))for(l in u)u.hasOwnProperty(l)&&(h=u[l])&&(typeof h=="function"?g.call(this,l,h):p.call(this,l,h));else for(l=v.length;l--;)g.call(this,u,v[l]);return this},t.removeEvent=function(c){var u=typeof c,v=this._getEvents(),l;if(u==="string")delete v[c];else if(c instanceof RegExp)for(l in v)v.hasOwnProperty(l)&&c.test(l)&&delete v[l];else delete this._events;return this},t.removeAllListeners=o("removeEvent"),t.emitEvent=function(c,u){var v=this.getListenersAsObject(c),l,h,g,p,d;for(p in v)if(v.hasOwnProperty(p))for(l=v[p].slice(0),g=0;g<l.length;g++)h=l[g],h.once===!0&&this.removeListener(c,h.listener),d=h.listener.apply(this,u||[]),d===this._getOnceReturnValue()&&this.removeListener(c,h.listener);return this},t.trigger=o("emitEvent"),t.emit=function(c){var u=Array.prototype.slice.call(arguments,1);return this.emitEvent(c,u)},t.setOnceReturnValue=function(c){return this._onceReturnValue=c,this},t._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=i,e},r.exports?r.exports=e:n.EventEmitter=e})(typeof window!="undefined"?window:V0||{})})(Ku);Object.defineProperty(Hn,"__esModule",{value:!0});Hn.View=void 0;var Pc=nr.exports,u5=Pc.__importDefault(Ku.exports),Dr=K;function l5(r){var n={};return Dr.forIn(r,function(e,t){Dr.isObject(e)&&e.isView?n[t]=e:Dr.isArray(e)?n[t]=e.concat([]):Dr.isPlainObject(e)?n[t]=Dr.clone(e):n[t]=e}),n}var s5=function(r){Pc.__extends(n,r);function n(e,t){var i=r.call(this)||this;if(i.isView=!0,i.isDataView=!0,i.watchingStates=null,i.dataType="table",i.transforms=[],i.origin=[],i.rows=[],e&&e.isDataSet?i.dataSet=e:(i.dataSet=null,t=e),i.loose=!i.dataSet,t&&(i.watchingStates=t.watchingStates),!i.loose){var a=i.watchingStates;e.on("statechange",function(o){Dr.isArray(a)?a.indexOf(o)>-1&&i._reExecute():i._reExecute()})}return i}return n.prototype._parseStateExpression=function(e){var t=this.dataSet;if(t!==null){var i=/^\$state\.(\w+)/.exec(e);return i?t.state[i[1]]:e}},n.prototype._preparseOptions=function(e){var t=this,i=l5(e);return this.loose||Dr.forIn(i,function(a,o){Dr.isString(a)&&/^\$state\./.test(a)&&(i[o]=t._parseStateExpression(a))}),i},n.prototype._prepareSource=function(e,t){if(this._source={source:e,options:t},t){var i=this._preparseOptions(t);this.origin=n.DataSet.getConnector(i.type)(e,i,this)}else if(e instanceof n||Dr.isString(e))this.origin=n.DataSet.getConnector("default")(e,this.dataSet);else if(Dr.isArray(e))this.origin=e;else if(Dr.isObject(e)&&e.type){var i=this._preparseOptions(e);this.origin=n.DataSet.getConnector(i.type)(i,this)}else throw new TypeError("Invalid source");return this.rows=Dr.deepMix([],this.origin),this},n.prototype.source=function(e,t){return this._prepareSource(e,t)._reExecuteTransforms(),this.trigger("change",[]),this},n.prototype.transform=function(e){return e&&e.type&&(this.transforms.push(e),this._executeTransform(e)),this},n.prototype._executeTransform=function(e){e=this._preparseOptions(e);var t=n.DataSet.getTransform(e.type);t(this,e)},n.prototype._reExecuteTransforms=function(){var e=this;this.transforms.forEach(function(t){e._executeTransform(t)})},n.prototype.addRow=function(e){this.rows.push(e)},n.prototype.removeRow=function(e){this.rows.splice(e,1)},n.prototype.updateRow=function(e,t){Dr.assign(this.rows[e],t)},n.prototype.findRows=function(e){return this.rows.filter(function(t){return Dr.isMatch(t,e)})},n.prototype.findRow=function(e){return Dr.find(this.rows,e)},n.prototype.getColumnNames=function(){var e=this.rows[0];return e?Dr.keys(e):[]},n.prototype.getColumnName=function(e){return this.getColumnNames()[e]},n.prototype.getColumnIndex=function(e){var t=this.getColumnNames();return t.indexOf(e)},n.prototype.getColumn=function(e){return this.rows.map(function(t){return t[e]})},n.prototype.getColumnData=function(e){return this.getColumn(e)},n.prototype.getSubset=function(e,t,i){for(var a=[],o=e;o<=t;o++)a.push(Dr.pick(this.rows[o],i));return a},n.prototype.toString=function(e){return e===void 0&&(e=!1),e?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},n.prototype._reExecute=function(){var e=this._source,t=e.source,i=e.options;this._prepareSource(t,i),this._reExecuteTransforms(),this.trigger("change",[])},n}(u5.default);Hn.View=s5;var Vi={},A=1e-6;class f5{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let t=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=n+a,f=Math.abs(n)<Math.abs(a)?n-(o-a):a-(o-n);f&&(e[t++]=f),n=o}return e[t]=n,this._n=t+1,this}valueOf(){const n=this._partials;let e=this._n,t,i,a,o=0;if(e>0){for(o=n[--e];e>0&&(t=o,i=n[--e],o=t+i,a=i-(o-t),!a););e>0&&(a<0&&n[e-1]<0||a>0&&n[e-1]>0)&&(i=a*2,t=o+i,i==t-o&&(o=t))}return o}}function*c5(r){for(const n of r)yield*n}function Rc(r){return Array.from(c5(r))}var lr=1e-6,v5=1e-12,rr=Math.PI,Mr=rr/2,xc=rr/4,cn=rr*2,Hr=180/rr,$r=rr/180,wr=Math.abs,st=Math.atan,bn=Math.atan2,sr=Math.cos,Cc=Math.exp,Ji=Math.log,Qu=Math.pow,ur=Math.sin,vn=Math.sign||function(r){return r>0?1:r<0?-1:0},Dn=Math.sqrt,Zu=Math.tan;function h5(r){return r>1?0:r<-1?rr:Math.acos(r)}function jn(r){return r>1?Mr:r<-1?-Mr:Math.asin(r)}function ft(){}function Wi(r,n){r&&Ac.hasOwnProperty(r.type)&&Ac[r.type](r,n)}var kc={Feature:function(r,n){Wi(r.geometry,n)},FeatureCollection:function(r,n){for(var e=r.features,t=-1,i=e.length;++t<i;)Wi(e[t].geometry,n)}},Ac={Sphere:function(r,n){n.sphere()},Point:function(r,n){r=r.coordinates,n.point(r[0],r[1],r[2])},MultiPoint:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)r=e[t],n.point(r[0],r[1],r[2])},LineString:function(r,n){rl(r.coordinates,n,0)},MultiLineString:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)rl(e[t],n,0)},Polygon:function(r,n){bc(r.coordinates,n)},MultiPolygon:function(r,n){for(var e=r.coordinates,t=-1,i=e.length;++t<i;)bc(e[t],n)},GeometryCollection:function(r,n){for(var e=r.geometries,t=-1,i=e.length;++t<i;)Wi(e[t],n)}};function rl(r,n,e){var t=-1,i=r.length-e,a;for(n.lineStart();++t<i;)a=r[t],n.point(a[0],a[1],a[2]);n.lineEnd()}function bc(r,n){var e=-1,t=r.length;for(n.polygonStart();++e<t;)rl(r[e],n,1);n.polygonEnd()}function Dc(r,n){r&&kc.hasOwnProperty(r.type)?kc[r.type](r,n):Wi(r,n)}function nl(r){return[bn(r[1],r[0]),jn(r[2])]}function Pe(r){var n=r[0],e=r[1],t=sr(e);return[t*sr(n),t*ur(n),ur(e)]}function Ki(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]}function Qi(r,n){return[r[1]*n[2]-r[2]*n[1],r[2]*n[0]-r[0]*n[2],r[0]*n[1]-r[1]*n[0]]}function el(r,n){r[0]+=n[0],r[1]+=n[1],r[2]+=n[2]}function Zi(r,n){return[r[0]*n,r[1]*n,r[2]*n]}function tl(r){var n=Dn(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=n,r[1]/=n,r[2]/=n}function il(r,n){function e(t,i){return t=r(t,i),n(t[0],t[1])}return r.invert&&n.invert&&(e.invert=function(t,i){return t=n.invert(t,i),t&&r.invert(t[0],t[1])}),e}function al(r,n){return[wr(r)>rr?r+Math.round(-r/cn)*cn:r,n]}al.invert=al;function Ic(r,n,e){return(r%=cn)?n||e?il(Lc(r),Nc(n,e)):Lc(r):n||e?Nc(n,e):al}function Oc(r){return function(n,e){return n+=r,[n>rr?n-cn:n<-rr?n+cn:n,e]}}function Lc(r){var n=Oc(r);return n.invert=Oc(-r),n}function Nc(r,n){var e=sr(r),t=ur(r),i=sr(n),a=ur(n);function o(f,s){var c=sr(s),u=sr(f)*c,v=ur(f)*c,l=ur(s),h=l*e+u*t;return[bn(v*i-h*a,u*e-l*t),jn(h*i+v*a)]}return o.invert=function(f,s){var c=sr(s),u=sr(f)*c,v=ur(f)*c,l=ur(s),h=l*i-v*a;return[bn(v*i+l*a,u*e+h*t),jn(h*e-u*t)]},o}function g5(r){r=Ic(r[0]*$r,r[1]*$r,r.length>2?r[2]*$r:0);function n(e){return e=r(e[0]*$r,e[1]*$r),e[0]*=Hr,e[1]*=Hr,e}return n.invert=function(e){return e=r.invert(e[0]*$r,e[1]*$r),e[0]*=Hr,e[1]*=Hr,e},n}function p5(r,n,e,t,i,a){if(!!e){var o=sr(n),f=ur(n),s=t*e;i==null?(i=n+t*cn,a=n-s/2):(i=qc(o,i),a=qc(o,a),(t>0?i<a:i>a)&&(i+=t*cn));for(var c,u=i;t>0?u>a:u<a;u-=s)c=nl([o,-f*sr(u),-f*ur(u)]),r.point(c[0],c[1])}}function qc(r,n){n=Pe(n),n[0]-=r,tl(n);var e=h5(-n[1]);return((-n[2]<0?-e:e)+cn-lr)%cn}function Fc(){var r=[],n;return{point:function(e,t,i){n.push([e,t,i])},lineStart:function(){r.push(n=[])},lineEnd:ft,rejoin:function(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function(){var e=r;return r=[],n=null,e}}}function ra(r,n){return wr(r[0]-n[0])<lr&&wr(r[1]-n[1])<lr}function na(r,n,e,t){this.x=r,this.z=n,this.o=e,this.e=t,this.v=!1,this.n=this.p=null}function zc(r,n,e,t,i){var a=[],o=[],f,s;if(r.forEach(function(g){if(!((p=g.length-1)<=0)){var p,d=g[0],m=g[p],y;if(ra(d,m)){if(!d[2]&&!m[2]){for(i.lineStart(),f=0;f<p;++f)i.point((d=g[f])[0],d[1]);i.lineEnd();return}m[0]+=2*lr}a.push(y=new na(d,g,null,!0)),o.push(y.o=new na(d,null,y,!1)),a.push(y=new na(m,g,null,!1)),o.push(y.o=new na(m,null,y,!0))}}),!!a.length){for(o.sort(n),Bc(a),Bc(o),f=0,s=o.length;f<s;++f)o[f].e=e=!e;for(var c=a[0],u,v;;){for(var l=c,h=!0;l.v;)if((l=l.n)===c)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,s=u.length;f<s;++f)i.point((v=u[f])[0],v[1]);else t(l.x,l.n.x,1,i);l=l.n}else{if(h)for(u=l.p.z,f=u.length-1;f>=0;--f)i.point((v=u[f])[0],v[1]);else t(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,h=!h}while(!l.v);i.lineEnd()}}}function Bc(r){if(!!(n=r.length)){for(var n,e=0,t=r[0],i;++e<n;)t.n=i=r[e],i.p=t,t=i;t.n=i=r[0],i.p=t}}function ol(r){return wr(r[0])<=rr?r[0]:vn(r[0])*((wr(r[0])+rr)%cn-rr)}function d5(r,n){var e=ol(n),t=n[1],i=ur(t),a=[ur(e),-sr(e),0],o=0,f=0,s=new f5;i===1?t=Mr+lr:i===-1&&(t=-Mr-lr);for(var c=0,u=r.length;c<u;++c)if(!!(l=(v=r[c]).length))for(var v,l,h=v[l-1],g=ol(h),p=h[1]/2+xc,d=ur(p),m=sr(p),y=0;y<l;++y,g=E,d=M,m=C,h=w){var w=v[y],E=ol(w),T=w[1]/2+xc,M=ur(T),C=sr(T),R=E-g,x=R>=0?1:-1,O=x*R,k=O>rr,D=d*M;if(s.add(bn(D*x*ur(O),m*C+D*sr(O))),o+=k?R+x*cn:R,k^g>=e^E>=e){var z=Qi(Pe(h),Pe(w));tl(z);var _=Qi(a,z);tl(_);var S=(k^R>=0?-1:1)*jn(_[2]);(t>S||t===S&&(z[0]||z[1]))&&(f+=k^R>=0?1:-1)}}return(o<-lr||o<lr&&s<-v5)^f&1}function Gc(r,n,e,t){return function(i){var a=n(i),o=Fc(),f=n(o),s=!1,c,u,v,l={point:h,lineStart:p,lineEnd:d,polygonStart:function(){l.point=m,l.lineStart=y,l.lineEnd=w,u=[],c=[]},polygonEnd:function(){l.point=h,l.lineStart=p,l.lineEnd=d,u=Rc(u);var E=d5(c,t);u.length?(s||(i.polygonStart(),s=!0),zc(u,m5,E,e,i)):E&&(s||(i.polygonStart(),s=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(E,T){r(E,T)&&i.point(E,T)}function g(E,T){a.point(E,T)}function p(){l.point=g,a.lineStart()}function d(){l.point=h,a.lineEnd()}function m(E,T){v.push([E,T]),f.point(E,T)}function y(){f.lineStart(),v=[]}function w(){m(v[0][0],v[0][1]),f.lineEnd();var E=f.clean(),T=o.result(),M,C=T.length,R,x,O;if(v.pop(),c.push(v),v=null,!!C){if(E&1){if(x=T[0],(R=x.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),M=0;M<R;++M)i.point((O=x[M])[0],O[1]);i.lineEnd()}return}C>1&&E&2&&T.push(T.pop().concat(T.shift())),u.push(T.filter(y5))}}return l}}function y5(r){return r.length>1}function m5(r,n){return((r=r.x)[0]<0?r[1]-Mr-lr:Mr-r[1])-((n=n.x)[0]<0?n[1]-Mr-lr:Mr-n[1])}var Uc=Gc(function(){return!0},w5,E5,[-rr,-Mr]);function w5(r){var n=NaN,e=NaN,t=NaN,i;return{lineStart:function(){r.lineStart(),i=1},point:function(a,o){var f=a>0?rr:-rr,s=wr(a-n);wr(s-rr)<lr?(r.point(n,e=(e+o)/2>0?Mr:-Mr),r.point(t,e),r.lineEnd(),r.lineStart(),r.point(f,e),r.point(a,e),i=0):t!==f&&s>=rr&&(wr(n-t)<lr&&(n-=t*lr),wr(a-f)<lr&&(a-=f*lr),e=S5(n,e,a,o),r.point(t,e),r.lineEnd(),r.lineStart(),r.point(f,e),i=0),r.point(n=a,e=o),t=f},lineEnd:function(){r.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function S5(r,n,e,t){var i,a,o=ur(r-e);return wr(o)>lr?st((ur(n)*(a=sr(t))*ur(e)-ur(t)*(i=sr(n))*ur(r))/(i*a*o)):(n+t)/2}function E5(r,n,e,t){var i;if(r==null)i=e*Mr,t.point(-rr,i),t.point(0,i),t.point(rr,i),t.point(rr,0),t.point(rr,-i),t.point(0,-i),t.point(-rr,-i),t.point(-rr,0),t.point(-rr,i);else if(wr(r[0]-n[0])>lr){var a=r[0]<n[0]?rr:-rr;i=e*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(n[0],n[1])}function _5(r){var n=sr(r),e=6*$r,t=n>0,i=wr(n)>lr;function a(u,v,l,h){p5(h,r,e,l,u,v)}function o(u,v){return sr(u)*sr(v)>n}function f(u){var v,l,h,g,p;return{lineStart:function(){g=h=!1,p=1},point:function(d,m){var y=[d,m],w,E=o(d,m),T=t?E?0:c(d,m):E?c(d+(d<0?rr:-rr),m):0;if(!v&&(g=h=E)&&u.lineStart(),E!==h&&(w=s(v,y),(!w||ra(v,w)||ra(y,w))&&(y[2]=1)),E!==h)p=0,E?(u.lineStart(),w=s(y,v),u.point(w[0],w[1])):(w=s(v,y),u.point(w[0],w[1],2),u.lineEnd()),v=w;else if(i&&v&&t^E){var M;!(T&l)&&(M=s(y,v,!0))&&(p=0,t?(u.lineStart(),u.point(M[0][0],M[0][1]),u.point(M[1][0],M[1][1]),u.lineEnd()):(u.point(M[1][0],M[1][1]),u.lineEnd(),u.lineStart(),u.point(M[0][0],M[0][1],3)))}E&&(!v||!ra(v,y))&&u.point(y[0],y[1]),v=y,h=E,l=T},lineEnd:function(){h&&u.lineEnd(),v=null},clean:function(){return p|(g&&h)<<1}}}function s(u,v,l){var h=Pe(u),g=Pe(v),p=[1,0,0],d=Qi(h,g),m=Ki(d,d),y=d[0],w=m-y*y;if(!w)return!l&&u;var E=n*m/w,T=-n*y/w,M=Qi(p,d),C=Zi(p,E),R=Zi(d,T);el(C,R);var x=M,O=Ki(C,x),k=Ki(x,x),D=O*O-k*(Ki(C,C)-1);if(!(D<0)){var z=Dn(D),_=Zi(x,(-O-z)/k);if(el(_,C),_=nl(_),!l)return _;var S=u[0],$=v[0],P=u[1],I=v[1],J;$<S&&(J=S,S=$,$=J);var gr=$-S,Z=wr(gr-rr)<lr,ir=Z||gr<lr;if(!Z&&I<P&&(J=P,P=I,I=J),ir?Z?P+I>0^_[1]<(wr(_[0]-S)<lr?P:I):P<=_[1]&&_[1]<=I:gr>rr^(S<=_[0]&&_[0]<=$)){var pr=Zi(x,(-O+z)/k);return el(pr,C),[_,nl(pr)]}}}function c(u,v){var l=t?r:rr-r,h=0;return u<-l?h|=1:u>l&&(h|=2),v<-l?h|=4:v>l&&(h|=8),h}return Gc(o,f,a,t?[0,-r]:[-rr,r-rr])}function T5(r,n,e,t,i,a){var o=r[0],f=r[1],s=n[0],c=n[1],u=0,v=1,l=s-o,h=c-f,g;if(g=e-o,!(!l&&g>0)){if(g/=l,l<0){if(g<u)return;g<v&&(v=g)}else if(l>0){if(g>v)return;g>u&&(u=g)}if(g=i-o,!(!l&&g<0)){if(g/=l,l<0){if(g>v)return;g>u&&(u=g)}else if(l>0){if(g<u)return;g<v&&(v=g)}if(g=t-f,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<v&&(v=g)}else if(h>0){if(g>v)return;g>u&&(u=g)}if(g=a-f,!(!h&&g<0)){if(g/=h,h<0){if(g>v)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<v&&(v=g)}return u>0&&(r[0]=o+u*l,r[1]=f+u*h),v<1&&(n[0]=o+v*l,n[1]=f+v*h),!0}}}}}var ct=1e9,ea=-ct;function M5(r,n,e,t){function i(c,u){return r<=c&&c<=e&&n<=u&&u<=t}function a(c,u,v,l){var h=0,g=0;if(c==null||(h=o(c,v))!==(g=o(u,v))||s(c,u)<0^v>0)do l.point(h===0||h===3?r:e,h>1?t:n);while((h=(h+v+4)%4)!==g);else l.point(u[0],u[1])}function o(c,u){return wr(c[0]-r)<lr?u>0?0:3:wr(c[0]-e)<lr?u>0?2:1:wr(c[1]-n)<lr?u>0?1:0:u>0?3:2}function f(c,u){return s(c.x,u.x)}function s(c,u){var v=o(c,1),l=o(u,1);return v!==l?v-l:v===0?u[1]-c[1]:v===1?c[0]-u[0]:v===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,v=Fc(),l,h,g,p,d,m,y,w,E,T,M,C={point:R,lineStart:D,lineEnd:z,polygonStart:O,polygonEnd:k};function R(S,$){i(S,$)&&u.point(S,$)}function x(){for(var S=0,$=0,P=h.length;$<P;++$)for(var I=h[$],J=1,gr=I.length,Z=I[0],ir,pr,Ar=Z[0],Ir=Z[1];J<gr;++J)ir=Ar,pr=Ir,Z=I[J],Ar=Z[0],Ir=Z[1],pr<=t?Ir>t&&(Ar-ir)*(t-pr)>(Ir-pr)*(r-ir)&&++S:Ir<=t&&(Ar-ir)*(t-pr)<(Ir-pr)*(r-ir)&&--S;return S}function O(){u=v,l=[],h=[],M=!0}function k(){var S=x(),$=M&&S,P=(l=Rc(l)).length;($||P)&&(c.polygonStart(),$&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),P&&zc(l,f,S,a,c),c.polygonEnd()),u=c,l=h=g=null}function D(){C.point=_,h&&h.push(g=[]),T=!0,E=!1,y=w=NaN}function z(){l&&(_(p,d),m&&E&&v.rejoin(),l.push(v.result())),C.point=R,E&&u.lineEnd()}function _(S,$){var P=i(S,$);if(h&&g.push([S,$]),T)p=S,d=$,m=P,T=!1,P&&(u.lineStart(),u.point(S,$));else if(P&&E)u.point(S,$);else{var I=[y=Math.max(ea,Math.min(ct,y)),w=Math.max(ea,Math.min(ct,w))],J=[S=Math.max(ea,Math.min(ct,S)),$=Math.max(ea,Math.min(ct,$))];T5(I,J,r,n,e,t)?(E||(u.lineStart(),u.point(I[0],I[1])),u.point(J[0],J[1]),P||u.lineEnd(),M=!1):P&&(u.lineStart(),u.point(S,$),M=!1)}y=S,w=$,E=P}return C}}var Hc=r=>r,Re=1/0,ta=Re,vt=-Re,ia=vt,$5={point:P5,lineStart:ft,lineEnd:ft,polygonStart:ft,polygonEnd:ft,result:function(){var r=[[Re,ta],[vt,ia]];return vt=ia=-(ta=Re=1/0),r}};function P5(r,n){r<Re&&(Re=r),r>vt&&(vt=r),n<ta&&(ta=n),n>ia&&(ia=n)}var jc=$5;function ul(r){return function(n){var e=new ll;for(var t in r)e[t]=r[t];return e.stream=n,e}}function ll(){}ll.prototype={constructor:ll,point:function(r,n){this.stream.point(r,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function sl(r,n,e){var t=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),t!=null&&r.clipExtent(null),Dc(e,r.stream(jc)),n(jc.result()),t!=null&&r.clipExtent(t),r}function Yc(r,n,e){return sl(r,function(t){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=Math.min(i/(t[1][0]-t[0][0]),a/(t[1][1]-t[0][1])),f=+n[0][0]+(i-o*(t[1][0]+t[0][0]))/2,s=+n[0][1]+(a-o*(t[1][1]+t[0][1]))/2;r.scale(150*o).translate([f,s])},e)}function R5(r,n,e){return Yc(r,[[0,0],n],e)}function x5(r,n,e){return sl(r,function(t){var i=+n,a=i/(t[1][0]-t[0][0]),o=(i-a*(t[1][0]+t[0][0]))/2,f=-a*t[0][1];r.scale(150*a).translate([o,f])},e)}function C5(r,n,e){return sl(r,function(t){var i=+n,a=i/(t[1][1]-t[0][1]),o=-a*t[0][0],f=(i-a*(t[1][1]+t[0][1]))/2;r.scale(150*a).translate([o,f])},e)}var Xc=16,k5=sr(30*$r);function Vc(r,n){return+n?b5(r,n):A5(r)}function A5(r){return ul({point:function(n,e){n=r(n,e),this.stream.point(n[0],n[1])}})}function b5(r,n){function e(t,i,a,o,f,s,c,u,v,l,h,g,p,d){var m=c-t,y=u-i,w=m*m+y*y;if(w>4*n&&p--){var E=o+l,T=f+h,M=s+g,C=Dn(E*E+T*T+M*M),R=jn(M/=C),x=wr(wr(M)-1)<lr||wr(a-v)<lr?(a+v)/2:bn(T,E),O=r(x,R),k=O[0],D=O[1],z=k-t,_=D-i,S=y*z-m*_;(S*S/w>n||wr((m*z+y*_)/w-.5)>.3||o*l+f*h+s*g<k5)&&(e(t,i,a,o,f,s,k,D,x,E/=C,T/=C,M,p,d),d.point(k,D),e(k,D,x,E,T,M,c,u,v,l,h,g,p,d))}}return function(t){var i,a,o,f,s,c,u,v,l,h,g,p,d={point:m,lineStart:y,lineEnd:E,polygonStart:function(){t.polygonStart(),d.lineStart=T},polygonEnd:function(){t.polygonEnd(),d.lineStart=y}};function m(R,x){R=r(R,x),t.point(R[0],R[1])}function y(){v=NaN,d.point=w,t.lineStart()}function w(R,x){var O=Pe([R,x]),k=r(R,x);e(v,l,u,h,g,p,v=k[0],l=k[1],u=R,h=O[0],g=O[1],p=O[2],Xc,t),t.point(v,l)}function E(){d.point=m,t.lineEnd()}function T(){y(),d.point=M,d.lineEnd=C}function M(R,x){w(i=R,x),a=v,o=l,f=h,s=g,c=p,d.point=w}function C(){e(v,l,u,h,g,p,a,o,i,f,s,c,Xc,t),d.lineEnd=E,E()}return d}}var D5=ul({point:function(r,n){this.stream.point(r*$r,n*$r)}});function I5(r){return ul({point:function(n,e){var t=r(n,e);return this.stream.point(t[0],t[1])}})}function O5(r,n,e,t,i){function a(o,f){return o*=t,f*=i,[n+r*o,e-r*f]}return a.invert=function(o,f){return[(o-n)/r*t,(e-f)/r*i]},a}function Jc(r,n,e,t,i,a){if(!a)return O5(r,n,e,t,i);var o=sr(a),f=ur(a),s=o*r,c=f*r,u=o/r,v=f/r,l=(f*e-o*n)/r,h=(f*n+o*e)/r;function g(p,d){return p*=t,d*=i,[s*p-c*d+n,e-c*p-s*d]}return g.invert=function(p,d){return[t*(u*p-v*d+l),i*(h-v*p-u*d)]},g}function fl(r){return Wc(function(){return r})()}function Wc(r){var n,e=150,t=480,i=250,a=0,o=0,f=0,s=0,c=0,u,v=0,l=1,h=1,g=null,p=Uc,d=null,m,y,w,E=Hc,T=.5,M,C,R,x,O;function k(S){return R(S[0]*$r,S[1]*$r)}function D(S){return S=R.invert(S[0],S[1]),S&&[S[0]*Hr,S[1]*Hr]}k.stream=function(S){return x&&O===S?x:x=D5(I5(u)(p(M(E(O=S)))))},k.preclip=function(S){return arguments.length?(p=S,g=void 0,_()):p},k.postclip=function(S){return arguments.length?(E=S,d=m=y=w=null,_()):E},k.clipAngle=function(S){return arguments.length?(p=+S?_5(g=S*$r):(g=null,Uc),_()):g*Hr},k.clipExtent=function(S){return arguments.length?(E=S==null?(d=m=y=w=null,Hc):M5(d=+S[0][0],m=+S[0][1],y=+S[1][0],w=+S[1][1]),_()):d==null?null:[[d,m],[y,w]]},k.scale=function(S){return arguments.length?(e=+S,z()):e},k.translate=function(S){return arguments.length?(t=+S[0],i=+S[1],z()):[t,i]},k.center=function(S){return arguments.length?(a=S[0]%360*$r,o=S[1]%360*$r,z()):[a*Hr,o*Hr]},k.rotate=function(S){return arguments.length?(f=S[0]%360*$r,s=S[1]%360*$r,c=S.length>2?S[2]%360*$r:0,z()):[f*Hr,s*Hr,c*Hr]},k.angle=function(S){return arguments.length?(v=S%360*$r,z()):v*Hr},k.reflectX=function(S){return arguments.length?(l=S?-1:1,z()):l<0},k.reflectY=function(S){return arguments.length?(h=S?-1:1,z()):h<0},k.precision=function(S){return arguments.length?(M=Vc(C,T=S*S),_()):Dn(T)},k.fitExtent=function(S,$){return Yc(k,S,$)},k.fitSize=function(S,$){return R5(k,S,$)},k.fitWidth=function(S,$){return x5(k,S,$)},k.fitHeight=function(S,$){return C5(k,S,$)};function z(){var S=Jc(e,0,0,l,h,v).apply(null,n(a,o)),$=Jc(e,t-S[0],i-S[1],l,h,v);return u=Ic(f,s,c),C=il(n,$),R=il(u,C),M=Vc(C,T),_()}function _(){return x=O=null,k}return function(){return n=r.apply(this,arguments),k.invert=n.invert&&D,z()}}function cl(r){var n=0,e=rr/3,t=Wc(r),i=t(n,e);return i.parallels=function(a){return arguments.length?t(n=a[0]*$r,e=a[1]*$r):[n*Hr,e*Hr]},i}function L5(r){var n=sr(r);function e(t,i){return[t*n,ur(i)/n]}return e.invert=function(t,i){return[t/n,jn(i*n)]},e}function N5(r,n){var e=ur(r),t=(e+ur(n))/2;if(wr(t)<lr)return L5(r);var i=1+e*(2*t-e),a=Dn(i)/t;function o(f,s){var c=Dn(i-2*t*ur(s))/t;return[c*ur(f*=t),a-c*sr(f)]}return o.invert=function(f,s){var c=a-s,u=bn(f,wr(c))*vn(c);return c*t<0&&(u-=rr*vn(f)*vn(c)),[u/t,jn((i-(f*f+c*c)*t*t)/(2*t))]},o}function xe(){return cl(N5).scale(155.424).center([0,33.6442])}function aa(){return xe().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function q5(r){return function(n,e){var t=Dn(n*n+e*e),i=r(t),a=ur(i),o=sr(i);return[bn(n*a,t*o),jn(t&&e*a/t)]}}function oa(r,n){return[r,Ji(Zu((Mr+n)/2))]}oa.invert=function(r,n){return[r,2*st(Cc(n))-Mr]};function yr(){return Kc(oa).scale(961/cn)}function Kc(r){var n=fl(r),e=n.center,t=n.scale,i=n.translate,a=n.clipExtent,o=null,f,s,c;n.scale=function(v){return arguments.length?(t(v),u()):t()},n.translate=function(v){return arguments.length?(i(v),u()):i()},n.center=function(v){return arguments.length?(e(v),u()):e()},n.clipExtent=function(v){return arguments.length?(v==null?o=f=s=c=null:(o=+v[0][0],f=+v[0][1],s=+v[1][0],c=+v[1][1]),u()):o==null?null:[[o,f],[s,c]]};function u(){var v=rr*t(),l=n(g5(n.rotate()).invert([0,0]));return a(o==null?[[l[0]-v,l[1]-v],[l[0]+v,l[1]+v]]:r===oa?[[Math.max(l[0]-v,o),f],[Math.min(l[0]+v,s),c]]:[[o,Math.max(l[1]-v,f)],[s,Math.min(l[1]+v,c)]])}return u()}function ua(r){return Zu((Mr+r)/2)}function F5(r,n){var e=sr(r),t=r===n?ur(r):Ji(e/sr(n))/Ji(ua(n)/ua(r)),i=e*Qu(ua(r),t)/t;if(!t)return oa;function a(o,f){i>0?f<-Mr+lr&&(f=-Mr+lr):f>Mr-lr&&(f=Mr-lr);var s=i/Qu(ua(f),t);return[s*ur(t*o),i-s*sr(t*o)]}return a.invert=function(o,f){var s=i-f,c=vn(t)*Dn(o*o+s*s),u=bn(o,wr(s))*vn(s);return s*t<0&&(u-=rr*vn(o)*vn(s)),[u/t,2*st(Qu(i/c,1/t))-Mr]},a}function Jr(){return cl(F5).scale(109.5).parallels([30,30])}function la(r,n){return[r,n]}la.invert=la;function Qc(){return fl(la).scale(152.63)}function z5(r,n){var e=sr(r),t=r===n?ur(r):(e-sr(n))/(n-r),i=e/t+r;if(wr(t)<lr)return la;function a(o,f){var s=i-f,c=t*o;return[s*ur(c),i-s*sr(c)]}return a.invert=function(o,f){var s=i-f,c=bn(o,wr(s))*vn(s);return s*t<0&&(c-=rr*vn(o)*vn(s)),[c/t,i-vn(t)*Dn(o*o+s*s)]},a}function vl(){return cl(z5).scale(131.154).center([0,13.9389])}function Zc(r,n){var e=sr(n),t=1+sr(r)*e;return[e*ur(r)/t,ur(n)/t]}Zc.invert=q5(function(r){return 2*st(r)});function B5(){return fl(Zc).scale(250).clipAngle(142)}function r1(r,n){return[Ji(Zu((Mr+n)/2)),-r]}r1.invert=function(r,n){return[-n,2*st(Cc(r))-Mr]};function G5(){var r=Kc(r1),n=r.center,e=r.rotate;return r.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},r.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}function sa(){}var Ce=1/0,fa=Ce,ht=-Ce,ca=ht,n1={point:U5,lineStart:sa,lineEnd:sa,polygonStart:sa,polygonEnd:sa,result:function(){var r=[[Ce,fa],[ht,ca]];return ht=ca=-(fa=Ce=1/0),r}};function U5(r,n){r<Ce&&(Ce=r),r>ht&&(ht=r),n<fa&&(fa=n),n>ca&&(ca=n)}function Wr(r,n,e){var t=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=r.clipExtent&&r.clipExtent();r.scale(150).translate([0,0]),a!=null&&r.clipExtent(null),Dc(e,r.stream(n1));var o=n1.result(),f=Math.min(t/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),s=+n[0][0]+(t-f*(o[1][0]+o[0][0]))/2,c=+n[0][1]+(i-f*(o[1][1]+o[0][1]))/2;return a!=null&&r.clipExtent(a),r.scale(f*150).translate([s,c])}function tn(r,n,e){return Wr(r,[[0,0],n],e)}const hl=Math.PI,gl=2*hl,ne=1e-6,H5=gl-ne;function pl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Kr(){return new pl}pl.prototype=Kr.prototype={constructor:pl,moveTo:function(r,n){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(r,n){this._+="L"+(this._x1=+r)+","+(this._y1=+n)},quadraticCurveTo:function(r,n,e,t){this._+="Q"+ +r+","+ +n+","+(this._x1=+e)+","+(this._y1=+t)},bezierCurveTo:function(r,n,e,t,i,a){this._+="C"+ +r+","+ +n+","+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(r,n,e,t,i){r=+r,n=+n,e=+e,t=+t,i=+i;var a=this._x1,o=this._y1,f=e-r,s=t-n,c=a-r,u=o-n,v=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=r)+","+(this._y1=n);else if(v>ne)if(!(Math.abs(u*f-s*c)>ne)||!i)this._+="L"+(this._x1=r)+","+(this._y1=n);else{var l=e-a,h=t-o,g=f*f+s*s,p=l*l+h*h,d=Math.sqrt(g),m=Math.sqrt(v),y=i*Math.tan((hl-Math.acos((g+v-p)/(2*d*m)))/2),w=y/m,E=y/d;Math.abs(w-1)>ne&&(this._+="L"+(r+w*c)+","+(n+w*u)),this._+="A"+i+","+i+",0,0,"+ +(u*l>c*h)+","+(this._x1=r+E*f)+","+(this._y1=n+E*s)}},arc:function(r,n,e,t,i,a){r=+r,n=+n,e=+e,a=!!a;var o=e*Math.cos(t),f=e*Math.sin(t),s=r+o,c=n+f,u=1^a,v=a?t-i:i-t;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+s+","+c:(Math.abs(this._x1-s)>ne||Math.abs(this._y1-c)>ne)&&(this._+="L"+s+","+c),!!e&&(v<0&&(v=v%gl+gl),v>H5?this._+="A"+e+","+e+",0,1,"+u+","+(r-o)+","+(n-f)+"A"+e+","+e+",0,1,"+u+","+(this._x1=s)+","+(this._y1=c):v>ne&&(this._+="A"+e+","+e+",0,"+ +(v>=hl)+","+u+","+(this._x1=r+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(r,n,e,t){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +t+"h"+-e+"Z"},toString:function(){return this._}};function j5(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function Y5(){var r,n,e=aa(),t,i=xe().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=xe().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,s,c={point:function(l,h){s=[l,h]}};function u(l){var h=l[0],g=l[1];return s=null,t.point(h,g),s||(a.point(h,g),s)||(f.point(h,g),s)}u.invert=function(l){var h=e.scale(),g=e.translate(),p=(l[0]-g[0])/h,d=(l[1]-g[1])/h;return(d>=.12&&d<.234&&p>=-.425&&p<-.214?i:d>=.166&&d<.234&&p>=-.214&&p<-.115?o:e).invert(l)},u.stream=function(l){return r&&n===l?r:r=j5([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),v()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),o.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),g=+l[0],p=+l[1];return t=e.translate(l).clipExtent([[g-.455*h,p-.238*h],[g+.455*h,p+.238*h]]).stream(c),a=i.translate([g-.307*h,p+.201*h]).clipExtent([[g-.425*h+A,p+.12*h+A],[g-.214*h-A,p+.234*h-A]]).stream(c),f=o.translate([g-.205*h,p+.212*h]).clipExtent([[g-.214*h+A,p+.166*h+A],[g-.115*h-A,p+.234*h-A]]).stream(c),v()},u.fitExtent=function(l,h){return Wr(u,l,h)},u.fitSize=function(l,h){return tn(u,l,h)};function v(){return r=n=null,u}return u.drawCompositionBorders=function(l){var h=e([-102.91,26.3]),g=e([-104,27.5]),p=e([-108,29.1]),d=e([-110,29.1]),m=e([-110,26.7]),y=e([-112.8,27.6]),w=e([-114.3,30.6]),E=e([-119.3,30.1]);l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.moveTo(m[0],m[1]),l.lineTo(y[0],y[1]),l.lineTo(w[0],w[1]),l.lineTo(E[0],E[1])},u.getCompositionBorders=function(){var l=Kr();return this.drawCompositionBorders(l),l.toString()},u.scale(1070)}function X5(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function V5(){var r,n,e=aa(),t,i=xe().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=xe().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,s=xe().rotate([66,0]).center([0,18]).parallels([8,18]),c,u=Qc().rotate([173,14]),v,l=Qc().rotate([-145,-16.8]),h,g,p={point:function(y,w){g=[y,w]}};function d(y){var w=y[0],E=y[1];return g=null,t.point(w,E),g||(a.point(w,E),g)||(f.point(w,E),g)||(c.point(w,E),g)||(v.point(w,E),g)||(h.point(w,E),g)}d.invert=function(y){var w=e.scale(),E=e.translate(),T=(y[0]-E[0])/w,M=(y[1]-E[1])/w;return(M>=.12&&M<.234&&T>=-.425&&T<-.214?i:M>=.166&&M<.234&&T>=-.214&&T<-.115?o:M>=.2064&&M<.2413&&T>=.312&&T<.385?s:M>=.09&&M<.1197&&T>=-.4243&&T<-.3232?u:M>=-.0518&&M<.0895&&T>=-.4243&&T<-.3824?l:e).invert(y)},d.stream=function(y){return r&&n===y?r:r=X5([e.stream(n=y),i.stream(y),o.stream(y),s.stream(y),u.stream(y),l.stream(y)])},d.precision=function(y){return arguments.length?(e.precision(y),i.precision(y),o.precision(y),s.precision(y),u.precision(y),l.precision(y),m()):e.precision()},d.scale=function(y){return arguments.length?(e.scale(y),i.scale(y*.35),o.scale(y),s.scale(y),u.scale(y*2),l.scale(y),d.translate(e.translate())):e.scale()},d.translate=function(y){if(!arguments.length)return e.translate();var w=e.scale(),E=+y[0],T=+y[1];return t=e.translate(y).clipExtent([[E-.455*w,T-.238*w],[E+.455*w,T+.238*w]]).stream(p),a=i.translate([E-.307*w,T+.201*w]).clipExtent([[E-.425*w+A,T+.12*w+A],[E-.214*w-A,T+.233*w-A]]).stream(p),f=o.translate([E-.205*w,T+.212*w]).clipExtent([[E-.214*w+A,T+.166*w+A],[E-.115*w-A,T+.233*w-A]]).stream(p),c=s.translate([E+.35*w,T+.224*w]).clipExtent([[E+.312*w+A,T+.2064*w+A],[E+.385*w-A,T+.233*w-A]]).stream(p),v=u.translate([E-.492*w,T+.09*w]).clipExtent([[E-.4243*w+A,T+.0903*w+A],[E-.3233*w-A,T+.1197*w-A]]).stream(p),h=l.translate([E-.408*w,T+.018*w]).clipExtent([[E-.4244*w+A,T-.0519*w+A],[E-.3824*w-A,T+.0895*w-A]]).stream(p),m()},d.fitExtent=function(y,w){return Wr(d,y,w)},d.fitSize=function(y,w){return tn(d,y,w)};function m(){return r=n=null,d}return d.drawCompositionBorders=function(y){var w=e([-110.4641,28.2805]),E=e([-104.0597,28.9528]),T=e([-103.7049,25.1031]),M=e([-109.8337,24.4531]),C=e([-124.4745,28.1407]),R=e([-110.931,30.8844]),x=e([-109.8337,24.4531]),O=e([-122.4628,21.8562]),k=e([-76.8579,25.1544]),D=e([-72.429,24.2097]),z=e([-72.8265,22.7056]),_=e([-77.1852,23.6392]),S=e([-125.0093,29.7791]),$=e([-118.5193,31.3262]),P=e([-118.064,29.6912]),I=e([-124.4369,28.169]),J=e([-128.1314,37.4582]),gr=e([-125.2132,38.214]),Z=e([-122.3616,30.5115]),ir=e([-125.0315,29.8211]);y.moveTo(w[0],w[1]),y.lineTo(E[0],E[1]),y.lineTo(T[0],T[1]),y.lineTo(T[0],T[1]),y.lineTo(M[0],M[1]),y.closePath(),y.moveTo(C[0],C[1]),y.lineTo(R[0],R[1]),y.lineTo(x[0],x[1]),y.lineTo(x[0],x[1]),y.lineTo(O[0],O[1]),y.closePath(),y.moveTo(k[0],k[1]),y.lineTo(D[0],D[1]),y.lineTo(z[0],z[1]),y.lineTo(z[0],z[1]),y.lineTo(_[0],_[1]),y.closePath(),y.moveTo(S[0],S[1]),y.lineTo($[0],$[1]),y.lineTo(P[0],P[1]),y.lineTo(P[0],P[1]),y.lineTo(I[0],I[1]),y.closePath(),y.moveTo(J[0],J[1]),y.lineTo(gr[0],gr[1]),y.lineTo(Z[0],Z[1]),y.lineTo(Z[0],Z[1]),y.lineTo(ir[0],ir[1]),y.closePath()},d.getCompositionBorders=function(){var y=Kr();return this.drawCompositionBorders(y),y.toString()},d.scale(1070)}function J5(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function W5(){var r,n,e=Jr().rotate([5,-38.6]).parallels([0,60]),t,i=Jr().rotate([5,-38.6]).parallels([0,60]),a,o,f={point:function(u,v){o=[u,v]}};function s(u){var v=u[0],l=u[1];return o=null,t.point(v,l),o||(a.point(v,l),o)}s.invert=function(u){var v=e.scale(),l=e.translate(),h=(u[0]-l[0])/v,g=(u[1]-l[1])/v;return(g>=.05346&&g<.0897&&h>=-.13388&&h<-.0322?i:e).invert(u)},s.stream=function(u){return r&&n===u?r:r=J5([e.stream(n=u),i.stream(u)])},s.precision=function(u){return arguments.length?(e.precision(u),i.precision(u),c()):e.precision()},s.scale=function(u){return arguments.length?(e.scale(u),i.scale(u),s.translate(e.translate())):e.scale()},s.translate=function(u){if(!arguments.length)return e.translate();var v=e.scale(),l=+u[0],h=+u[1];return t=e.translate(u).clipExtent([[l-.06857*v,h-.1288*v],[l+.13249*v,h+.06*v]]).stream(f),a=i.translate([l+.1*v,h-.094*v]).clipExtent([[l-.1331*v+A,h+.053457*v+A],[l-.0354*v-A,h+.08969*v-A]]).stream(f),c()},s.fitExtent=function(u,v){return Wr(s,u,v)},s.fitSize=function(u,v){return tn(s,u,v)};function c(){return r=n=null,s}return s.drawCompositionBorders=function(u){var v=e([-14.034675,34.965007]),l=e([-7.4208899,35.536988]),h=e([-7.3148275,33.54359]);u.moveTo(v[0],v[1]),u.lineTo(l[0],l[1]),u.lineTo(h[0],h[1])},s.getCompositionBorders=function(){var u=Kr();return this.drawCompositionBorders(u),u.toString()},s.scale(2700)}function K5(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function Q5(){var r,n,e=Jr().rotate([10,-39.3]).parallels([0,60]),t,i=Jr().rotate([17,-32.7]).parallels([0,60]),a,o=Jr().rotate([27.8,-38.6]).parallels([0,60]),f,s,c={point:function(l,h){s=[l,h]}};function u(l){var h=l[0],g=l[1];return s=null,t.point(h,g),s||(a.point(h,g),s)||(f.point(h,g),s)}u.invert=function(l){var h=e.scale(),g=e.translate(),p=(l[0]-g[0])/h,d=(l[1]-g[1])/h;return(d>=.0093&&d<.03678&&p>=-.03875&&p<-.0116?i:d>=-.0412&&d<.0091&&p>=-.07782&&p<-.01166?o:e).invert(l)},u.stream=function(l){return r&&n===l?r:r=K5([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),v()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l),o.scale(l*.6),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),g=+l[0],p=+l[1];return t=e.translate(l).clipExtent([[g-.0115*h,p-.1138*h],[g+.2105*h,p+.0673*h]]).stream(c),a=i.translate([g-.0265*h,p+.025*h]).clipExtent([[g-.0388*h+A,p+.0093*h+A],[g-.0116*h-A,p+.0368*h-A]]).stream(c),f=o.translate([g-.045*h,p+-.02*h]).clipExtent([[g-.0778*h+A,p-.0413*h+A],[g-.0117*h-A,p+.0091*h-A]]).stream(c),v()},u.fitExtent=function(l,h){return Wr(u,l,h)},u.fitSize=function(l,h){return tn(u,l,h)};function v(){return r=n=null,u}return u.drawCompositionBorders=function(l){var h=e([-12.8351,38.7113]),g=e([-10.8482,38.7633]),p=e([-10.8181,37.2072]),d=e([-12.7345,37.1573]),m=e([-16.0753,41.4436]),y=e([-10.9168,41.6861]),w=e([-10.8557,38.7747]),E=e([-15.6728,38.5505]);l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.closePath(),l.moveTo(m[0],m[1]),l.lineTo(y[0],y[1]),l.lineTo(w[0],w[1]),l.lineTo(w[0],w[1]),l.lineTo(E[0],E[1]),l.closePath()},u.getCompositionBorders=function(){var l=Kr();return this.drawCompositionBorders(l),l.toString()},u.scale(4200)}function Z5(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function r3(){var r,n,e=yr().rotate([80,1.5]),t,i=yr().rotate([90.73,1]),a,o,f={point:function(u,v){o=[u,v]}};function s(u){var v=u[0],l=u[1];return o=null,t.point(v,l),o||(a.point(v,l),o)}s.invert=function(u){var v=e.scale(),l=e.translate(),h=(u[0]-l[0])/v,g=(u[1]-l[1])/v;return(g>=-.0676&&g<-.026&&h>=-.0857&&h<-.0263?i:e).invert(u)},s.stream=function(u){return r&&n===u?r:r=Z5([e.stream(n=u),i.stream(u)])},s.precision=function(u){return arguments.length?(e.precision(u),i.precision(u),c()):e.precision()},s.scale=function(u){return arguments.length?(e.scale(u),i.scale(u),s.translate(e.translate())):e.scale()},s.translate=function(u){if(!arguments.length)return e.translate();var v=e.scale(),l=+u[0],h=+u[1];return t=e.translate(u).clipExtent([[l-.0262*v,h-.0734*v],[l+.1741*v,h+.079*v]]).stream(f),a=i.translate([l-.06*v,h-.04*v]).clipExtent([[l-.0857*v+A,h-.0676*v+A],[l-.0263*v-A,h-.026*v-A]]).stream(f),c()},s.fitExtent=function(u,v){return Wr(s,u,v)},s.fitSize=function(u,v){return tn(s,u,v)};function c(){return r=n=null,s}return s.drawCompositionBorders=function(u){var v=e([-84.9032,2.3757]),l=e([-81.5047,2.3708]),h=e([-81.5063,-.01]),g=e([-84.9086,-.005]);u.moveTo(v[0],v[1]),u.lineTo(l[0],l[1]),u.lineTo(h[0],h[1]),u.lineTo(g[0],g[1]),u.closePath()},s.getCompositionBorders=function(){var u=Kr();return this.drawCompositionBorders(u),u.toString()},s.scale(3500)}function n3(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function e3(){var r,n,e=G5().rotate([72,37]),t,i=B5().rotate([72,0]),a,o=yr().rotate([80,33.5]),f,s=yr().rotate([110,25]),c,u,v={point:function(g,p){u=[g,p]}};function l(g){var p=g[0],d=g[1];return u=null,t.point(p,d),u||(a.point(p,d),u)||(f.point(p,d),u)||(c.point(p,d),u)}l.invert=function(g){var p=e.scale(),d=e.translate(),m=(g[0]-d[0])/p,y=(g[1]-d[1])/p;return(y>=.2582&&y<.32&&m>=-.1036&&m<-.087?i:y>=-.01298&&y<.0133&&m>=-.11396&&m<-.05944?o:y>=.01539&&y<.03911&&m>=-.089&&m<-.0588?s:e).invert(g)},l.stream=function(g){return r&&n===g?r:r=n3([e.stream(n=g),i.stream(g),o.stream(g),s.stream(g)])},l.precision=function(g){return arguments.length?(e.precision(g),i.precision(g),o.precision(g),s.precision(g),h()):e.precision()},l.scale=function(g){return arguments.length?(e.scale(g),i.scale(g*.15),o.scale(g*1.5),s.scale(g*1.5),l.translate(e.translate())):e.scale()},l.translate=function(g){if(!arguments.length)return e.translate();var p=e.scale(),d=+g[0],m=+g[1];return t=e.translate(g).clipExtent([[d-.059*p,m-.3835*p],[d+.4498*p,m+.3375*p]]).stream(v),a=i.translate([d-.087*p,m+.17*p]).clipExtent([[d-.1166*p+A,m+.2582*p+A],[d-.06*p-A,m+.32*p-A]]).stream(v),f=o.translate([d-.092*p,m-0*p]).clipExtent([[d-.114*p+A,m-.013*p+A],[d-.0594*p-A,m+.0133*p-A]]).stream(v),c=s.translate([d-.089*p,m-.0265*p]).clipExtent([[d-.089*p+A,m+.0154*p+A],[d-.0588*p-A,m+.0391*p-A]]).stream(v),h()},l.fitExtent=function(g,p){return Wr(l,g,p)},l.fitSize=function(g,p){return tn(l,g,p)};function h(){return r=n=null,l}return l.drawCompositionBorders=function(g){var p=e([-82.6999,-51.3043]),d=e([-77.5442,-51.6631]),m=e([-78.0254,-55.186]),y=e([-83.6106,-54.7785]),w=e([-80.0638,-35.984]),E=e([-76.2153,-36.1811]),T=e([-76.2994,-37.6839]),M=e([-80.2231,-37.4757]),C=e([-78.442,-37.706]),R=e([-76.263,-37.8054]),x=e([-76.344,-39.1595]),O=e([-78.5638,-39.0559]);g.moveTo(p[0],p[1]),g.lineTo(d[0],d[1]),g.lineTo(m[0],m[1]),g.lineTo(m[0],m[1]),g.lineTo(y[0],y[1]),g.closePath(),g.moveTo(w[0],w[1]),g.lineTo(E[0],E[1]),g.lineTo(T[0],T[1]),g.lineTo(T[0],T[1]),g.lineTo(M[0],M[1]),g.closePath(),g.moveTo(C[0],C[1]),g.lineTo(R[0],R[1]),g.lineTo(x[0],x[1]),g.lineTo(x[0],x[1]),g.lineTo(O[0],O[1]),g.closePath()},l.getCompositionBorders=function(){var g=Kr();return this.drawCompositionBorders(g),g.toString()},l.scale(700)}function t3(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function i3(){var r,n,e=vl().rotate([-136,-22]).parallels([40,34]),t,i=vl().rotate([-146,-26]).parallels([40,34]),a,o=vl().rotate([-126,-19]).parallels([40,34]),f,s,c={point:function(l,h){s=[l,h]}};function u(l){var h=l[0],g=l[1];return s=null,t.point(h,g),s||(a.point(h,g),s)||(f.point(h,g),s)}u.invert=function(l){var h=e.scale(),g=e.translate(),p=(l[0]-g[0])/h,d=(l[1]-g[1])/h;return(d>=-.10925&&d<-.02701&&p>=-.135&&p<-.0397?i:d>=.04713&&d<.11138&&p>=-.03986&&p<.051?o:e).invert(l)},u.stream=function(l){return r&&n===l?r:r=t3([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),v()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l),o.scale(l*.7),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),g=+l[0],p=+l[1];return t=e.translate(l).clipExtent([[g-.1352*h,p-.1091*h],[g+.117*h,p+.098*h]]).stream(c),a=i.translate([g-.0425*h,p-.005*h]).clipExtent([[g-.135*h+A,p-.1093*h+A],[g-.0397*h-A,p-.027*h-A]]).stream(c),f=o.translate(l).clipExtent([[g-.0399*h+A,p+.0471*h+A],[g+.051*h-A,p+.1114*h-A]]).stream(c),v()},u.fitExtent=function(l,h){return Wr(u,l,h)},u.fitSize=function(l,h){return tn(u,l,h)};function v(){return r=n=null,u}return u.drawCompositionBorders=function(l){var h=e([126.01320483689143,41.621090310215585]),g=e([133.04304387025903,42.15087523707186]),p=e([133.3021766080688,37.43975444725098]),d=e([126.87889168628224,36.95488945159779]),m=e([132.9,29.8]),y=e([134,33]),w=e([139.3,33.2]),E=e([139.16,30.5]);l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.closePath(),l.moveTo(m[0],m[1]),l.lineTo(y[0],y[1]),l.lineTo(w[0],w[1]),l.lineTo(E[0],E[1])},u.getCompositionBorders=function(){var l=Kr();return this.drawCompositionBorders(l),l.toString()},u.scale(2200)}function a3(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function o3(){var r,n,e=Jr().rotate([-3,-46.2]).parallels([0,60]),t,i=yr().center([-53.2,3.9]),a,o=yr().center([-61.03,14.67]),f,s=yr().center([-61.46,16.14]),c,u=yr().center([-62.85,17.92]),v,l=yr().center([-56.23,46.93]),h,g=yr().center([45.16,-12.8]),p,d=yr().center([55.52,-21.13]),m,y=yr().center([165.8,-21.07]),w,E=yr().center([-178.1,-14.3]),T,M=yr().center([-150.55,-17.11]),C,R=yr().center([-150.55,-17.11]),x,O,k={point:function(_,S){O=[_,S]}};function D(_){var S=_[0],$=_[1];return O=null,t.point(S,$),O||(a.point(S,$),O)||(f.point(S,$),O)||(c.point(S,$),O)||(v.point(S,$),O)||(h.point(S,$),O)||(p.point(S,$),O)||(m.point(S,$),O)||(w.point(S,$),O)||(T.point(S,$),O)||(C.point(S,$),O)||(x.point(S,$),O)}D.invert=function(_){var S=e.scale(),$=e.translate(),P=(_[0]-$[0])/S,I=(_[1]-$[1])/S;return(I>=.029&&I<.0864&&P>=-.14&&P<-.0996?i:I>=0&&I<.029&&P>=-.14&&P<-.0996?o:I>=-.032&&I<0&&P>=-.14&&P<-.0996?s:I>=-.052&&I<-.032&&P>=-.14&&P<-.0996?u:I>=-.076&&I<.052&&P>=-.14&&P<-.0996?l:I>=-.076&&I<-.052&&P>=.0967&&P<.1371?g:I>=-.052&&I<-.02&&P>=.0967&&P<.1371?d:I>=-.02&&I<.012&&P>=.0967&&P<.1371?y:I>=.012&&I<.033&&P>=.0967&&P<.1371?E:I>=.033&&I<.0864&&P>=.0967&&P<.1371?M:e).invert(_)},D.stream=function(_){return r&&n===_?r:r=a3([e.stream(n=_),i.stream(_),o.stream(_),s.stream(_),u.stream(_),l.stream(_),g.stream(_),d.stream(_),y.stream(_),E.stream(_),M.stream(_),R.stream(_)])},D.precision=function(_){return arguments.length?(e.precision(_),i.precision(_),o.precision(_),s.precision(_),u.precision(_),l.precision(_),g.precision(_),d.precision(_),y.precision(_),E.precision(_),M.precision(_),R.precision(_),z()):e.precision()},D.scale=function(_){return arguments.length?(e.scale(_),i.scale(_*.6),o.scale(_*1.6),s.scale(_*1.4),u.scale(_*5),l.scale(_*1.3),g.scale(_*1.6),d.scale(_*1.2),y.scale(_*.3),E.scale(_*2.7),M.scale(_*.5),R.scale(_*.06),D.translate(e.translate())):e.scale()},D.translate=function(_){if(!arguments.length)return e.translate();var S=e.scale(),$=+_[0],P=+_[1];return t=e.translate(_).clipExtent([[$-.0996*S,P-.0908*S],[$+.0967*S,P+.0864*S]]).stream(k),a=i.translate([$-.12*S,P+.0575*S]).clipExtent([[$-.14*S+A,P+.029*S+A],[$-.0996*S-A,P+.0864*S-A]]).stream(k),f=o.translate([$-.12*S,P+.013*S]).clipExtent([[$-.14*S+A,P+0*S+A],[$-.0996*S-A,P+.029*S-A]]).stream(k),c=s.translate([$-.12*S,P-.014*S]).clipExtent([[$-.14*S+A,P-.032*S+A],[$-.0996*S-A,P+0*S-A]]).stream(k),v=u.translate([$-.12*S,P-.044*S]).clipExtent([[$-.14*S+A,P-.052*S+A],[$-.0996*S-A,P-.032*S-A]]).stream(k),h=l.translate([$-.12*S,P-.065*S]).clipExtent([[$-.14*S+A,P-.076*S+A],[$-.0996*S-A,P-.052*S-A]]).stream(k),p=g.translate([$+.117*S,P-.064*S]).clipExtent([[$+.0967*S+A,P-.076*S+A],[$+.1371*S-A,P-.052*S-A]]).stream(k),m=d.translate([$+.116*S,P-.0355*S]).clipExtent([[$+.0967*S+A,P-.052*S+A],[$+.1371*S-A,P-.02*S-A]]).stream(k),w=y.translate([$+.116*S,P-.0048*S]).clipExtent([[$+.0967*S+A,P-.02*S+A],[$+.1371*S-A,P+.012*S-A]]).stream(k),T=E.translate([$+.116*S,P+.022*S]).clipExtent([[$+.0967*S+A,P+.012*S+A],[$+.1371*S-A,P+.033*S-A]]).stream(k),x=R.translate([$+.11*S,P+.045*S]).clipExtent([[$+.0967*S+A,P+.033*S+A],[$+.1371*S-A,P+.06*S-A]]).stream(k),C=M.translate([$+.115*S,P+.075*S]).clipExtent([[$+.0967*S+A,P+.06*S+A],[$+.1371*S-A,P+.0864*S-A]]).stream(k),z()},D.fitExtent=function(_,S){return Wr(D,_,S)},D.fitSize=function(_,S){return tn(D,_,S)};function z(){return r=n=null,D}return D.drawCompositionBorders=function(_){var S,$,P,I;S=e([-7.938886725111036,43.7219460918835]),$=e([-4.832080896458295,44.12930268549372]),P=e([-4.205299743793263,40.98096346967365]),I=e([-7.071796453126152,40.610037319181444]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([-8.42751373617692,45.32889452553031]),$=e([-5.18599305777107,45.7566442062976]),P=e([-4.832080905154431,44.129302726751426]),I=e([-7.938886737126192,43.72194613263854]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([-9.012656899657046,47.127733821030176]),$=e([-5.6105244772793155,47.579777861410626]),P=e([-5.185993067168585,45.756644248170346]),I=e([-8.427513749141811,45.32889456686326]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([-9.405747558985553,48.26506375557457]),$=e([-5.896175018439575,48.733352850851624]),P=e([-5.610524487556043,47.57977790393761]),I=e([-9.012656913808351,47.127733862971255]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([-9.908436061346974,49.642448789505856]),$=e([-6.262026716233124,50.131426841787174]),P=e([-5.896175029331232,48.73335289377258]),I=e([-9.40574757396393,48.26506379787767]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([11.996907706504462,50.16039028163579]),$=e([15.649907879773343,49.68279246765253]),P=e([15.156712840526632,48.30371557625831]),I=e([11.64122661754411,48.761078240546816]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([11.641226606955788,48.7610781975889]),$=e([15.156712825832164,48.30371553390465]),P=e([14.549932166241172,46.4866532486199]),I=e([11.204443787952183,46.91899233914248]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([11.204443778297161,46.918992296823646]),$=e([14.549932152815039,46.486653206856396]),P=e([13.994409796764009,44.695833444323256]),I=e([10.805306599253848,45.105133870684924]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([10.805306590412085,45.10513382903308]),$=e([13.99440978444733,44.695833403183606]),P=e([13.654633799024392,43.53552468558152]),I=e([10.561516803980956,43.930671459798624]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([10.561516795617383,43.93067141859757]),$=e([13.654633787361952,43.5355246448671]),P=e([12.867691604239901,40.640701985019405]),I=e([9.997809515987688,41.00288343254471]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([10.8,42.4]),$=e([12.8,42.13]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1])},D.getCompositionBorders=function(){var _=Kr();return this.drawCompositionBorders(_),_.toString()},D.scale(2700)}function u3(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function l3(){var r,n,e=Jr().rotate([-10,-53]).parallels([0,60]),t,i=yr().center([-61.46,16.14]),a,o=yr().center([-53.2,3.9]),f,s=Jr().rotate([27.8,-38.9]).parallels([0,60]),c,u=Jr().rotate([25.43,-37.398]).parallels([0,60]),v,l=Jr().rotate([31.17,-39.539]).parallels([0,60]),h,g=Jr().rotate([17,-32.7]).parallels([0,60]),p,d=Jr().rotate([16,-28.5]).parallels([0,60]),m,y=yr().center([-61.03,14.67]),w,E=yr().center([45.16,-12.8]),T,M=yr().center([55.52,-21.13]),C,R=Jr().rotate([-14.4,-35.95]).parallels([0,60]),x,O,k={point:function(_,S){O=[_,S]}};function D(_){var S=_[0],$=_[1];return O=null,t.point(S,$),O||(f.point(S,$),O)||(w.point(S,$),O)||(a.point(S,$),O)||(m.point(S,$),O)||(p.point(S,$),O)||(T.point(S,$),O)||(C.point(S,$),O)||(x.point(S,$),O)||(c.point(S,$),O)||(v.point(S,$),O)||(h.point(S,$),O)}D.invert=function(_){var S=e.scale(),$=e.translate(),P=(_[0]-($[0]+.08*S))/S,I=(_[1]-$[1])/S;return(I>=-.31&&I<-.24&&P>=.14&&P<.24?i:I>=-.24&&I<-.17&&P>=.14&&P<.24?o:I>=-.17&&I<-.12&&P>=.21&&P<.24?u:I>=-.17&&I<-.14&&P>=.14&&P<.165?l:I>=-.17&&I<-.1&&P>=.14&&P<.24?s:I>=-.1&&I<-.03&&P>=.14&&P<.24?g:I>=-.03&&I<.04&&P>=.14&&P<.24?d:I>=-.31&&I<-.24&&P>=.24&&P<.34?y:I>=-.24&&I<-.17&&P>=.24&&P<.34?E:I>=-.17&&I<-.1&&P>=.24&&P<.34?M:I>=-.1&&I<-.03&&P>=.24&&P<.34?R:e).invert(_)},D.stream=function(_){return r&&n===_?r:r=u3([e.stream(n=_),o.stream(_),y.stream(_),i.stream(_),d.stream(_),g.stream(_),E.stream(_),M.stream(_),R.stream(_),s.stream(_),u.stream(_),l.stream(_)])},D.precision=function(_){return arguments.length?(e.precision(_),o.precision(_),y.precision(_),i.precision(_),d.precision(_),g.precision(_),E.precision(_),M.precision(_),R.precision(_),s.precision(_),u.precision(_),l.precision(_),z()):e.precision()},D.scale=function(_){return arguments.length?(e.scale(_),i.scale(_*3),o.scale(_*.8),y.scale(_*3.5),M.scale(_*2.7),s.scale(_*2),u.scale(_*2),l.scale(_*2),g.scale(_*3),d.scale(_),E.scale(_*5.5),R.scale(_*6),D.translate(e.translate())):e.scale()},D.translate=function(_){if(!arguments.length)return e.translate();var S=e.scale(),$=+_[0],P=+_[1];return t=e.translate([$-.08*S,P]).clipExtent([[$-.51*S,P-.33*S],[$+.5*S,P+.33*S]]).stream(k),a=i.translate([$+.19*S,P-.275*S]).clipExtent([[$+.14*S+A,P-.31*S+A],[$+.24*S-A,P-.24*S-A]]).stream(k),f=o.translate([$+.19*S,P-.205*S]).clipExtent([[$+.14*S+A,P-.24*S+A],[$+.24*S-A,P-.17*S-A]]).stream(k),c=s.translate([$+.19*S,P-.135*S]).clipExtent([[$+.14*S+A,P-.17*S+A],[$+.24*S-A,P-.1*S-A]]).stream(k),v=u.translate([$+.225*S,P-.147*S]).clipExtent([[$+.21*S+A,P-.17*S+A],[$+.24*S-A,P-.12*S-A]]).stream(k),h=l.translate([$+.153*S,P-.15*S]).clipExtent([[$+.14*S+A,P-.17*S+A],[$+.165*S-A,P-.14*S-A]]).stream(k),p=g.translate([$+.19*S,P-.065*S]).clipExtent([[$+.14*S+A,P-.1*S+A],[$+.24*S-A,P-.03*S-A]]).stream(k),m=d.translate([$+.19*S,P+.005*S]).clipExtent([[$+.14*S+A,P-.03*S+A],[$+.24*S-A,P+.04*S-A]]).stream(k),w=y.translate([$+.29*S,P-.275*S]).clipExtent([[$+.24*S+A,P-.31*S+A],[$+.34*S-A,P-.24*S-A]]).stream(k),T=E.translate([$+.29*S,P-.205*S]).clipExtent([[$+.24*S+A,P-.24*S+A],[$+.34*S-A,P-.17*S-A]]).stream(k),C=M.translate([$+.29*S,P-.135*S]).clipExtent([[$+.24*S+A,P-.17*S+A],[$+.34*S-A,P-.1*S-A]]).stream(k),x=R.translate([$+.29*S,P-.065*S]).clipExtent([[$+.24*S+A,P-.1*S+A],[$+.34*S-A,P-.03*S-A]]).stream(k),z()},D.fitExtent=function(_,S){return Wr(D,_,S)},D.fitSize=function(_,S){return tn(D,_,S)};function z(){return r=n=null,D}return D.drawCompositionBorders=function(_){var S,$,P,I;S=e([42.45755610828648,63.343658547914934]),$=e([52.65837266667029,59.35045080290929]),P=e([47.19754502247785,56.12653496548117]),I=e([37.673034273363044,59.61638268506111]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([59.41110754003403,62.35069727399336]),$=e([66.75050228640794,57.11797303636038]),P=e([60.236065725110436,54.63331433818992]),I=e([52.65837313153311,59.350450804599355]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([48.81091130080243,66.93353402634641]),$=e([59.41110730654679,62.35069740653086]),P=e([52.6583728974441,59.3504509222445]),I=e([42.45755631675751,63.34365868805821]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([31.054198418446475,52.1080673766184]),$=e([39.09869284884117,49.400700047190554]),P=e([36.0580811499175,46.02944174908498]),I=e([28.690508588835726,48.433126979386415]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([33.977877745912025,55.849945501331]),$=e([42.75328432167726,52.78455122462353]),P=e([39.09869297540224,49.400700176148625]),I=e([31.05419851807008,52.10806751810923]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([52.658372900759296,59.35045068526415]),$=e([60.23606549583304,54.63331423800264]),P=e([54.6756370953122,51.892298789399455]),I=e([47.19754524788189,56.126534861222794]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([47.19754506082455,56.126534735591456]),$=e([54.675636900123514,51.892298681337095]),P=e([49.94448648951486,48.98775484983285]),I=e([42.75328468716108,52.78455126060818]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([42.75328453416769,52.78455113209101]),$=e([49.94448632339758,48.98775473706457]),P=e([45.912339990394315,45.99361784987003]),I=e([39.09869317356607,49.40070009378711]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([37.673034114296634,59.61638254183119]),$=e([47.197544835420544,56.126534839849846]),P=e([42.75328447467064,52.78455135314068]),I=e([33.977877870363905,55.849945644671145]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([44.56748486446032,57.26489367845818]),P=e([43.9335791193588,53.746540942601726]),I=e([43,56]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath(),S=e([37.673034114296634,59.61638254183119]),$=e([40.25902691953466,58.83002044222639]),P=e([38.458270492742024,57.26232178028002]),I=e([35.97754948030156,58.00266637992386]),_.moveTo(S[0],S[1]),_.lineTo($[0],$[1]),_.lineTo(P[0],P[1]),_.lineTo(I[0],I[1]),_.closePath()},D.getCompositionBorders=function(){var _=Kr();return this.drawCompositionBorders(_),_.toString()},D.scale(750)}function s3(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function f3(){var r,n,e=Jr().rotate([-5.5,-52.2]).parallels([0,60]),t,i=yr().center([-68.25,12.2]),a,o=yr().center([-63.1,17.5]),f,s,c={point:function(l,h){s=[l,h]}};function u(l){const[h,g]=l;return s=null,t.point(h,g),s||(a.point(h,g),s)||(f.point(h,g),s)}u.invert=function(l){var h=e.scale(),g=e.translate(),p=(l[0]-g[0])/h,d=(l[1]-g[1])/h;return(d>=-.0067&&d<.0015&&p>=-.0232&&p<-.0154?i:d>=-.022&&d<-.014&&p>=-.023&&p<-.014?o:e).invert(l)},u.stream=function(l){return r&&n===l?r:r=s3([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),v()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l),o.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();const h=e.scale(),g=+l[0],p=+l[1];return t=e.translate(l).clipExtent([[g-.0245*h,p-.026*h],[g+.023*h,p+.026*h]]).stream(c),a=i.translate([g-.0186*h,p-.00325*h]).clipExtent([[g-.0232*h+A,p-.0067*h+A],[g-.0154*h-A,p+.0015*h-A]]).stream(c),f=o.translate([g-.0185*h,p-.017*h]).clipExtent([[g-.023*h+A,p-.022*h+A],[g-.014*h-A,p-.014*h-A]]).stream(c),v()},u.fitExtent=function(l,h){return Wr(u,l,h)},u.fitSize=function(l,h){return tn(u,l,h)};function v(){return r=n=null,u}return u.drawCompositionBorders=function(l){var h=e([3.30573,52.5562]),g=e([4.043,52.572]),p=e([4.0646,52.1017]),d=e([3.3382,52.0861]),m=e([3.262,53.439]),y=e([4.1373,53.4571]),w=e([4.1574,52.9946]),E=e([3.2951,52.9768]);l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.closePath(),l.moveTo(m[0],m[1]),l.lineTo(y[0],y[1]),l.lineTo(w[0],w[1]),l.lineTo(w[0],w[1]),l.lineTo(E[0],E[1]),l.closePath()},u.getCompositionBorders=function(){var l=Kr();return this.drawCompositionBorders(l),l.toString()},u.scale(4200)}function c3(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function v3(){var r,n,e=yr().center([105.25,4]),t,i=yr().center([118.65,2.86]),a,o,f={point:function(u,v){o=[u,v]}};function s(u){var v=u[0],l=u[1];return o=null,t.point(v,l),o||(a.point(v,l),o)}s.invert=function(u){var v=e.scale(),l=e.translate(),h=(u[0]-l[0])/v,g=(u[1]-l[1])/v;return(g>=-.0521&&g<.0229&&h>=-.0111&&h<.1?i:e).invert(u)},s.stream=function(u){return r&&n===u?r:r=c3([e.stream(n=u),i.stream(u)])},s.precision=function(u){return arguments.length?(e.precision(u),i.precision(u),c()):e.precision()},s.scale=function(u){return arguments.length?(e.scale(u),i.scale(u*.615),s.translate(e.translate())):e.scale()},s.translate=function(u){if(!arguments.length)return e.translate();var v=e.scale(),l=+u[0],h=+u[1];return t=e.translate(u).clipExtent([[l-.11*v,h-.0521*v],[l-.0111*v,h+.0521*v]]).stream(f),a=i.translate([l+.09*v,h-0*v]).clipExtent([[l-.0111*v+A,h-.0521*v+A],[l+.1*v-A,h+.024*v-A]]).stream(f),c()},s.fitExtent=function(u,v){return Wr(s,u,v)},s.fitSize=function(u,v){return tn(s,u,v)};function c(){return r=n=null,s}return s.drawCompositionBorders=function(u){var v=e([106.3214,2.0228]),l=e([105.1843,2.3761]),h=e([104.2151,3.3618]),g=e([104.215,4.5651]);u.moveTo(v[0],v[1]),u.lineTo(l[0],l[1]),u.lineTo(h[0],h[1]),u.lineTo(g[0],g[1])},s.getCompositionBorders=function(){var u=Kr();return this.drawCompositionBorders(u),u.toString()},s.scale(4800)}function h3(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function g3(){var r,n,e=yr().rotate([-9.5,-1.5]),t,i=yr().rotate([-8.6,-3.5]),a,o=yr().rotate([-5.6,1.45]),f,s,c={point:function(l,h){s=[l,h]}};function u(l){var h=l[0],g=l[1];return s=null,t.point(h,g),s||(a.point(h,g),s)||(f.point(h,g),s)}u.invert=function(l){var h=e.scale(),g=e.translate(),p=(l[0]-g[0])/h,d=(l[1]-g[1])/h;return(d>=-.02&&d<0&&p>=-.038&&p<-.005?i:d>=0&&d<.02&&p>=-.038&&p<-.005?o:e).invert(l)},u.stream=function(l){return r&&n===l?r:r=h3([e.stream(n=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),v()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*1.5),o.scale(l*4),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),g=+l[0],p=+l[1];return t=e.translate(l).clipExtent([[g-.005*h,p-.02*h],[g+.038*h,p+.02*h]]).stream(c),a=i.translate([g-.025*h,p-.01*h]).clipExtent([[g-.038*h+A,p-.02*h+A],[g-.005*h-A,p+0*h-A]]).stream(c),f=o.translate([g-.025*h,p+.01*h]).clipExtent([[g-.038*h+A,p-0*h+A],[g-.005*h-A,p+.02*h-A]]).stream(c),v()},u.fitExtent=function(l,h){return Wr(u,l,h)},u.fitSize=function(l,h){return tn(u,l,h)};function v(){return r=n=null,u}return u.drawCompositionBorders=function(l){var h,g,p,d;h=e([9.21327272751682,2.645820439454123]),g=e([11.679126293239872,2.644755519268689]),p=e([11.676845389029227,.35307824637606433]),d=e([9.213572917774014,.35414205204417754]),l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.closePath(),h=e([7.320873711543669,2.64475551449975]),g=e([9.213272722738658,2.645820434679803]),p=e([9.213422896480349,1.4999812505283054]),d=e([7.322014760520787,1.4989168878985566]),l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.closePath(),h=e([7.3220147605302905,1.4989168783492766]),g=e([9.213422896481598,1.499981240979021]),p=e([9.213572912999604,.354142056817247]),d=e([7.323154615739809,.353078251154504]),l.moveTo(h[0],h[1]),l.lineTo(g[0],g[1]),l.lineTo(p[0],p[1]),l.lineTo(d[0],d[1]),l.closePath()},u.getCompositionBorders=function(){var l=Kr();return this.drawCompositionBorders(l),l.toString()},u.scale(12e3)}function p3(r){var n=r.length;return{point:function(e,t){for(var i=-1;++i<n;)r[i].point(e,t)},sphere:function(){for(var e=-1;++e<n;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)r[e].polygonEnd()}}}function d3(){var r,n,e=aa().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),t,i=aa().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),a,o,f={point:function(u,v){o=[u,v]}};function s(u){var v=u[0],l=u[1];return o=null,t.point(v,l),o||(a.point(v,l),o)}s.invert=function(u){var v=e.scale(),l=e.translate(),h=(u[0]-l[0])/v,g=(u[1]-l[1])/v;return(g>=-.089&&g<.06&&h>=.029&&h<.046?i:e).invert(u)},s.stream=function(u){return r&&n===u?r:r=p3([e.stream(n=u),i.stream(u)])},s.precision=function(u){return arguments.length?(e.precision(u),i.precision(u),c()):e.precision()},s.scale=function(u){return arguments.length?(e.scale(u),i.scale(u),s.translate(e.translate())):e.scale()},s.translate=function(u){if(!arguments.length)return e.translate();var v=e.scale(),l=+u[0],h=+u[1];return t=e.translate(u).clipExtent([[l-.065*v,h-.089*v],[l+.075*v,h+.089*v]]).stream(f),a=i.translate([l+.01*v,h+.025*v]).clipExtent([[l+.029*v+A,h-.089*v+A],[l+.046*v-A,h-.06*v-A]]).stream(f),c()},s.fitExtent=function(u,v){return Wr(s,u,v)},s.fitSize=function(u,v){return tn(s,u,v)};function c(){return r=n=null,s}return s.drawCompositionBorders=function(u){var v,l,h,g;v=e([-1.113205870242365,59.64920050773357]),l=e([.807899092399606,59.59085836472269]),h=e([.5778611961420386,57.93467822832577]),g=e([-1.25867782078448,57.99029450085142]),u.moveTo(v[0],v[1]),u.lineTo(l[0],l[1]),u.lineTo(h[0],h[1]),u.lineTo(g[0],g[1]),u.closePath()},s.getCompositionBorders=function(){var u=Kr();return this.drawCompositionBorders(u),u.toString()},s.scale(2800)}var y3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoAlbersUsa:Y5,geoAlbersUsaTerritories:V5,geoConicConformalSpain:W5,geoConicConformalPortugal:Q5,geoMercatorEcuador:r3,geoTransverseMercatorChile:e3,geoConicEquidistantJapan:i3,geoConicConformalFrance:o3,geoConicConformalEurope:l3,geoConicConformalNetherlands:f3,geoMercatorMalaysia:v3,geoMercatorEquatorialGuinea:g3,geoAlbersUk:d3}),m3=Sn(y3);Object.defineProperty(Vi,"__esModule",{value:!0});var dl=nr.exports,e1=K,yl=dl.__importStar(ot),ml=dl.__importStar($c),wl=dl.__importStar(m3);Vi.default=function(r,n){if(n===void 0&&(n=!1),e1.isFunction(r))return n?r:r();if(e1.isString(r)){if(yl[r])return n?yl[r]:yl[r]();if(ml[r])return n?ml[r]:ml[r]();if(wl[r])return n?wl[r]:wl[r]()}return null};Object.defineProperty(Cg,"__esModule",{value:!0});var w3=nr.exports,S3=K,In=ot,t1=$c,E3=Hn,gt=w3.__importDefault(Vi),_3={geoArea:function(r){return In.geoArea(r)},geoAreaByName:function(r){return In.geoArea(this.geoFeatureByName(r))},geoCentroid:function(r){return In.geoCentroid(r)},geoCentroidByName:function(r){return In.geoCentroid(this.geoFeatureByName(r))},geoDistance:function(r,n){return In.geoDistance(r,n)},geoLength:function(r){return In.geoLength(r)},geoLengthByName:function(r){return In.geoLength(this.geoFeatureByName(r))},geoContains:function(r,n){return In.geoContains(r,n)},geoFeatureByName:function(r){var n=this.rows,e;return n.some(function(t){return t.name===r?(e=t,!0):!1}),e},geoFeatureByPosition:function(r){var n=this.rows,e;return n.some(function(t){return In.geoContains(t,r)?(e=t,!0):!1}),e},geoNameByPosition:function(r){var n=this.geoFeatureByPosition(r);if(n)return n.name},getGeoProjection:gt.default,geoProject:function(r,n,e){return n=gt.default(n,e),t1.geoProject(r,n)},geoProjectByName:function(r,n,e){return n=gt.default(n,e),t1.geoProject(this.geoFeatureByName(r),n)},geoProjectPosition:function(r,n,e){var t=gt.default(n,e);return t(r)},geoProjectInvert:function(r,n,e){var t=gt.default(n,e);return t.invert(r)}};S3.assign(E3.View.prototype,_3);var T3={};Object.defineProperty(T3,"__esModule",{value:!0});var i1=K,Sl=Hn;i1.assign(Sl.View.prototype,{getAllNodes:function(){var r=[],n=this.root;return n&&n.each?n.each(function(e){r.push(e)}):n&&n.eachNode&&n.eachNode(function(e){r.push(e)}),r},getAllLinks:function(){for(var r=[],n=[this.root],e;e=n.pop();){var t=e.children;t&&t.forEach(function(i){r.push({source:e,target:i}),n.push(i)})}return r}});i1.assign(Sl.View.prototype,{getAllEdges:Sl.View.prototype.getAllLinks});var M3={},an={},El={};Object.defineProperty(El,"__esModule",{value:!0});var _l=K;function $3(r,n){n===void 0&&(n=[]);var e=void 0;return _l.isFunction(n)?e=n:_l.isArray(n)?e=function(t,i){for(var a=0;a<n.length;a++){var o=n[a];if(t[o]<i[o])return-1;if(t[o]>i[o])return 1}return 0}:_l.isString(n)&&(e=function(t,i){return t[n]<i[n]?-1:t[n]>i[n]?1:0}),r.sort(e)}El.default=$3;Object.defineProperty(an,"__esModule",{value:!0});var P3=nr.exports,va=K,R3=P3.__importDefault(El);an.default=function(r,n,e){e===void 0&&(e=[]);var t=r;e&&e.length&&(t=R3.default(r,e));var i;va.isFunction(n)?i=n:va.isArray(n)?i=function(o){return"_"+n.map(function(f){return o[f]}).join("-")}:va.isString(n)&&(i=function(o){return"_"+o[n]});var a=va.groupBy(t,i);return a};Object.defineProperty(M3,"__esModule",{value:!0});var x3=nr.exports,a1=K,C3=x3.__importDefault(an),k3=Hn;a1.assign(k3.View.prototype,{partition:function(r,n){return n===void 0&&(n=[]),C3.default(this.rows,r,n)},group:function(r,n){n===void 0&&(n=[]);var e=this.partition(r,n);return a1.values(e)},groups:function(r,n){return n===void 0&&(n=[]),this.group(r,n)}});var A3={};function b3(r){var n,e,t=r.length;if(t===1)n=0,e=r[0][1];else{for(var i,a,o,f=0,s=0,c=0,u=0,v=0;v<t;v++)f+=a=(i=r[v])[0],s+=o=i[1],c+=a*a,u+=a*o;e=s/t-(n=(t*u-f*s)/(t*c-f*f))*f/t}return{m:n,b:e}}function D3(r){return function(n){return r.b+r.m*n}}function o1(r){if(r.length===0)return 0;for(var n,e=r[0],t=0,i=1;i<r.length;i++)n=e+r[i],Math.abs(e)>=Math.abs(r[i])?t+=e-n+r[i]:t+=r[i]-n+e,e=n;return e+t}function jr(r){if(r.length===0)throw new Error("mean requires at least one data point");return o1(r)/r.length}function Tl(r,n){var e,t,i=jr(r),a=0;if(n===2)for(t=0;t<r.length;t++)a+=(e=r[t]-i)*e;else for(t=0;t<r.length;t++)a+=Math.pow(r[t]-i,n);return a}function u1(r){if(r.length===0)throw new Error("variance requires at least one data point");return Tl(r,2)/r.length}function l1(r){if(r.length===1)return 0;var n=u1(r);return Math.sqrt(n)}function I3(r,n){if(r.length<2)return 1;for(var e=0,t=0;t<r.length;t++)e+=r[t][1];for(var i=e/r.length,a=0,o=0;o<r.length;o++)a+=Math.pow(i-r[o][1],2);for(var f=0,s=0;s<r.length;s++)f+=Math.pow(r[s][1]-n(r[s][0]),2);return 1-f/a}function s1(r){if(r.length===0)throw new Error("mode requires at least one data point");if(r.length===1)return r[0];for(var n=r[0],e=NaN,t=0,i=1,a=1;a<r.length+1;a++)r[a]!==n?(i>t&&(t=i,e=n),i=1,n=r[a]):i++;return e}function ha(r){return r.slice().sort(function(n,e){return n-e})}function O3(r){return s1(ha(r))}function L3(r){for(var n,e=new Map,t=0,i=0;i<r.length;i++){var a=e.get(r[i]);a===void 0?a=1:a++,a>t&&(n=r[i],t=a),e.set(r[i],a)}if(t===0)throw new Error("mode requires at last one data point");return n}function f1(r){if(r.length===0)throw new Error("min requires at least one data point");for(var n=r[0],e=1;e<r.length;e++)r[e]<n&&(n=r[e]);return n}function c1(r){if(r.length===0)throw new Error("max requires at least one data point");for(var n=r[0],e=1;e<r.length;e++)r[e]>n&&(n=r[e]);return n}function N3(r){if(r.length===0)throw new Error("extent requires at least one data point");for(var n=r[0],e=r[0],t=1;t<r.length;t++)r[t]>e&&(e=r[t]),r[t]<n&&(n=r[t]);return[n,e]}function q3(r){return r[0]}function F3(r){return r[r.length-1]}function z3(r){return[r[0],r[r.length-1]]}function B3(r){for(var n=0,e=0;e<r.length;e++)n+=r[e];return n}function G3(r){for(var n=1,e=0;e<r.length;e++)n*=r[e];return n}function ga(r,n){var e=r.length*n;if(r.length===0)throw new Error("quantile requires at least one data point.");if(n<0||n>1)throw new Error("quantiles must be between 0 and 1");return n===1?r[r.length-1]:n===0?r[0]:e%1!=0?r[Math.ceil(e)-1]:r.length%2==0?(r[e-1]+r[e])/2:r[e]}function pt(r,n,e,t){for(e=e||0,t=t||r.length-1;t>e;){if(t-e>600){var i=t-e+1,a=n-e+1,o=Math.log(i),f=.5*Math.exp(2*o/3),s=.5*Math.sqrt(o*f*(i-f)/i);a-i/2<0&&(s*=-1),pt(r,n,Math.max(e,Math.floor(n-a*f/i+s)),Math.min(t,Math.floor(n+(i-a)*f/i+s)))}var c=r[n],u=e,v=t;for(dt(r,e,n),r[t]>c&&dt(r,e,t);u<v;){for(dt(r,u,v),u++,v--;r[u]<c;)u++;for(;r[v]>c;)v--}r[e]===c?dt(r,e,v):dt(r,++v,t),v<=n&&(e=v+1),n<=v&&(t=v-1)}}function dt(r,n,e){var t=r[n];r[n]=r[e],r[e]=t}function pa(r,n){var e=r.slice();if(Array.isArray(n)){(function(a,o){for(var f=[0],s=0;s<o.length;s++)f.push(h1(a.length,o[s]));f.push(a.length-1),f.sort(U3);for(var c=[0,f.length-1];c.length;){var u=Math.ceil(c.pop()),v=Math.floor(c.pop());if(!(u-v<=1)){var l=Math.floor((v+u)/2);v1(a,f[l],Math.floor(f[v]),Math.ceil(f[u])),c.push(v,l,l,u)}}})(e,n);for(var t=[],i=0;i<n.length;i++)t[i]=ga(e,n[i]);return t}return v1(e,h1(e.length,n),0,e.length-1),ga(e,n)}function v1(r,n,e,t){n%1==0?pt(r,n,e,t):(pt(r,n=Math.floor(n),e,t),pt(r,n+1,n+1,t))}function U3(r,n){return r-n}function h1(r,n){var e=r*n;return n===1?r-1:n===0?0:e%1!=0?Math.ceil(e)-1:r%2==0?e-.5:e}function g1(r,n){if(n<r[0])return 0;if(n>r[r.length-1])return 1;var e=function(a,o){for(var f=0,s=0,c=a.length;s<c;)o<=a[f=s+c>>>1]?c=f:s=-~f;return s}(r,n);if(r[e]!==n)return e/r.length;e++;var t=function(a,o){for(var f=0,s=0,c=a.length;s<c;)o>=a[f=s+c>>>1]?s=-~f:c=f;return s}(r,n);if(t===e)return e/r.length;var i=t-e+1;return i*(t+e)/2/i/r.length}function H3(r,n){return g1(ha(r),n)}function Ml(r){var n=pa(r,.75),e=pa(r,.25);if(typeof n=="number"&&typeof e=="number")return n-e}function $l(r){return+pa(r,.5)}function p1(r){for(var n=$l(r),e=[],t=0;t<r.length;t++)e.push(Math.abs(r[t]-n));return $l(e)}function j3(r,n){var e=[];if(n<1)throw new Error("chunk size must be a positive number");if(Math.floor(n)!==n)throw new Error("chunk size must be an integer");for(var t=0;t<r.length;t+=n)e.push(r.slice(t,t+n));return e}function Y3(r,n,e){if(r.length===0)return[];e=e||Math.random;for(var t=r.length,i=[],a=0;a<n;a++){var o=Math.floor(e()*t);i.push(r[o])}return i}function Pl(r,n){n=n||Math.random;for(var e,t,i=r.length;i>0;)t=Math.floor(n()*i--),e=r[i],r[i]=r[t],r[t]=e;return r}function d1(r,n){return Pl(r.slice().slice(),n)}function X3(r,n,e){return d1(r,e).slice(0,n)}function y1(r){for(var n,e=0,t=0;t<r.length;t++)t!==0&&r[t]===n||(n=r[t],e++);return e}function m1(r,n){for(var e=[],t=0;t<r;t++){for(var i=[],a=0;a<n;a++)i.push(0);e.push(i)}return e}function Rl(r,n,e,t){var i;if(r>0){var a=(e[n]-e[r-1])/(n-r+1);i=t[n]-t[r-1]-(n-r+1)*a*a}else i=t[n]-e[n]*e[n]/(n+1);return i<0?0:i}function xl(r,n,e,t,i,a,o){if(!(r>n)){var f=Math.floor((r+n)/2);t[e][f]=t[e-1][f-1],i[e][f]=f;var s=e;r>e&&(s=Math.max(s,i[e][r-1]||0)),s=Math.max(s,i[e-1][f]||0);var c,u,v,l=f-1;n<t.length-1&&(l=Math.min(l,i[e][n+1]||0));for(var h=l;h>=s&&!((c=Rl(h,f,a,o))+t[e-1][s-1]>=t[e][f]);--h)(u=Rl(s,f,a,o)+t[e-1][s-1])<t[e][f]&&(t[e][f]=u,i[e][f]=s),s++,(v=c+t[e-1][h-1])<t[e][f]&&(t[e][f]=v,i[e][f]=h);xl(r,f-1,e,t,i,a,o),xl(f+1,n,e,t,i,a,o)}}function V3(r,n){if(n>r.length)throw new Error("cannot generate more classes than there are data values");var e=ha(r);if(y1(e)===1)return[e];var t=m1(n,e.length),i=m1(n,e.length);(function(c,u,v){for(var l=u[0].length,h=c[Math.floor(l/2)],g=[],p=[],d=0,m=void 0;d<l;++d)m=c[d]-h,d===0?(g.push(m),p.push(m*m)):(g.push(g[d-1]+m),p.push(p[d-1]+m*m)),u[0][d]=Rl(0,d,g,p),v[0][d]=0;for(var y=1;y<u.length;++y)xl(y<u.length-1?y:l-1,l-1,y,u,v,g,p)})(e,t,i);for(var a=[],o=i[0].length-1,f=i.length-1;f>=0;f--){var s=i[f][o];a[f]=e.slice(s,o+1),f>0&&(o=s-1)}return a}function J3(r,n){if(r.length<2)return r;for(var e=f1(r),t=c1(r),i=[e],a=(t-e)/n,o=1;o<n;o++)i.push(i[0]+a*o);return i.push(t),i}function w1(r,n){if(r.length!==n.length)throw new Error("sampleCovariance requires samples with equal lengths");if(r.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var e=jr(r),t=jr(n),i=0,a=0;a<r.length;a++)i+=(r[a]-e)*(n[a]-t);return i/(r.length-1)}function da(r){if(r.length<2)throw new Error("sampleVariance requires at least two data points");return Tl(r,2)/(r.length-1)}function ya(r){var n=da(r);return Math.sqrt(n)}function W3(r,n){return w1(r,n)/ya(r)/ya(n)}function K3(r){if(r.length<3)throw new Error("sampleSkewness requires at least three data points");for(var n,e=jr(r),t=0,i=0,a=0;a<r.length;a++)t+=(n=r[a]-e)*n,i+=n*n*n;var o=Math.sqrt(t/(r.length-1)),f=r.length;return f*i/((f-1)*(f-2)*Math.pow(o,3))}function Q3(r){var n=r.length;if(n<4)throw new Error("sampleKurtosis requires at least four data points");for(var e,t=jr(r),i=0,a=0,o=0;o<n;o++)i+=(e=r[o]-t)*e,a+=e*e*e*e;return(n-1)/((n-2)*(n-3))*(n*(n+1)*a/(i*i)-3*(n-1))}function Z3(r){for(var n=new Array(r.length),e=[r.slice()],t=0;t<r.length;t++)n[t]=0;for(var i=0;i<r.length;)if(n[i]<i){var a=0;i%2!=0&&(a=n[i]);var o=r[a];r[a]=r[i],r[i]=o,e.push(r.slice()),n[i]++,i=0}else n[i]=0,i++;return e}function S1(r,n){var e,t,i,a,o=[];for(e=0;e<r.length;e++)if(n===1)o.push([r[e]]);else for(i=S1(r.slice(e+1,r.length),n-1),t=0;t<i.length;t++)(a=i[t]).unshift(r[e]),o.push(a);return o}function E1(r,n){for(var e=[],t=0;t<r.length;t++)if(n===1)e.push([r[t]]);else for(var i=E1(r.slice(t,r.length),n-1),a=0;a<i.length;a++)e.push([r[t]].concat(i[a]));return e}function ry(r,n,e){return r+(e-r)/(n+1)}function _1(r,n,e,t){return(r*n+e*t)/(n+t)}function ny(r,n,e,t,i,a){var o=_1(n,e,i,a);return(e*(r+Math.pow(n-o,2))+a*(t+Math.pow(i-o,2)))/(e+a)}function ey(r){if(r.length===0)throw new Error("geometricMean requires at least one data point");for(var n=1,e=0;e<r.length;e++){if(r[e]<=0)throw new Error("geometricMean requires only positive numbers as input");n*=r[e]}return Math.pow(n,1/r.length)}function ty(r){if(r.length===0)throw new Error("harmonicMean requires at least one data point");for(var n=0,e=0;e<r.length;e++){if(r[e]<=0)throw new Error("harmonicMean requires only positive numbers as input");n+=1/r[e]}return r.length/n}function iy(r){return ga(r,.5)}function ay(r,n,e){return(r*n-e)/(n-1)}function T1(r){if(r.length===0)throw new Error("rootMeanSquare requires at least one data point");for(var n=0,e=0;e<r.length;e++)n+=Math.pow(r[e],2);return Math.sqrt(n/r.length)}function oy(r,n){return(jr(r)-n)/(l1(r)/Math.sqrt(r.length))}function uy(r,n,e){var t=r.length,i=n.length;if(!t||!i)return null;e||(e=0);var a=jr(r),o=jr(n),f=da(r),s=da(n);return typeof a=="number"&&typeof o=="number"&&typeof f=="number"&&typeof s=="number"?(a-o-e)/Math.sqrt(((t-1)*f+(i-1)*s)/(t+i-2)*(1/t+1/i)):void 0}function ma(){this.totalCount=0,this.data={}}function wa(){this.weights=[],this.bias=0}ma.prototype.train=function(r,n){for(var e in this.data[n]||(this.data[n]={}),r){var t=r[e];this.data[n][e]===void 0&&(this.data[n][e]={}),this.data[n][e][t]===void 0&&(this.data[n][e][t]=0),this.data[n][e][t]++}this.totalCount++},ma.prototype.score=function(r){var n,e={};for(var t in r){var i=r[t];for(n in this.data)e[n]={},e[n][t+"_"+i]=this.data[n][t]?(this.data[n][t][i]||0)/this.totalCount:0}var a={};for(n in e)for(var o in a[n]=0,e[n])a[n]+=e[n][o];return a},wa.prototype.predict=function(r){if(r.length!==this.weights.length)return null;for(var n=0,e=0;e<this.weights.length;e++)n+=this.weights[e]*r[e];return(n+=this.bias)>0?1:0},wa.prototype.train=function(r,n){if(n!==0&&n!==1)return null;r.length!==this.weights.length&&(this.weights=r,this.bias=1);var e=this.predict(r);if(e!==n){for(var t=n-e,i=0;i<this.weights.length;i++)this.weights[i]+=t*r[i];this.bias+=t}return this};var yt=1e-4;function M1(r){if(r<0)throw new Error("factorial requires a non-negative value");if(Math.floor(r)!==r)throw new Error("factorial requires an integer input");for(var n=1,e=2;e<=r;e++)n*=e;return n}function $1(r){if(typeof(n=r)=="number"&&isFinite(n)&&Math.floor(n)===n)return r<=0?NaN:M1(r-1);var n;if(--r<0)return Math.PI/(Math.sin(Math.PI*-r)*$1(-r));var e=r+.25;return Math.pow(r/Math.E,r)*Math.sqrt(2*Math.PI*(r+1/6))*(1+1/144/Math.pow(e,2)-1/12960/Math.pow(e,3)-257/207360/Math.pow(e,4)-52/2612736/Math.pow(e,5)+5741173/9405849600/Math.pow(e,6)+37529/18811699200/Math.pow(e,7))}var P1=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],ly=607/128,sy=Math.log(Math.sqrt(2*Math.PI));function fy(r){if(r<=0)return 1/0;r--;for(var n=P1[0],e=1;e<15;e++)n+=P1[e]/(r+e);var t=ly+.5+r;return sy+Math.log(n)-t+(r+.5)*Math.log(t)}function cy(r){if(r<0||r>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-r,r]}function vy(r,n){if(!(n<0||n>1||r<=0||r%1!=0)){var e=0,t=0,i=[],a=1;do i[e]=a*Math.pow(n,e)*Math.pow(1-n,r-e),t+=i[e],a=a*(r-++e+1)/e;while(t<1-yt);return i}}function hy(r){if(!(r<=0)){var n=0,e=0,t=[],i=1;do t[n]=Math.exp(-r)*Math.pow(r,n)/i,e+=t[n],i*=++n;while(e<1-yt);return t}}var R1={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};function gy(r,n,e){for(var t=0,i=n(jr(r)),a=[],o=[],f=0;f<r.length;f++)a[r[f]]===void 0&&(a[r[f]]=0),a[r[f]]++;for(var s=0;s<a.length;s++)a[s]===void 0&&(a[s]=0);for(var c in i)c in a&&(o[+c]=i[c]*r.length);for(var u=o.length-1;u>=0;u--)o[u]<3&&(o[u-1]+=o[u],o.pop(),a[u-1]+=a[u],a.pop());for(var v=0;v<a.length;v++)t+=Math.pow(a[v]-o[v],2)/o[v];return R1[a.length-1-1][e]<t}var py=Math.sqrt(2*Math.PI),Cl={gaussian:function(r){return Math.exp(-.5*r*r)/py}},kl={nrd:function(r){var n=ya(r),e=Ml(r);return typeof e=="number"&&(n=Math.min(n,e/1.34)),1.06*n*Math.pow(r.length,-.2)}};function x1(r,n,e){var t,i;if(n===void 0)t=Cl.gaussian;else if(typeof n=="string"){if(!Cl[n])throw new Error('Unknown kernel "'+n+'"');t=Cl[n]}else t=n;if(e===void 0)i=kl.nrd(r);else if(typeof e=="string"){if(!kl[e])throw new Error('Unknown bandwidth method "'+e+'"');i=kl[e](r)}else i=e;return function(a){var o=0,f=0;for(o=0;o<r.length;o++)f+=t((a-r[o])/i);return f/i/r.length}}function dy(r,n,e){return(r-n)/e}var yy=Math.sqrt(2*Math.PI);function my(r){for(var n=r,e=r,t=1;t<15;t++)n+=e*=r*r/(2*t+1);return Math.round(1e4*(.5+n/yy*Math.exp(-r*r/2)))/1e4}for(var mt=[],Al=0;Al<=3.09;Al+=.01)mt.push(my(Al));function wy(r){var n=Math.abs(r),e=Math.min(Math.round(100*n),mt.length-1);return r>=0?mt[e]:+(1-mt[e]).toFixed(4)}function C1(r){var n=1/(1+.5*Math.abs(r)),e=n*Math.exp(-Math.pow(r,2)-1.26551223+1.00002368*n+.37409196*Math.pow(n,2)+.09678418*Math.pow(n,3)-.18628806*Math.pow(n,4)+.27886807*Math.pow(n,5)-1.13520398*Math.pow(n,6)+1.48851587*Math.pow(n,7)-.82215223*Math.pow(n,8)+.17087277*Math.pow(n,9));return r>=0?1-e:e-1}function k1(r){var n=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),e=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*n)+Math.log(1-r*r)/2,2)-Math.log(1-r*r)/n)-(2/(Math.PI*n)+Math.log(1-r*r)/2));return r>=0?e:-e}function Sy(r){return r===0?r=yt:r>=1&&(r=1-yt),Math.sqrt(2)*k1(2*r-1)}function Ey(r,n,e,t){if(t===void 0&&(t=1e4),e===void 0&&(e="two_side"),e!=="two_side"&&e!=="greater"&&e!=="less")throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var i=jr(r)-jr(n),a=new Array(t),o=r.concat(n),f=Math.floor(o.length/2),s=0;s<t;s++){Pl(o);var c=o.slice(0,f),u=o.slice(f,o.length),v=jr(c)-jr(u);a[s]=v}var l=0;if(e==="two_side")for(var h=0;h<=t;h++)Math.abs(a[h])>=Math.abs(i)&&(l+=1);else if(e==="greater")for(var g=0;g<=t;g++)a[g]>=i&&(l+=1);else for(var p=0;p<=t;p++)a[p]<=i&&(l+=1);return l/t}function bl(r){if(typeof r=="number")return r<0?-1:r===0?0:1;throw new TypeError("not a number")}function _y(r,n,e,t,i){if(typeof r!="function")throw new TypeError("func must be a function");for(var a=0;a<t;a++){var o=(n+e)/2;if(r(o)===0||Math.abs((e-n)/2)<i)return o;bl(r(o))===bl(r(n))?n=o:e=o}throw new Error("maximum number of iterations exceeded")}var Ty=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",linearRegression:b3,linearRegressionLine:D3,standardDeviation:l1,rSquared:I3,mode:O3,modeFast:L3,modeSorted:s1,min:f1,max:c1,extent:N3,minSorted:q3,maxSorted:F3,extentSorted:z3,sum:o1,sumSimple:B3,product:G3,quantile:pa,quantileSorted:ga,quantileRank:H3,quantileRankSorted:g1,interquartileRange:Ml,iqr:Ml,medianAbsoluteDeviation:p1,mad:p1,chunk:j3,sampleWithReplacement:Y3,shuffle:d1,shuffleInPlace:Pl,sample:X3,ckmeans:V3,uniqueCountSorted:y1,sumNthPowerDeviations:Tl,equalIntervalBreaks:J3,sampleCovariance:w1,sampleCorrelation:W3,sampleVariance:da,sampleStandardDeviation:ya,sampleSkewness:K3,sampleKurtosis:Q3,permutationsHeap:Z3,combinations:S1,combinationsReplacement:E1,addToMean:ry,combineMeans:_1,combineVariances:ny,geometricMean:ey,harmonicMean:ty,average:jr,mean:jr,median:$l,medianSorted:iy,subtractFromMean:ay,rootMeanSquare:T1,rms:T1,variance:u1,tTest:oy,tTestTwoSample:uy,BayesianClassifier:ma,bayesian:ma,PerceptronModel:wa,perceptron:wa,epsilon:yt,factorial:M1,gamma:$1,gammaln:fy,bernoulliDistribution:cy,binomialDistribution:vy,poissonDistribution:hy,chiSquaredDistributionTable:R1,chiSquaredGoodnessOfFit:gy,kernelDensityEstimation:x1,kde:x1,zScore:dy,cumulativeStdNormalProbability:wy,get standardNormalTable(){return mt},errorFunction:C1,erf:C1,inverseErrorFunction:k1,probit:Sy,permutationTest:Ey,bisect:_y,quickselect:pt,sign:bl,numericSort:ha}),On=Sn(Ty),Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.default=function(r){for(var n=1/r,e=[],t=0;t<=1;t=t+n)e.push(t);return e};var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.default={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]};Object.defineProperty(A3,"__esModule",{value:!0});var Dl=nr.exports,A1=Dl.__importStar(On),_a=K,Il=Hn,My=Dl.__importDefault(Sa),$y=Dl.__importDefault(Ea),Py=$y.default.STATISTICS_METHODS;function Ol(r,n){var e=r.getColumn(n);return _a.isArray(e)&&_a.isArray(e[0])&&(e=_a.flattenDeep(e)),e}Py.forEach(function(r){Il.View.prototype[r]=function(n){return A1[r](Ol(this,n))}});var b1=A1.quantile;_a.assign(Il.View.prototype,{average:Il.View.prototype.mean,quantile:function(r,n){return b1(Ol(this,r),n)},quantiles:function(r,n){var e=Ol(this,r);return n.map(function(t){return b1(e,t)})},quantilesByFraction:function(r,n){return this.quantiles(r,My.default(n))},range:function(r){return[this.min(r),this.max(r)]},extent:function(r){return this.range(r)}});var Ry={},V={};Object.defineProperty(V,"__esModule",{value:!0});V.DataSet=void 0;var Ll=nr.exports,ke=K,xy=Ll.__importDefault(Ku.exports),Ta=Hn,D1=Ll.__importDefault(Ea),wt=function(r){Ll.__extends(n,r);function n(e){e===void 0&&(e={state:{}});var t=r.call(this)||this;return t.isDataSet=!0,t._onChangeTimer=null,t.views={},t.state={},t.state=e.state,t}return n.registerConnector=function(e,t){n.connectors[e]=t},n.getConnector=function(e){return n.connectors[e]||n.connectors.default},n.registerTransform=function(e,t){n.transforms[e]=t},n.getTransform=function(e){return n.transforms[e]||n.transforms.default},n.prototype._getUniqueViewName=function(){for(var e=ke.uniqueId("view_");this.views[e];)e=ke.uniqueId("view_");return e},n.prototype.createView=function(e,t){if(ke.isNil(e)&&(e=this._getUniqueViewName()),ke.isObject(e)&&(t=e,e=this._getUniqueViewName()),this.views[e])throw new Error("data view exists: "+e);var i=new Ta.View(this,t);return this.views[e]=i,i},n.prototype.getView=function(e){return this.views[e]},n.prototype.setView=function(e,t){this.views[e]=t},n.prototype.setState=function(e,t){var i=this;this.state[e]=t,this._onChangeTimer&&(window.clearTimeout(this._onChangeTimer),this._onChangeTimer=null),this._onChangeTimer=window.setTimeout(function(){i.emit("statechange",e,t)},16)},n.CONSTANTS=D1.default,n.connectors={},n.transforms={},n.DataSet=n,n.DataView=Ta.View,n.View=Ta.View,n.version="____DATASET_VERSION____",n}(xy.default);V.DataSet=wt;ke.assign(wt,D1.default);ke.assign(wt.prototype,{view:wt.prototype.createView});Ta.View.DataSet=wt;Object.defineProperty(Ry,"__esModule",{value:!0});var I1=K,Cy=V;Cy.DataSet.registerConnector("default",function(r,n){var e;if(I1.isString(r)?e=n.getView(r):e=r,!e)throw new TypeError("Invalid dataView");return I1.deepMix([],e.rows)});var ky={},O1={},Nl={},ql=34,St=10,Fl=13;function L1(r){return new Function("d","return {"+r.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function Ay(r,n){var e=L1(r);return function(t,i){return n(e(t),i,r)}}function N1(r){var n=Object.create(null),e=[];return r.forEach(function(t){for(var i in t)i in n||e.push(n[i]=i)}),e}function Qr(r,n){var e=r+"",t=e.length;return t<n?new Array(n-t+1).join(0)+e:e}function by(r){return r<0?"-"+Qr(-r,6):r>9999?"+"+Qr(r,6):Qr(r,4)}function Dy(r){var n=r.getUTCHours(),e=r.getUTCMinutes(),t=r.getUTCSeconds(),i=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":by(r.getUTCFullYear())+"-"+Qr(r.getUTCMonth()+1,2)+"-"+Qr(r.getUTCDate(),2)+(i?"T"+Qr(n,2)+":"+Qr(e,2)+":"+Qr(t,2)+"."+Qr(i,3)+"Z":t?"T"+Qr(n,2)+":"+Qr(e,2)+":"+Qr(t,2)+"Z":e||n?"T"+Qr(n,2)+":"+Qr(e,2)+"Z":"")}function zl(r){var n=new RegExp('["'+r+`
\r]`),e=r.charCodeAt(0);function t(v,l){var h,g,p=i(v,function(d,m){if(h)return h(d,m-1);g=d,h=l?Ay(d,l):L1(d)});return p.columns=g||[],p}function i(v,l){var h=[],g=v.length,p=0,d=0,m,y=g<=0,w=!1;v.charCodeAt(g-1)===St&&--g,v.charCodeAt(g-1)===Fl&&--g;function E(){if(y)return Nl;if(w)return w=!1,O1;var M,C=p,R;if(v.charCodeAt(C)===ql){for(;p++<g&&v.charCodeAt(p)!==ql||v.charCodeAt(++p)===ql;);return(M=p)>=g?y=!0:(R=v.charCodeAt(p++))===St?w=!0:R===Fl&&(w=!0,v.charCodeAt(p)===St&&++p),v.slice(C+1,M-1).replace(/""/g,'"')}for(;p<g;){if((R=v.charCodeAt(M=p++))===St)w=!0;else if(R===Fl)w=!0,v.charCodeAt(p)===St&&++p;else if(R!==e)continue;return v.slice(C,M)}return y=!0,v.slice(C,g)}for(;(m=E())!==Nl;){for(var T=[];m!==O1&&m!==Nl;)T.push(m),m=E();l&&(T=l(T,d++))==null||h.push(T)}return h}function a(v,l){return v.map(function(h){return l.map(function(g){return u(h[g])}).join(r)})}function o(v,l){return l==null&&(l=N1(v)),[l.map(u).join(r)].concat(a(v,l)).join(`
`)}function f(v,l){return l==null&&(l=N1(v)),a(v,l).join(`
`)}function s(v){return v.map(c).join(`
`)}function c(v){return v.map(u).join(r)}function u(v){return v==null?"":v instanceof Date?Dy(v):n.test(v+="")?'"'+v.replace(/"/g,'""')+'"':v}return{parse:t,parseRows:i,format:o,formatBody:f,formatRows:s,formatRow:c,formatValue:u}}var ee=zl(","),Iy=ee.parse,Oy=ee.parseRows,Ly=ee.format,Ny=ee.formatBody,qy=ee.formatRows,Fy=ee.formatRow,zy=ee.formatValue,te=zl("	"),By=te.parse,Gy=te.parseRows,Uy=te.format,Hy=te.formatBody,jy=te.formatRows,Yy=te.formatRow,Xy=te.formatValue;function Vy(r){for(var n in r){var e=r[n].trim(),t,i;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(t=+e))e=t;else if(i=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Jy&&!!i[4]&&!i[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;r[n]=e}return r}var Jy=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),Wy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dsvFormat:zl,csvParse:Iy,csvParseRows:Oy,csvFormat:Ly,csvFormatBody:Ny,csvFormatRows:qy,csvFormatRow:Fy,csvFormatValue:zy,tsvParse:By,tsvParseRows:Gy,tsvFormat:Uy,tsvFormatBody:Hy,tsvFormatRows:jy,tsvFormatRow:Yy,tsvFormatValue:Xy,autoType:Vy}),Ky=Sn(Wy);Object.defineProperty(ky,"__esModule",{value:!0});var Qy=K,Bl=Ky,Gl=V;Gl.DataSet.registerConnector("dsv",function(r,n){n===void 0&&(n={});var e=n.delimiter||",";if(!Qy.isString(e))throw new TypeError("Invalid delimiter: must be a string!");return Bl.dsvFormat(e).parse(r)});Gl.DataSet.registerConnector("csv",function(r){return Bl.csvParse(r)});Gl.DataSet.registerConnector("tsv",function(r){return Bl.tsvParse(r)});var q1={};Object.defineProperty(q1,"__esModule",{value:!0});var Zy=ot,rm=V;function F1(r,n){n.dataType="geo-graticule";var e=Zy.geoGraticule().lines();return e.map(function(t,i){return t.index=""+i,t}),n.rows=e,e}q1.default=F1;rm.DataSet.registerConnector("geo-graticule",F1);var Ul={},nm=tm,Hl={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},em=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function tm(r){var n=[];return r.replace(em,function(e,t,i){var a=t.toLowerCase();for(i=am(i),a=="m"&&i.length>2&&(n.push([t].concat(i.splice(0,2))),a="l",t=t=="m"?"l":"L");;){if(i.length==Hl[a])return i.unshift(t),n.push(i);if(i.length<Hl[a])throw new Error("malformed path data");n.push([t].concat(i.splice(0,Hl[a])))}}),n}var im=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function am(r){var n=r.match(im);return n?n.map(Number):[]}var om=um;function um(r){var n=0,e=0,t=0,i=0;return r.map(function(a){a=a.slice();var o=a[0],f=o.toUpperCase();if(o!=f)switch(a[0]=f,o){case"a":a[6]+=t,a[7]+=i;break;case"v":a[1]+=i;break;case"h":a[1]+=t;break;default:for(var s=1;s<a.length;)a[s++]+=t,a[s++]+=i}switch(f){case"Z":t=n,i=e;break;case"H":t=a[1];break;case"V":i=a[1];break;case"M":t=n=a[1],i=e=a[2];break;default:t=a[a.length-2],i=a[a.length-1]}return a})}var lm=nm,sm=fg,fm=om,z1=Ae;function Ae(r){if(!(this instanceof Ae))return new Ae(r);this._path=sm(r)?r:lm(r),this._path=fm(this._path),this._path=vm(this._path),this._path=cm(this._path)}Ae.prototype.at=function(r,n){return this._walk(r,n).pos};Ae.prototype.length=function(){return this._walk(null).length};Ae.prototype._walk=function(r,n){for(var e=[0,0],t=[0,0,0],i=[0,0],a=0,o=0;o<this._path.length;o++){var f=this._path[o];if(f[0]==="M"){if(e[0]=f[1],e[1]=f[2],r===0)return{length:a,pos:e}}else if(f[0]==="C"){t[0]=i[0]=e[0],t[1]=i[1]=e[1],t[2]=a;for(var s=100,c=0;c<=s;c++){var u=c/s,v=p(f,u),l=d(f,u);if(a+=jl(e[0],e[1],v,l),e[0]=v,e[1]=l,typeof r=="number"&&a>=r){var h=(a-r)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}else if(f[0]==="Q"){t[0]=i[0]=e[0],t[1]=i[1]=e[1],t[2]=a;for(var s=100,c=0;c<=s;c++){var u=c/s,v=m(f,u),l=y(f,u);if(a+=jl(e[0],e[1],v,l),e[0]=v,e[1]=l,typeof r=="number"&&a>=r){var h=(a-r)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}else if(f[0]==="L"){if(t[0]=e[0],t[1]=e[1],t[2]=a,a+=jl(e[0],e[1],f[1],f[2]),e[0]=f[1],e[1]=f[2],typeof r=="number"&&a>=r){var h=(a-r)/(a-t[2]),g=[e[0]*(1-h)+t[0]*h,e[1]*(1-h)+t[1]*h];return{length:a,pos:g}}t[0]=e[0],t[1]=e[1],t[2]=a}}return{length:a,pos:e};function p(w,E){return Math.pow(1-E,3)*i[0]+3*Math.pow(1-E,2)*E*w[1]+3*(1-E)*Math.pow(E,2)*w[3]+Math.pow(E,3)*w[5]}function d(w,E){return Math.pow(1-E,3)*i[1]+3*Math.pow(1-E,2)*E*w[2]+3*(1-E)*Math.pow(E,2)*w[4]+Math.pow(E,3)*w[6]}function m(w,E){return Math.pow(1-E,2)*i[0]+2*(1-E)*E*w[1]+Math.pow(E,2)*w[3]}function y(w,E){return Math.pow(1-E,2)*i[1]+2*(1-E)*E*w[2]+Math.pow(E,2)*w[4]}};function jl(r,n,e,t){var i=r-e,a=n-t;return Math.sqrt(i*i+a*a)}function cm(r){for(var n,e=0,t=0,i={S:{to:"C",x:3},T:{to:"Q",x:1}},a=0,o=r.length;a<o;a++){var f=r[a],s=i[f[0]];s&&(f[0]=s.to,n&&(n[0]===s.to?(e=2*n[s.x+2]-n[s.x],t=2*n[s.x+3]-n[s.x+1]):(e=n[n.length-2],t=n[n.length-1])),f.splice(1,0,e,t)),n=f}return r}function vm(r){for(var n=[],e=["L",0,0],t,i=0,a=r.length;i<a;i++){var o=r[i];switch(o[0]){case"M":e=["L",o[1],o[2]],n.push(o);break;case"Z":n.push(e);break;case"H":t=n[n.length-1]||["L",0,0],n.push(["L",o[1],t[t.length-1]]);break;case"V":t=n[n.length-1]||["L",0,0],n.push(["L",t[t.length-2],o[1]]);break;default:n.push(o)}}return n}Object.defineProperty(Ul,"__esModule",{value:!0});var hm=nr.exports,gm=hm.__importDefault(z1),pm=K,dm=ot,Ma=V,B1=dm.geoPath();function $a(r,n,e){e.dataType=Ma.DataSet.CONSTANTS.GEO;var t=pm.deepMix([],r.features);return t.forEach(function(i){i.name=i.properties.name,i.longitude=[],i.latitude=[];var a=i.pathData=B1(i),o=gm.default(a);o._path.forEach(function(s){i.longitude.push(s[1]),i.latitude.push(s[2])});var f=B1.centroid(i);i.centroidX=f[0],i.centroidY=f[1]}),t}Ma.DataSet.registerConnector("geo",$a);Ma.DataSet.registerConnector("geojson",$a);Ma.DataSet.registerConnector("GeoJSON",$a);Ul.default=$a;var ym={};Object.defineProperty(ym,"__esModule",{value:!0});var Pa=K,Yl=V,mm={nodes:function(r){return r.nodes},edges:function(r){return r.edges}};function G1(r,n,e){n=Pa.assign({},mm,n),e.dataType=Yl.DataSet.CONSTANTS.GRAPH;var t=n.nodes,i=n.edges;if(t&&!Pa.isFunction(t))throw new TypeError("Invalid nodes: must be a function!");if(i&&!Pa.isFunction(i))throw new TypeError("Invalid edges: must be a function!");return e.rows=e.graph={nodes:t(r),edges:i(r)},Pa.assign(e,e.graph),e.rows}Yl.DataSet.registerConnector("graph",G1);Yl.DataSet.registerConnector("diagram",G1);var U1={};function wm(r,n,e){var t=r.layout,i=[],a=0;Object.keys(r.hexes).forEach(function(p){r.hexes[p].key=p,i.push(r.hexes[p])});var o=zn(i,function(p){return+p.q}),f=Or(i,function(p){return+p.q}),s=zn(i,function(p){return+p.r}),c=Or(i,function(p){return+p.r}),u=o-f+1,v=s-c+1;t==="odd-r"||t==="even-r"?a=Or([n/((u+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):a=Or([e/((v+.5)*Math.sqrt(3)),n/((u+1/3)*1.5)]);var l=a*Math.sqrt(3),h=Sm(t,l,a),g=Em(h);return i.forEach(function(p){p.qc=p.q-f,p.rc=s-p.r,p.x=Xl(p,t,l,a),p.y=Vl(p,t,l,a),p.vertices=h,p.points=g}),i}function Xl(r,n,e,t){var i=0,a=0;switch(n){case"odd-r":a=r.rc%2==1?e:e/2,i=r.qc*e+a;break;case"even-r":a=r.rc%2==0?e:e/2,i=r.qc*e+a;break;case"odd-q":case"even-q":i=r.qc*t*1.5+t;break}return i}function Vl(r,n,e,t){var i=0,a=0;switch(n){case"odd-r":case"even-r":i=r.rc*t*1.5+t;break;case"odd-q":a=r.qc%2==1?e:e/2,i=r.rc*e+a;break;case"even-q":a=r.qc%2==0?e:e/2,i=r.rc*e+a;break}return i}function Sm(r,n,e){var t=[];switch(r){case"odd-r":case"even-r":t.push({x:0,y:0-e}),t.push({x:0+n*.5,y:0-.5*e}),t.push({x:0+n*.5,y:0+.5*e}),t.push({x:0,y:0+e}),t.push({x:0-n*.5,y:0+.5*e}),t.push({x:0-n*.5,y:0-.5*e});break;case"odd-q":case"even-q":t.push({x:0-e,y:0}),t.push({x:0-.5*e,y:0-n*.5}),t.push({x:0+.5*e,y:0-n*.5}),t.push({x:0+e,y:0}),t.push({x:0+.5*e,y:0+n*.5}),t.push({x:0-.5*e,y:0+n*.5});break}return t}function Em(r){var n="";return r.forEach(function(e){n+=e.x+","+e.y+" "}),n.substring(0,n.length-1)}function _m(r){var n={};n.layout=r.layout,n.hexes={};var e=[];Object.keys(r.hexes).forEach(function(u){e.push(r.hexes[u])});var t=zn(e,function(u){return+u.q}),i=Or(e,function(u){return+u.q}),a=zn(e,function(u){return+u.r}),o=Or(e,function(u){return+u.r}),f,s,c;for(f=i;f<=t;f++)for(s=o;s<=a;s++)c="Q"+f+"R"+s,n.hexes[c]={q:f,r:s};return n}function Tm(r,n,e,t){var i=[],a=r.layout;Object.keys(r.hexes).forEach(function(R){i.push(r.hexes[R])});var o=zn(i,function(R){return+R.q}),f=Or(i,function(R){return+R.q}),s=zn(i,function(R){return+R.r}),c=Or(i,function(R){return+R.r}),u=o-f+1,v=s-c+1,l;a==="odd-r"||a==="even-r"?l=Or([n/((u+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):l=Or([e/((v+.5)*Math.sqrt(3)),n/((u+1/3)*1.5)]);var h=l*Math.sqrt(3),g=[],p=l*l*4,d=i.length;if(d>1){i.forEach(function(R){R.qc=R.q-f,R.rc=s-R.r,R.x=Xl(R,a,h,l),R.y=Vl(R,a,h,l)});for(var m=0;m<d-1;m++)for(var y=m+1;y<d;y++){var w=i[m],E=i[y];if(w[t]!==E[t]&&Math.abs(w.q-E.q)<=1&&Math.abs(w.r-E.r)<=1&&(w.x-E.x)*(w.x-E.x)+(w.y-E.y)*(w.y-E.y)<p){var T={};T.x=E.x+(w.x-E.x)/2,T.y=E.y+(w.y-E.y)/2;var M={},C=Math.sqrt(3)*4;M.dx=(w.y-E.y)/C,M.dy=-(w.x-E.x)/C,g.push({x:T.x-2*M.dx,y:T.y-2*M.dy}),g.push({x:T.x-M.dx,y:T.y-M.dy}),g.push({x:T.x,y:T.y}),g.push({x:T.x+M.dx,y:T.y+M.dy}),g.push({x:T.x+2*M.dx,y:T.y+2*M.dy})}}}return g}function Mm(r,n,e,t){var i=[],a=r.layout;Object.keys(r.hexes).forEach(function(x){i.push(r.hexes[x])});var o=zn(i,function(x){return+x.q}),f=Or(i,function(x){return+x.q}),s=zn(i,function(x){return+x.r}),c=Or(i,function(x){return+x.r}),u=o-f+1,v=s-c+1,l;a==="odd-r"||a==="even-r"?l=Or([n/((u+.5)*Math.sqrt(3)),e/((v+1/3)*1.5)]):l=Or([e/((v+.5)*Math.sqrt(3)),n/((u+1/3)*1.5)]);var h=l*Math.sqrt(3),g=[],p=l*l*4,d=i.length;if(d>1){i.forEach(function(x){x.qc=x.q-f,x.rc=s-x.r,x.x=Xl(x,a,h,l),x.y=Vl(x,a,h,l)});for(var m=0;m<d-1;m++)for(var y=m+1;y<d;y++){var w=i[m],E=i[y];if(w[t]!==E[t]&&Math.abs(w.q-E.q)<=1&&Math.abs(w.r-E.r)<=1&&(w.x-E.x)*(w.x-E.x)+(w.y-E.y)*(w.y-E.y)<p){var T={};T.x=E.x+(w.x-E.x)/2,T.y=E.y+(w.y-E.y)/2;var M={},C=1;w[t]<E[t]&&(C=-1);var R=Math.sqrt(3)*2*C;M.dx=(w.y-E.y)/R,M.dy=-(w.x-E.x)/R,g.push({x1:T.x-M.dx,y1:T.y-M.dy,x2:T.x+M.dx,y2:T.y+M.dy})}}}return g}var $m=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",renderHexJSON:wm,getGridForHexJSON:_m,getBoundaryDotsForHexJSON:Tm,getBoundarySegmentsForHexJSON:Mm}),Pm=Sn($m);Object.defineProperty(U1,"__esModule",{value:!0});var H1=K,Jl=Pm,Et=V,Rm={width:1,height:1};function j1(r){return r.cx=r.x,r.cy=r.y,r.x=[],r.y=[],r.vertices.forEach(function(n){r.x.push(n.x+r.cx),r.y.push(n.y+r.cy)}),r}function _t(r,n,e){e.dataType=Et.DataSet.CONSTANTS.HEX,n=H1.assign({},Rm,n);var t=n.width,i=n.height,a=H1.deepMix([],r);e._HexJSON=a;var o=e._GridHexJSON=Jl.getGridForHexJSON(a),f=e.rows=Jl.renderHexJSON(a,t,i).map(j1);return e._gridRows=Jl.renderHexJSON(o,t,i).map(j1),f}Et.DataSet.registerConnector("hex",_t);Et.DataSet.registerConnector("hexjson",_t);Et.DataSet.registerConnector("hex-json",_t);Et.DataSet.registerConnector("HexJSON",_t);U1.default=_t;var xm={};function Cm(r,n){return r.parent===n.parent?1:2}function km(r){return r.reduce(Am,0)/r.length}function Am(r,n){return r+n.x}function bm(r){return 1+r.reduce(Dm,0)}function Dm(r,n){return Math.max(r,n.y)}function Im(r){for(var n;n=r.children;)r=n[0];return r}function Om(r){for(var n;n=r.children;)r=n[n.length-1];return r}function Lm(){var r=Cm,n=1,e=1,t=!1;function i(a){var o,f=0;a.eachAfter(function(l){var h=l.children;h?(l.x=km(h),l.y=bm(h)):(l.x=o?f+=r(l,o):0,l.y=0,o=l)});var s=Im(a),c=Om(a),u=s.x-r(s,c)/2,v=c.x+r(c,s)/2;return a.eachAfter(t?function(l){l.x=(l.x-a.x)*n,l.y=(a.y-l.y)*e}:function(l){l.x=(l.x-u)/(v-u)*n,l.y=(1-(a.y?l.y/a.y:1))*e})}return i.separation=function(a){return arguments.length?(r=a,i):r},i.size=function(a){return arguments.length?(t=!1,n=+a[0],e=+a[1],i):t?null:[n,e]},i.nodeSize=function(a){return arguments.length?(t=!0,n=+a[0],e=+a[1],i):t?[n,e]:null},i}function Nm(r){var n=0,e=r.children,t=e&&e.length;if(!t)n=1;else for(;--t>=0;)n+=e[t].value;r.value=n}function qm(){return this.eachAfter(Nm)}function Fm(r){var n=this,e,t=[n],i,a,o;do for(e=t.reverse(),t=[];n=e.pop();)if(r(n),i=n.children,i)for(a=0,o=i.length;a<o;++a)t.push(i[a]);while(t.length);return this}function zm(r){for(var n=this,e=[n],t,i;n=e.pop();)if(r(n),t=n.children,t)for(i=t.length-1;i>=0;--i)e.push(t[i]);return this}function Bm(r){for(var n=this,e=[n],t=[],i,a,o;n=e.pop();)if(t.push(n),i=n.children,i)for(a=0,o=i.length;a<o;++a)e.push(i[a]);for(;n=t.pop();)r(n);return this}function Gm(r){return this.eachAfter(function(n){for(var e=+r(n.data)||0,t=n.children,i=t&&t.length;--i>=0;)e+=t[i].value;n.value=e})}function Um(r){return this.eachBefore(function(n){n.children&&n.children.sort(r)})}function Hm(r){for(var n=this,e=jm(n,r),t=[n];n!==e;)n=n.parent,t.push(n);for(var i=t.length;r!==e;)t.splice(i,0,r),r=r.parent;return t}function jm(r,n){if(r===n)return r;var e=r.ancestors(),t=n.ancestors(),i=null;for(r=e.pop(),n=t.pop();r===n;)i=r,r=e.pop(),n=t.pop();return i}function Ym(){for(var r=this,n=[r];r=r.parent;)n.push(r);return n}function Xm(){var r=[];return this.each(function(n){r.push(n)}),r}function Vm(){var r=[];return this.eachBefore(function(n){n.children||r.push(n)}),r}function Jm(){var r=this,n=[];return r.each(function(e){e!==r&&n.push({source:e.parent,target:e})}),n}function Wl(r,n){var e=new be(r),t=+r.value&&(e.value=r.value),i,a=[e],o,f,s,c;for(n==null&&(n=Km);i=a.pop();)if(t&&(i.value=+i.data.value),(f=n(i.data))&&(c=f.length))for(i.children=new Array(c),s=c-1;s>=0;--s)a.push(o=i.children[s]=new be(f[s])),o.parent=i,o.depth=i.depth+1;return e.eachBefore(Y1)}function Wm(){return Wl(this).eachBefore(Qm)}function Km(r){return r.children}function Qm(r){r.data=r.data.data}function Y1(r){var n=0;do r.height=n;while((r=r.parent)&&r.height<++n)}function be(r){this.data=r,this.depth=this.height=0,this.parent=null}be.prototype=Wl.prototype={constructor:be,count:qm,each:Fm,eachAfter:Bm,eachBefore:zm,sum:Gm,sort:Um,path:Hm,ancestors:Ym,descendants:Xm,leaves:Vm,links:Jm,copy:Wm};var Zm=Array.prototype.slice;function r4(r){for(var n=r.length,e,t;n;)t=Math.random()*n--|0,e=r[n],r[n]=r[t],r[t]=e;return r}function X1(r){for(var n=0,e=(r=r4(Zm.call(r))).length,t=[],i,a;n<e;)i=r[n],a&&V1(a,i)?++n:(a=e4(t=n4(t,i)),n=0);return a}function n4(r,n){var e,t;if(Kl(n,r))return[n];for(e=0;e<r.length;++e)if(Ra(n,r[e])&&Kl(Tt(r[e],n),r))return[r[e],n];for(e=0;e<r.length-1;++e)for(t=e+1;t<r.length;++t)if(Ra(Tt(r[e],r[t]),n)&&Ra(Tt(r[e],n),r[t])&&Ra(Tt(r[t],n),r[e])&&Kl(J1(r[e],r[t],n),r))return[r[e],r[t],n];throw new Error}function Ra(r,n){var e=r.r-n.r,t=n.x-r.x,i=n.y-r.y;return e<0||e*e<t*t+i*i}function V1(r,n){var e=r.r-n.r+1e-6,t=n.x-r.x,i=n.y-r.y;return e>0&&e*e>t*t+i*i}function Kl(r,n){for(var e=0;e<n.length;++e)if(!V1(r,n[e]))return!1;return!0}function e4(r){switch(r.length){case 1:return t4(r[0]);case 2:return Tt(r[0],r[1]);case 3:return J1(r[0],r[1],r[2])}}function t4(r){return{x:r.x,y:r.y,r:r.r}}function Tt(r,n){var e=r.x,t=r.y,i=r.r,a=n.x,o=n.y,f=n.r,s=a-e,c=o-t,u=f-i,v=Math.sqrt(s*s+c*c);return{x:(e+a+s/v*u)/2,y:(t+o+c/v*u)/2,r:(v+i+f)/2}}function J1(r,n,e){var t=r.x,i=r.y,a=r.r,o=n.x,f=n.y,s=n.r,c=e.x,u=e.y,v=e.r,l=t-o,h=t-c,g=i-f,p=i-u,d=s-a,m=v-a,y=t*t+i*i-a*a,w=y-o*o-f*f+s*s,E=y-c*c-u*u+v*v,T=h*g-l*p,M=(g*E-p*w)/(T*2)-t,C=(p*d-g*m)/T,R=(h*w-l*E)/(T*2)-i,x=(l*m-h*d)/T,O=C*C+x*x-1,k=2*(a+M*C+R*x),D=M*M+R*R-a*a,z=-(O?(k+Math.sqrt(k*k-4*O*D))/(2*O):D/k);return{x:t+M+C*z,y:i+R+x*z,r:z}}function W1(r,n,e){var t=r.x-n.x,i,a,o=r.y-n.y,f,s,c=t*t+o*o;c?(a=n.r+e.r,a*=a,s=r.r+e.r,s*=s,a>s?(i=(c+s-a)/(2*c),f=Math.sqrt(Math.max(0,s/c-i*i)),e.x=r.x-i*t-f*o,e.y=r.y-i*o+f*t):(i=(c+a-s)/(2*c),f=Math.sqrt(Math.max(0,a/c-i*i)),e.x=n.x+i*t-f*o,e.y=n.y+i*o+f*t)):(e.x=n.x+e.r,e.y=n.y)}function K1(r,n){var e=r.r+n.r-1e-6,t=n.x-r.x,i=n.y-r.y;return e>0&&e*e>t*t+i*i}function Q1(r){var n=r._,e=r.next._,t=n.r+e.r,i=(n.x*e.r+e.x*n.r)/t,a=(n.y*e.r+e.y*n.r)/t;return i*i+a*a}function xa(r){this._=r,this.next=null,this.previous=null}function Z1(r){if(!(i=r.length))return 0;var n,e,t,i,a,o,f,s,c,u,v;if(n=r[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=r[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;W1(e,n,t=r[2]),n=new xa(n),e=new xa(e),t=new xa(t),n.next=t.previous=e,e.next=n.previous=t,t.next=e.previous=n;r:for(f=3;f<i;++f){W1(n._,e._,t=r[f]),t=new xa(t),s=e.next,c=n.previous,u=e._.r,v=n._.r;do if(u<=v){if(K1(s._,t._)){e=s,n.next=e,e.previous=n,--f;continue r}u+=s._.r,s=s.next}else{if(K1(c._,t._)){n=c,n.next=e,e.previous=n,--f;continue r}v+=c._.r,c=c.previous}while(s!==c.next);for(t.previous=n,t.next=e,n.next=e.previous=e=t,a=Q1(n);(t=t.next)!==e;)(o=Q1(t))<a&&(n=t,a=o);e=n.next}for(n=[e._],t=e;(t=t.next)!==e;)n.push(t._);for(t=X1(n),f=0;f<i;++f)n=r[f],n.x-=t.x,n.y-=t.y;return t.r}function i4(r){return Z1(r),r}function a4(r){return r==null?null:Ca(r)}function Ca(r){if(typeof r!="function")throw new Error;return r}function ie(){return 0}function De(r){return function(){return r}}function o4(r){return Math.sqrt(r.value)}function u4(){var r=null,n=1,e=1,t=ie;function i(a){return a.x=n/2,a.y=e/2,r?a.eachBefore(rv(r)).eachAfter(Ql(t,.5)).eachBefore(nv(1)):a.eachBefore(rv(o4)).eachAfter(Ql(ie,1)).eachAfter(Ql(t,a.r/Math.min(n,e))).eachBefore(nv(Math.min(n,e)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(r=a4(a),i):r},i.size=function(a){return arguments.length?(n=+a[0],e=+a[1],i):[n,e]},i.padding=function(a){return arguments.length?(t=typeof a=="function"?a:De(+a),i):t},i}function rv(r){return function(n){n.children||(n.r=Math.max(0,+r(n)||0))}}function Ql(r,n){return function(e){if(t=e.children){var t,i,a=t.length,o=r(e)*n||0,f;if(o)for(i=0;i<a;++i)t[i].r+=o;if(f=Z1(t),o)for(i=0;i<a;++i)t[i].r-=o;e.r=f+o}}}function nv(r){return function(n){var e=n.parent;n.r*=r,e&&(n.x=e.x+r*n.x,n.y=e.y+r*n.y)}}function ev(r){r.x0=Math.round(r.x0),r.y0=Math.round(r.y0),r.x1=Math.round(r.x1),r.y1=Math.round(r.y1)}function Mt(r,n,e,t,i){for(var a=r.children,o,f=-1,s=a.length,c=r.value&&(t-n)/r.value;++f<s;)o=a[f],o.y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*c}function l4(){var r=1,n=1,e=0,t=!1;function i(o){var f=o.height+1;return o.x0=o.y0=e,o.x1=r,o.y1=n/f,o.eachBefore(a(n,f)),t&&o.eachBefore(ev),o}function a(o,f){return function(s){s.children&&Mt(s,s.x0,o*(s.depth+1)/f,s.x1,o*(s.depth+2)/f);var c=s.x0,u=s.y0,v=s.x1-e,l=s.y1-e;v<c&&(c=v=(c+v)/2),l<u&&(u=l=(u+l)/2),s.x0=c,s.y0=u,s.x1=v,s.y1=l}}return i.round=function(o){return arguments.length?(t=!!o,i):t},i.size=function(o){return arguments.length?(r=+o[0],n=+o[1],i):[r,n]},i.padding=function(o){return arguments.length?(e=+o,i):e},i}var tv="$",s4={depth:-1},iv={};function f4(r){return r.id}function c4(r){return r.parentId}function v4(){var r=f4,n=c4;function e(t){var i,a,o=t.length,f,s,c,u=new Array(o),v,l,h={};for(a=0;a<o;++a)i=t[a],c=u[a]=new be(i),(v=r(i,a,t))!=null&&(v+="")&&(l=tv+(c.id=v),h[l]=l in h?iv:c);for(a=0;a<o;++a)if(c=u[a],v=n(t[a],a,t),v==null||!(v+="")){if(f)throw new Error("multiple roots");f=c}else{if(s=h[tv+v],!s)throw new Error("missing: "+v);if(s===iv)throw new Error("ambiguous: "+v);s.children?s.children.push(c):s.children=[c],c.parent=s}if(!f)throw new Error("no root");if(f.parent=s4,f.eachBefore(function(g){g.depth=g.parent.depth+1,--o}).eachBefore(Y1),f.parent=null,o>0)throw new Error("cycle");return f}return e.id=function(t){return arguments.length?(r=Ca(t),e):r},e.parentId=function(t){return arguments.length?(n=Ca(t),e):n},e}function h4(r,n){return r.parent===n.parent?1:2}function Zl(r){var n=r.children;return n?n[0]:r.t}function r0(r){var n=r.children;return n?n[n.length-1]:r.t}function g4(r,n,e){var t=e/(n.i-r.i);n.c-=t,n.s+=e,r.c+=t,n.z+=e,n.m+=e}function p4(r){for(var n=0,e=0,t=r.children,i=t.length,a;--i>=0;)a=t[i],a.z+=n,a.m+=n,n+=a.s+(e+=a.c)}function d4(r,n,e){return r.a.parent===n.parent?r.a:e}function ka(r,n){this._=r,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}ka.prototype=Object.create(be.prototype);function y4(r){for(var n=new ka(r,0),e,t=[n],i,a,o,f;e=t.pop();)if(a=e._.children)for(e.children=new Array(f=a.length),o=f-1;o>=0;--o)t.push(i=e.children[o]=new ka(a[o],o)),i.parent=e;return(n.parent=new ka(null,0)).children=[n],n}function m4(){var r=h4,n=1,e=1,t=null;function i(c){var u=y4(c);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),t)c.eachBefore(s);else{var v=c,l=c,h=c;c.eachBefore(function(y){y.x<v.x&&(v=y),y.x>l.x&&(l=y),y.depth>h.depth&&(h=y)});var g=v===l?1:r(v,l)/2,p=g-v.x,d=n/(l.x+g+p),m=e/(h.depth||1);c.eachBefore(function(y){y.x=(y.x+p)*d,y.y=y.depth*m})}return c}function a(c){var u=c.children,v=c.parent.children,l=c.i?v[c.i-1]:null;if(u){p4(c);var h=(u[0].z+u[u.length-1].z)/2;l?(c.z=l.z+r(c._,l._),c.m=c.z-h):c.z=h}else l&&(c.z=l.z+r(c._,l._));c.parent.A=f(c,l,c.parent.A||v[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function f(c,u,v){if(u){for(var l=c,h=c,g=u,p=l.parent.children[0],d=l.m,m=h.m,y=g.m,w=p.m,E;g=r0(g),l=Zl(l),g&&l;)p=Zl(p),h=r0(h),h.a=c,E=g.z+y-l.z-d+r(g._,l._),E>0&&(g4(d4(g,c,v),c,E),d+=E,m+=E),y+=g.m,d+=l.m,w+=p.m,m+=h.m;g&&!r0(h)&&(h.t=g,h.m+=y-m),l&&!Zl(p)&&(p.t=l,p.m+=d-w,v=c)}return v}function s(c){c.x*=n,c.y=c.depth*e}return i.separation=function(c){return arguments.length?(r=c,i):r},i.size=function(c){return arguments.length?(t=!1,n=+c[0],e=+c[1],i):t?null:[n,e]},i.nodeSize=function(c){return arguments.length?(t=!0,n=+c[0],e=+c[1],i):t?[n,e]:null},i}function Aa(r,n,e,t,i){for(var a=r.children,o,f=-1,s=a.length,c=r.value&&(i-e)/r.value;++f<s;)o=a[f],o.x0=n,o.x1=t,o.y0=e,o.y1=e+=o.value*c}var av=(1+Math.sqrt(5))/2;function ov(r,n,e,t,i,a){for(var o=[],f=n.children,s,c,u=0,v=0,l=f.length,h,g,p=n.value,d,m,y,w,E,T,M;u<l;){h=i-e,g=a-t;do d=f[v++].value;while(!d&&v<l);for(m=y=d,T=Math.max(g/h,h/g)/(p*r),M=d*d*T,E=Math.max(y/M,M/m);v<l;++v){if(d+=c=f[v].value,c<m&&(m=c),c>y&&(y=c),M=d*d*T,w=Math.max(y/M,M/m),w>E){d-=c;break}E=w}o.push(s={value:d,dice:h<g,children:f.slice(u,v)}),s.dice?Mt(s,e,t,i,p?t+=g*d/p:a):Aa(s,e,t,p?e+=h*d/p:i,a),p-=d,u=v}return o}var uv=function r(n){function e(t,i,a,o,f){ov(n,t,i,a,o,f)}return e.ratio=function(t){return r((t=+t)>1?t:1)},e}(av);function w4(){var r=uv,n=!1,e=1,t=1,i=[0],a=ie,o=ie,f=ie,s=ie,c=ie;function u(l){return l.x0=l.y0=0,l.x1=e,l.y1=t,l.eachBefore(v),i=[0],n&&l.eachBefore(ev),l}function v(l){var h=i[l.depth],g=l.x0+h,p=l.y0+h,d=l.x1-h,m=l.y1-h;d<g&&(g=d=(g+d)/2),m<p&&(p=m=(p+m)/2),l.x0=g,l.y0=p,l.x1=d,l.y1=m,l.children&&(h=i[l.depth+1]=a(l)/2,g+=c(l)-h,p+=o(l)-h,d-=f(l)-h,m-=s(l)-h,d<g&&(g=d=(g+d)/2),m<p&&(p=m=(p+m)/2),r(l,g,p,d,m))}return u.round=function(l){return arguments.length?(n=!!l,u):n},u.size=function(l){return arguments.length?(e=+l[0],t=+l[1],u):[e,t]},u.tile=function(l){return arguments.length?(r=Ca(l),u):r},u.padding=function(l){return arguments.length?u.paddingInner(l).paddingOuter(l):u.paddingInner()},u.paddingInner=function(l){return arguments.length?(a=typeof l=="function"?l:De(+l),u):a},u.paddingOuter=function(l){return arguments.length?u.paddingTop(l).paddingRight(l).paddingBottom(l).paddingLeft(l):u.paddingTop()},u.paddingTop=function(l){return arguments.length?(o=typeof l=="function"?l:De(+l),u):o},u.paddingRight=function(l){return arguments.length?(f=typeof l=="function"?l:De(+l),u):f},u.paddingBottom=function(l){return arguments.length?(s=typeof l=="function"?l:De(+l),u):s},u.paddingLeft=function(l){return arguments.length?(c=typeof l=="function"?l:De(+l),u):c},u}function S4(r,n,e,t,i){var a=r.children,o,f=a.length,s,c=new Array(f+1);for(c[0]=s=o=0;o<f;++o)c[o+1]=s+=a[o].value;u(0,f,r.value,n,e,t,i);function u(v,l,h,g,p,d,m){if(v>=l-1){var y=a[v];y.x0=g,y.y0=p,y.x1=d,y.y1=m;return}for(var w=c[v],E=h/2+w,T=v+1,M=l-1;T<M;){var C=T+M>>>1;c[C]<E?T=C+1:M=C}E-c[T-1]<c[T]-E&&v+1<T&&--T;var R=c[T]-w,x=h-R;if(d-g>m-p){var O=(g*x+d*R)/h;u(v,T,R,g,p,O,m),u(T,l,x,O,p,d,m)}else{var k=(p*x+m*R)/h;u(v,T,R,g,p,d,k),u(T,l,x,g,k,d,m)}}}function E4(r,n,e,t,i){(r.depth&1?Aa:Mt)(r,n,e,t,i)}var _4=function r(n){function e(t,i,a,o,f){if((s=t._squarify)&&s.ratio===n)for(var s,c,u,v,l=-1,h,g=s.length,p=t.value;++l<g;){for(c=s[l],u=c.children,v=c.value=0,h=u.length;v<h;++v)c.value+=u[v].value;c.dice?Mt(c,i,a,o,a+=(f-a)*c.value/p):Aa(c,i,a,i+=(o-i)*c.value/p,f),p-=c.value}else t._squarify=s=ov(n,t,i,a,o,f),s.ratio=n}return e.ratio=function(t){return r((t=+t)>1?t:1)},e}(av),T4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",cluster:Lm,hierarchy:Wl,pack:u4,packSiblings:i4,packEnclose:X1,partition:l4,stratify:v4,tree:m4,treemap:w4,treemapBinary:S4,treemapDice:Mt,treemapSlice:Aa,treemapSliceDice:E4,treemapSquarify:uv,treemapResquarify:_4}),Ie=Sn(T4);Object.defineProperty(xm,"__esModule",{value:!0});var M4=K,$4=Ie,n0=V;function lv(r,n,e){e.dataType=n0.DataSet.CONSTANTS.HIERARCHY;var t=n&&n.children?n.children:null;if(t&&!M4.isFunction(t))throw new TypeError("Invalid children: must be a function!");return n.pureData?e.rows=e.root=r:e.rows=e.root=$4.hierarchy(r,t),r}n0.DataSet.registerConnector("hierarchy",lv);n0.DataSet.registerConnector("tree",lv);var P4={};function sv(r){return r}function e0(r){if(r==null)return sv;var n,e,t=r.scale[0],i=r.scale[1],a=r.translate[0],o=r.translate[1];return function(f,s){s||(n=e=0);var c=2,u=f.length,v=new Array(u);for(v[0]=(n+=f[0])*t+a,v[1]=(e+=f[1])*i+o;c<u;)v[c]=f[c],++c;return v}}function fv(r){var n=e0(r.transform),e,t=1/0,i=t,a=-t,o=-t;function f(c){c=n(c),c[0]<t&&(t=c[0]),c[0]>a&&(a=c[0]),c[1]<i&&(i=c[1]),c[1]>o&&(o=c[1])}function s(c){switch(c.type){case"GeometryCollection":c.geometries.forEach(s);break;case"Point":f(c.coordinates);break;case"MultiPoint":c.coordinates.forEach(f);break}}r.arcs.forEach(function(c){for(var u=-1,v=c.length,l;++u<v;)l=n(c[u],u),l[0]<t&&(t=l[0]),l[0]>a&&(a=l[0]),l[1]<i&&(i=l[1]),l[1]>o&&(o=l[1])});for(e in r.objects)s(r.objects[e]);return[t,i,a,o]}function R4(r,n){for(var e,t=r.length,i=t-n;i<--t;)e=r[i],r[i++]=r[t],r[t]=e}function x4(r,n){return typeof n=="string"&&(n=r.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(e){return cv(r,e)})}:cv(r,n)}function cv(r,n){var e=n.id,t=n.bbox,i=n.properties==null?{}:n.properties,a=ba(r,n);return e==null&&t==null?{type:"Feature",properties:i,geometry:a}:t==null?{type:"Feature",id:e,properties:i,geometry:a}:{type:"Feature",id:e,bbox:t,properties:i,geometry:a}}function ba(r,n){var e=e0(r.transform),t=r.arcs;function i(u,v){v.length&&v.pop();for(var l=t[u<0?~u:u],h=0,g=l.length;h<g;++h)v.push(e(l[h],h));u<0&&R4(v,g)}function a(u){return e(u)}function o(u){for(var v=[],l=0,h=u.length;l<h;++l)i(u[l],v);return v.length<2&&v.push(v[0]),v}function f(u){for(var v=o(u);v.length<4;)v.push(v[0]);return v}function s(u){return u.map(f)}function c(u){var v=u.type,l;switch(v){case"GeometryCollection":return{type:v,geometries:u.geometries.map(c)};case"Point":l=a(u.coordinates);break;case"MultiPoint":l=u.coordinates.map(a);break;case"LineString":l=o(u.arcs);break;case"MultiLineString":l=u.arcs.map(o);break;case"Polygon":l=s(u.arcs);break;case"MultiPolygon":l=u.arcs.map(s);break;default:return null}return{type:v,coordinates:l}}return c(n)}function vv(r,n){var e={},t={},i={},a=[],o=-1;n.forEach(function(c,u){var v=r.arcs[c<0?~c:c],l;v.length<3&&!v[1][0]&&!v[1][1]&&(l=n[++o],n[o]=c,n[u]=l)}),n.forEach(function(c){var u=f(c),v=u[0],l=u[1],h,g;if(h=i[v])if(delete i[h.end],h.push(c),h.end=l,g=t[l]){delete t[g.start];var p=g===h?h:h.concat(g);t[p.start=h.start]=i[p.end=g.end]=p}else t[h.start]=i[h.end]=h;else if(h=t[l])if(delete t[h.start],h.unshift(c),h.start=v,g=i[v]){delete i[g.end];var d=g===h?h:g.concat(h);t[d.start=g.start]=i[d.end=h.end]=d}else t[h.start]=i[h.end]=h;else h=[c],t[h.start=v]=i[h.end=l]=h});function f(c){var u=r.arcs[c<0?~c:c],v=u[0],l;return r.transform?(l=[0,0],u.forEach(function(h){l[0]+=h[0],l[1]+=h[1]})):l=u[u.length-1],c<0?[l,v]:[v,l]}function s(c,u){for(var v in c){var l=c[v];delete u[l.start],delete l.start,delete l.end,l.forEach(function(h){e[h<0?~h:h]=1}),a.push(l)}}return s(i,t),s(t,i),n.forEach(function(c){e[c<0?~c:c]||a.push([c])}),a}function C4(r){return ba(r,hv.apply(this,arguments))}function hv(r,n,e){var t,i,a;if(arguments.length>1)t=k4(r,n,e);else for(i=0,t=new Array(a=r.arcs.length);i<a;++i)t[i]=i;return{type:"MultiLineString",arcs:vv(r,t)}}function k4(r,n,e){var t=[],i=[],a;function o(v){var l=v<0?~v:v;(i[l]||(i[l]=[])).push({i:v,g:a})}function f(v){v.forEach(o)}function s(v){v.forEach(f)}function c(v){v.forEach(s)}function u(v){switch(a=v,v.type){case"GeometryCollection":v.geometries.forEach(u);break;case"LineString":f(v.arcs);break;case"MultiLineString":case"Polygon":s(v.arcs);break;case"MultiPolygon":c(v.arcs);break}}return u(n),i.forEach(e==null?function(v){t.push(v[0].i)}:function(v){e(v[0].g,v[v.length-1].g)&&t.push(v[0].i)}),t}function A4(r){for(var n=-1,e=r.length,t,i=r[e-1],a=0;++n<e;)t=i,i=r[n],a+=t[0]*i[1]-t[1]*i[0];return Math.abs(a)}function b4(r){return ba(r,gv.apply(this,arguments))}function gv(r,n){var e={},t=[],i=[];n.forEach(a);function a(s){switch(s.type){case"GeometryCollection":s.geometries.forEach(a);break;case"Polygon":o(s.arcs);break;case"MultiPolygon":s.arcs.forEach(o);break}}function o(s){s.forEach(function(c){c.forEach(function(u){(e[u=u<0?~u:u]||(e[u]=[])).push(s)})}),t.push(s)}function f(s){return A4(ba(r,{type:"Polygon",arcs:[s]}).coordinates[0])}return t.forEach(function(s){if(!s._){var c=[],u=[s];for(s._=1,i.push(c);s=u.pop();)c.push(s),s.forEach(function(v){v.forEach(function(l){e[l<0?~l:l].forEach(function(h){h._||(h._=1,u.push(h))})})})}}),t.forEach(function(s){delete s._}),{type:"MultiPolygon",arcs:i.map(function(s){var c=[],u;if(s.forEach(function(p){p.forEach(function(d){d.forEach(function(m){e[m<0?~m:m].length<2&&c.push(m)})})}),c=vv(r,c),(u=c.length)>1)for(var v=1,l=f(c[0]),h,g;v<u;++v)(h=f(c[v]))>l&&(g=c[0],c[0]=c[v],c[v]=g,l=h);return c}).filter(function(s){return s.length>0})}}function pv(r,n){for(var e=0,t=r.length;e<t;){var i=e+t>>>1;r[i]<n?e=i+1:t=i}return e}function D4(r){var n={},e=r.map(function(){return[]});function t(p,d){p.forEach(function(m){m<0&&(m=~m);var y=n[m];y?y.push(d):n[m]=[d]})}function i(p,d){p.forEach(function(m){t(m,d)})}function a(p,d){p.type==="GeometryCollection"?p.geometries.forEach(function(m){a(m,d)}):p.type in o&&o[p.type](p.arcs,d)}var o={LineString:t,MultiLineString:i,Polygon:i,MultiPolygon:function(p,d){p.forEach(function(m){i(m,d)})}};r.forEach(a);for(var f in n)for(var s=n[f],c=s.length,u=0;u<c;++u)for(var v=u+1;v<c;++v){var l=s[u],h=s[v],g;(g=e[l])[f=pv(g,h)]!==h&&g.splice(f,0,h),(g=e[h])[f=pv(g,l)]!==l&&g.splice(f,0,l)}return e}function dv(r){if(r==null)return sv;var n,e,t=r.scale[0],i=r.scale[1],a=r.translate[0],o=r.translate[1];return function(f,s){s||(n=e=0);var c=2,u=f.length,v=new Array(u),l=Math.round((f[0]-a)/t),h=Math.round((f[1]-o)/i);for(v[0]=l-n,n=l,v[1]=h-e,e=h;c<u;)v[c]=f[c],++c;return v}}function I4(r,n){if(r.transform)throw new Error("already quantized");if(!n||!n.scale){if(!((o=Math.floor(n))>=2))throw new Error("n must be \u22652");s=r.bbox||fv(r);var e=s[0],t=s[1],i=s[2],a=s[3],o;n={scale:[i-e?(i-e)/(o-1):1,a-t?(a-t)/(o-1):1],translate:[e,t]}}else s=r.bbox;var f=dv(n),s,c,u=r.objects,v={};function l(p){return f(p)}function h(p){var d;switch(p.type){case"GeometryCollection":d={type:"GeometryCollection",geometries:p.geometries.map(h)};break;case"Point":d={type:"Point",coordinates:l(p.coordinates)};break;case"MultiPoint":d={type:"MultiPoint",coordinates:p.coordinates.map(l)};break;default:return p}return p.id!=null&&(d.id=p.id),p.bbox!=null&&(d.bbox=p.bbox),p.properties!=null&&(d.properties=p.properties),d}function g(p){var d=0,m=1,y=p.length,w,E=new Array(y);for(E[0]=f(p[0],0);++d<y;)((w=f(p[d],d))[0]||w[1])&&(E[m++]=w);return m===1&&(E[m++]=[0,0]),E.length=m,E}for(c in u)v[c]=h(u[c]);return{type:"Topology",bbox:s,transform:n,objects:v,arcs:r.arcs.map(g)}}var O4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bbox:fv,feature:x4,mesh:C4,meshArcs:hv,merge:b4,mergeArcs:gv,neighbors:D4,quantize:I4,transform:e0,untransform:dv}),L4=Sn(O4);Object.defineProperty(P4,"__esModule",{value:!0});var N4=nr.exports,q4=K,F4=L4,z4=N4.__importDefault(Ul),yv=V;function mv(r,n,e){var t=n.object;if(!q4.isString(t))throw new TypeError("Invalid object: must be a string!");var i=F4.feature(r,r.objects[t]);return z4.default(i,void 0,e)}yv.DataSet.registerConnector("topojson",mv);yv.DataSet.registerConnector("TopoJSON",mv);var B4={};Object.defineProperty(B4,"__esModule",{value:!0});var G4=V;G4.DataSet.registerTransform("default",function(r){return r});var U4={};Object.defineProperty(U4,"__esModule",{value:!0});var H4=V;function j4(r){return!!r}H4.DataSet.registerTransform("filter",function(r,n){r.rows=r.rows.filter(n.callback||j4)});var Y4={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.getFields=cr.getField=void 0;var Yn=K,t0="Invalid field: it must be a string!",$t="Invalid fields: it must be an array!";function X4(r,n){var e=r.field,t=r.fields;if(Yn.isString(e))return e;if(Yn.isArray(e))return console.warn(t0),e[0];if(console.warn(t0+" will try to get fields instead."),Yn.isString(t))return t;if(Yn.isArray(t)&&t.length)return t[0];if(n)return n;throw new TypeError(t0)}cr.getField=X4;function V4(r,n){var e=r.field,t=r.fields;if(Yn.isArray(t))return t;if(Yn.isString(t))return console.warn($t),[t];if(console.warn($t+" will try to get field instead."),Yn.isString(e))return console.warn($t),[e];if(Yn.isArray(e)&&e.length)return console.warn($t),e;if(n)return n;throw new TypeError($t)}cr.getFields=V4;Object.defineProperty(Y4,"__esModule",{value:!0});var i0=K,J4=V,W4=cr,K4={fields:[],key:"key",retains:[],value:"value"};J4.DataSet.registerTransform("fold",function(r,n){var e=r.getColumnNames();n=i0.assign({},K4,n);var t=W4.getFields(n);t.length===0&&(console.warn("warning: option fields is not specified, will fold all columns."),t=e);var i=n.key,a=n.value,o=n.retains;(!o||o.length===0)&&(o=i0.difference(e,t));var f=[];r.rows.forEach(function(s){t.forEach(function(c){var u=i0.pick(s,o);u[i]=c,u[a]=s[c],f.push(u)})}),r.rows=f});var Q4={};Object.defineProperty(Q4,"__esModule",{value:!0});var Z4=V;function r9(r){return r}Z4.DataSet.registerTransform("map",function(r,n){r.rows=r.rows.map(n.callback||r9)});var n9={};Object.defineProperty(n9,"__esModule",{value:!0});var e9=nr.exports,a0=K,wv=e9.__importDefault(an),o0=V,Sv={groupBy:[],orderBy:[]};o0.DataSet.registerTransform("partition",function(r,n){n=a0.assign({},Sv,n),r.rows=wv.default(r.rows,n.groupBy,n.orderBy)});function Ev(r,n){n=a0.assign({},Sv,n),r.rows=a0.values(wv.default(r.rows,n.groupBy,n.orderBy))}o0.DataSet.registerTransform("group",Ev);o0.DataSet.registerTransform("groups",Ev);var t9={};Object.defineProperty(t9,"__esModule",{value:!0});var i9=nr.exports,Oe=K,_v=On,Tv=i9.__importDefault(an),a9=V,o9=cr,u9={groupBy:[],as:"_percent"};function l9(r,n){n=Oe.assign({},u9,n);var e=o9.getField(n),t=n.dimension,i=n.groupBy,a=n.as;if(!Oe.isString(t))throw new TypeError("Invalid dimension: must be a string!");if(Oe.isArray(a)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),a=a[0]),!Oe.isString(a))throw new TypeError("Invalid as: must be a string!");var o=r.rows,f=[],s=Tv.default(o,i);Oe.forIn(s,function(c){var u=_v.sum(c.map(function(l){return l[e]})),v=Tv.default(c,[t]);Oe.forIn(v,function(l){var h=_v.sum(l.map(function(d){return d[e]})),g=l[0],p=g[t];g[e]=h,g[t]=p,u===0?g[a]=0:g[a]=h/u,f.push(g)})}),r.rows=f}a9.DataSet.registerTransform("percent",l9);var s9={};Object.defineProperty(s9,"__esModule",{value:!0});var f9=K,c9=V,v9=cr;c9.DataSet.registerTransform("pick",function(r,n){var e=v9.getFields(n,r.getColumnNames());r.rows=r.rows.map(function(t){return f9.pick(t,e)})});var h9={};Object.defineProperty(h9,"__esModule",{value:!0});var g9=nr.exports,Le=K,Mv=g9.__importDefault(an),p9=V,d9=cr,y9={groupBy:[],as:"_proportion"};function m9(r,n){n=Le.assign({},y9,n);var e=d9.getField(n),t=n.dimension,i=n.groupBy,a=n.as;if(!Le.isString(t))throw new TypeError("Invalid dimension: must be a string!");if(Le.isArray(a)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),a=a[0]),!Le.isString(a))throw new TypeError("Invalid as: must be a string!");var o=r.rows,f=[],s=Mv.default(o,i);Le.forIn(s,function(c){var u=c.length,v=Mv.default(c,[t]);Le.forIn(v,function(l){var h=l.length,g=l[0],p=g[t];g[e]=h,g[t]=p,g[a]=h/u,f.push(g)})}),r.rows=f}p9.DataSet.registerTransform("proportion",m9);var w9={};Object.defineProperty(w9,"__esModule",{value:!0});var Pt=K,$v=V;function Pv(r,n){var e=n.map||{},t={};Pt.isPlainObject(e)&&Pt.forIn(e,function(i,a){Pt.isString(i)&&Pt.isString(a)&&(t[a]=i)}),r.rows.forEach(function(i){Pt.forIn(t,function(a,o){var f=i[o];delete i[o],i[a]=f})})}$v.DataSet.registerTransform("rename",Pv);$v.DataSet.registerTransform("rename-fields",Pv);var S9={};Object.defineProperty(S9,"__esModule",{value:!0});var E9=V;E9.DataSet.registerTransform("reverse",function(r){r.rows.reverse()});var _9={};Object.defineProperty(_9,"__esModule",{value:!0});var T9=V;T9.DataSet.registerTransform("sort",function(r,n){var e=r.getColumnName(0);r.rows.sort(n.callback||function(t,i){return t[e]-i[e]})});var M9={};Object.defineProperty(M9,"__esModule",{value:!0});var Rv=K,xv=V,$9=cr,Cv=["ASC","DESC"];function kv(r,n){var e=$9.getFields(n,[r.getColumnName(0)]);if(!Rv.isArray(e))throw new TypeError("Invalid fields: must be an array with strings!");r.rows=Rv.sortBy(r.rows,e);var t=n.order;if(t&&Cv.indexOf(t)===-1)throw new TypeError("Invalid order: "+t+" must be one of "+Cv.join(", "));t==="DESC"&&r.rows.reverse()}xv.DataSet.registerTransform("sort-by",kv);xv.DataSet.registerTransform("sortBy",kv);var P9={};Object.defineProperty(P9,"__esModule",{value:!0});var R9=V,x9=cr;R9.DataSet.registerTransform("subset",function(r,n){var e=n.startRowIndex||0,t=n.endRowIndex||r.rows.length-1,i=x9.getFields(n,r.getColumnNames());r.rows=r.getSubset(e,t,i)});var C9={};Object.defineProperty(C9,"__esModule",{value:!0});var k9=nr.exports,u0=K,A9=k9.__importDefault(an),Av=V,b9={fillBy:"group",groupBy:[],orderBy:[]};function bv(r,n){var e=r.map(function(t){return t});return n.forEach(function(t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}),e}function Dv(r,n){n=u0.assign({},b9,n);var e=r.rows,t=n.groupBy,i=n.orderBy,a=A9.default(e,t,i),o=0,f=[];u0.forIn(a,function(g){g.length>o&&(o=g.length,f=g)});var s=[],c={};if(f.forEach(function(g){var p=i.map(function(d){return g[d]}).join("-");s.push(p),c[p]=g}),n.fillBy==="order"){var u=f[0],v=[],l={};e.forEach(function(g){var p=i.map(function(d){return g[d]}).join("-");v.indexOf(p)===-1&&(v.push(p),l[p]=g)});var h=bv(v,s);h.forEach(function(g){var p={};t.forEach(function(d){p[d]=u[d]}),i.forEach(function(d){p[d]=l[g][d]}),e.push(p),f.push(p),s.push(g),c[g]=p}),o=f.length}u0.forIn(a,function(g){if(g!==f&&g.length<o){var p=g[0],d=[];g.forEach(function(y){d.push(i.map(function(w){return y[w]}).join("-"))});var m=bv(s,d);m.some(function(y,w){if(w>=o-g.length)return!0;var E=c[y],T={};return t.forEach(function(M){T[M]=p[M]}),i.forEach(function(M){T[M]=E[M]}),e.push(T),!1})}})}Av.DataSet.registerTransform("fill-rows",Dv);Av.DataSet.registerTransform("fillRows",Dv);var D9={};Object.defineProperty(D9,"__esModule",{value:!0});var Iv=nr.exports,ae=K,I9=Iv.__importStar(On),O9=Iv.__importDefault(an),L9=V,N9=cr,q9={groupBy:[]};function Ov(r){return r.filter(function(n){return!ae.isUndefined(n)})}var Lv=["mean","median","max","min"],l0={};Lv.forEach(function(r){l0[r]=function(n,e){return I9[r](e)}});l0.value=function(r,n,e){return e};function F9(r,n){n=ae.assign({},q9,n);var e=N9.getField(n),t=n.method;if(!t)throw new TypeError("Invalid method!");if(t==="value"&&!ae.has(n,"value"))throw new TypeError("Invalid value: it is nil.");var i=Ov(r.getColumn(e)),a=O9.default(r.rows,n.groupBy);ae.forIn(a,function(o){var f=Ov(o.map(function(s){return s[e]}));f.length===0&&(f=i),o.forEach(function(s){if(ae.isUndefined(s[e]))if(ae.isFunction(t))s[e]=t(s,f,n.value,o);else if(ae.isString(t))s[e]=l0[t](s,f,n.value);else throw new TypeError("Invalid method: must be a function or one of "+Lv.join(", "))})})}L9.DataSet.registerTransform("impute",F9);var Nv={};Object.defineProperty(Nv,"__esModule",{value:!0});var qv=nr.exports,yn=K,z9=qv.__importStar(On),B9=qv.__importDefault(an),Fv=V,zv=Fv.DataSet.registerTransform,G9=cr,U9={as:[],fields:[],groupBy:[],operations:[]},Bv="count",Rt={count:function(r){return r.length},distinct:function(r,n){var e=yn.uniq(r.map(function(t){return t[n]}));return e.length}};Fv.DataSet.CONSTANTS.STATISTICS_METHODS.forEach(function(r){Rt[r]=function(n,e){var t=n.map(function(i){return i[e]});return yn.isArray(t)&&yn.isArray(t[0])&&(t=yn.flattenDeep(t)),z9[r](t)}});Rt.average=Rt.mean;function Gv(r,n){n=yn.assign({},U9,n);var e=G9.getFields(n);if(!yn.isArray(e))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var t=n.as||[];yn.isString(t)&&(t=[t]);var i=n.operations;yn.isString(i)&&(i=[i]);var a=[Bv];if((!yn.isArray(i)||!i.length)&&(console.warn('operations is not defined, will use [ "count" ] directly.'),i=a,t=i),!(i.length===1&&i[0]===Bv)){if(i.length!==e.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(t.length!==e.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var o=B9.default(r.rows,n.groupBy),f=[];yn.forIn(o,function(s){var c=s[0];i.forEach(function(u,v){var l=t[v],h=e[v];c[l]=Rt[u](s,h)}),f.push(c)}),r.rows=f}zv("aggregate",Gv);zv("summary",Gv);Nv.default={VALID_AGGREGATES:yn.keys(Rt)};var Uv={},Hv={exports:{}};(function(r,n){(function(e,t){t(r)})(V0,function(e){function t(l,h,g){return h in l?Object.defineProperty(l,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):l[h]=g,l}var i=Object.assign||function(l){for(var h=1;h<arguments.length;h++){var g=arguments[h];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(l[p]=g[p])}return l};function a(l){if(Array.isArray(l)){for(var h=0,g=Array(l.length);h<l.length;h++)g[h]=l[h];return g}else return Array.from(l)}var o={order:2,precision:2,period:null};function f(l,h){var g=[],p=[];l.forEach(function(E,T){E[1]!==null&&(p.push(E),g.push(h[T]))});var d=p.reduce(function(E,T){return E+T[1]},0),m=d/p.length,y=p.reduce(function(E,T){var M=T[1]-m;return E+M*M},0),w=p.reduce(function(E,T,M){var C=g[M],R=T[1]-C[1];return E+R*R},0);return 1-w/y}function s(l,h){for(var g=l,p=l.length-1,d=[h],m=0;m<p;m++){for(var y=m,w=m+1;w<p;w++)Math.abs(g[m][w])>Math.abs(g[m][y])&&(y=w);for(var E=m;E<p+1;E++){var T=g[E][m];g[E][m]=g[E][y],g[E][y]=T}for(var M=m+1;M<p;M++)for(var C=p;C>=m;C--)g[C][M]-=g[C][m]*g[m][M]/g[m][m]}for(var R=p-1;R>=0;R--){for(var x=0,O=R+1;O<p;O++)x+=g[O][R]*d[O];d[R]=(g[p][R]-x)/g[R][R]}return d}function c(l,h){var g=Math.pow(10,h);return Math.round(l*g)/g}var u={linear:function(h,g){for(var p=[0,0,0,0,0],d=0,m=0;m<h.length;m++)h[m][1]!==null&&(d++,p[0]+=h[m][0],p[1]+=h[m][1],p[2]+=h[m][0]*h[m][0],p[3]+=h[m][0]*h[m][1],p[4]+=h[m][1]*h[m][1]);var y=d*p[2]-p[0]*p[0],w=d*p[3]-p[0]*p[1],E=y===0?0:c(w/y,g.precision),T=c(p[1]/d-E*p[0]/d,g.precision),M=function(x){return[c(x,g.precision),c(E*x+T,g.precision)]},C=h.map(function(R){return M(R[0])});return{points:C,predict:M,equation:[E,T],r2:c(f(h,C),g.precision),string:T===0?"y = "+E+"x":"y = "+E+"x + "+T}},exponential:function(h,g){for(var p=[0,0,0,0,0,0],d=0;d<h.length;d++)h[d][1]!==null&&(p[0]+=h[d][0],p[1]+=h[d][1],p[2]+=h[d][0]*h[d][0]*h[d][1],p[3]+=h[d][1]*Math.log(h[d][1]),p[4]+=h[d][0]*h[d][1]*Math.log(h[d][1]),p[5]+=h[d][0]*h[d][1]);var m=p[1]*p[2]-p[5]*p[5],y=Math.exp((p[2]*p[3]-p[5]*p[4])/m),w=(p[1]*p[4]-p[5]*p[3])/m,E=c(y,g.precision),T=c(w,g.precision),M=function(x){return[c(x,g.precision),c(E*Math.exp(T*x),g.precision)]},C=h.map(function(R){return M(R[0])});return{points:C,predict:M,equation:[E,T],string:"y = "+E+"e^("+T+"x)",r2:c(f(h,C),g.precision)}},logarithmic:function(h,g){for(var p=[0,0,0,0],d=h.length,m=0;m<d;m++)h[m][1]!==null&&(p[0]+=Math.log(h[m][0]),p[1]+=h[m][1]*Math.log(h[m][0]),p[2]+=h[m][1],p[3]+=Math.pow(Math.log(h[m][0]),2));var y=(d*p[1]-p[2]*p[0])/(d*p[3]-p[0]*p[0]),w=c(y,g.precision),E=c((p[2]-w*p[0])/d,g.precision),T=function(R){return[c(R,g.precision),c(c(E+w*Math.log(R),g.precision),g.precision)]},M=h.map(function(C){return T(C[0])});return{points:M,predict:T,equation:[E,w],string:"y = "+E+" + "+w+" ln(x)",r2:c(f(h,M),g.precision)}},power:function(h,g){for(var p=[0,0,0,0,0],d=h.length,m=0;m<d;m++)h[m][1]!==null&&(p[0]+=Math.log(h[m][0]),p[1]+=Math.log(h[m][1])*Math.log(h[m][0]),p[2]+=Math.log(h[m][1]),p[3]+=Math.pow(Math.log(h[m][0]),2));var y=(d*p[1]-p[0]*p[2])/(d*p[3]-Math.pow(p[0],2)),w=(p[2]-y*p[0])/d,E=c(Math.exp(w),g.precision),T=c(y,g.precision),M=function(x){return[c(x,g.precision),c(c(E*Math.pow(x,T),g.precision),g.precision)]},C=h.map(function(R){return M(R[0])});return{points:C,predict:M,equation:[E,T],string:"y = "+E+"x^"+T,r2:c(f(h,C),g.precision)}},polynomial:function(h,g){for(var p=[],d=[],m=0,y=0,w=h.length,E=g.order+1,T=0;T<E;T++){for(var M=0;M<w;M++)h[M][1]!==null&&(m+=Math.pow(h[M][0],T)*h[M][1]);p.push(m),m=0;for(var C=[],R=0;R<E;R++){for(var x=0;x<w;x++)h[x][1]!==null&&(y+=Math.pow(h[x][0],T+R));C.push(y),y=0}d.push(C)}d.push(p);for(var O=s(d,E).map(function(S){return c(S,g.precision)}),k=function($){return[c($,g.precision),c(O.reduce(function(P,I,J){return P+I*Math.pow($,J)},0),g.precision)]},D=h.map(function(S){return k(S[0])}),z="y = ",_=O.length-1;_>=0;_--)_>1?z+=O[_]+"x^"+_+" + ":_===1?z+=O[_]+"x + ":z+=O[_];return{string:z,points:D,predict:k,equation:[].concat(a(O)).reverse(),r2:c(f(h,D),g.precision)}}};function v(){var l=function(g,p){return i({_round:c},g,t({},p,function(d,m){return u[p](d,i({},o,m))}))};return Object.keys(u).reduce(l,{})}e.exports=v()})})(Hv);var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});var H9=nr.exports;Ne.default=function(r,n){for(var e=n||1,t=H9.__read(r,2),i=t[0],a=t[1],o=[],f=i;f<a;)o.push(f),f+=e;return o.push(a),o};var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.nrd=Ln.silverman=void 0;var s0=On;function j9(r){var n=s0.standardDeviation(r),e=4*Math.pow(n,5),t=3*r.length;return Math.pow(e/t,.2)}Ln.silverman=j9;function Y9(r){var n=s0.standardDeviation(r),e=s0.interquartileRange(r);return typeof e=="number"&&(n=Math.min(n,e/1.34)),1.06*n*Math.pow(r.length,-.2)}Ln.nrd=Y9;Object.defineProperty(Uv,"__esModule",{value:!0});var xt=nr.exports,X9=xt.__importDefault(Hv.exports),Da=K,V9=xt.__importDefault(Ne),J9=V,W9=cr,K9=Ln,Q9={as:["x","y"],method:"linear",order:2,precision:2},f0=["linear","exponential","logarithmic","power","polynomial"];function Z9(r,n){n=Da.assign({},Q9,n);var e=W9.getFields(n);if(!Da.isArray(e)||e.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings.");var t=xt.__read(e,2),i=t[0],a=t[1],o=n.method;if(f0.indexOf(o)===-1)throw new TypeError("invalid method: "+o+". Must be one of "+f0.join(", "));var f=r.rows.map(function(d){return[d[i],d[a]]}),s=X9.default[o](f,n),c=n.extent;(!Da.isArray(c)||c.length!==2)&&(c=r.range(i));var u=n.bandwidth;(!Da.isNumber(u)||u<=0)&&(u=K9.silverman(r.getColumn(i)));var v=V9.default(c,u),l=[],h=xt.__read(n.as,2),g=h[0],p=h[1];v.forEach(function(d){var m={},y=xt.__read(s.predict(d),2),w=y[0],E=y[1];m[g]=w,m[p]=E,isFinite(E)&&l.push(m)}),r.rows=l}J9.DataSet.registerTransform("regression",Z9);Uv.default={REGRESSION_METHODS:f0};var jv={},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});function Yv(r){return Math.abs(r)<=1?.5:0}function rw(r){var n=1-Math.pow(Math.abs(r),3);return Math.pow(n,3)}Ct.default={boxcar:Yv,cosine:function(r){return Math.abs(r)<=1?Math.PI/4*Math.cos(Math.PI/2*r):0},epanechnikov:function(r){return Math.abs(r)<1?.75*(1-r*r):0},gaussian:function(r){return .3989422804*Math.exp(-.5*r*r)},quartic:function(r){if(Math.abs(r)<1){var n=1-r*r;return 15/16*n*n}return 0},triangular:function(r){var n=Math.abs(r);return n<1?1-n:0},tricube:function(r){return Math.abs(r)<1?70/81*rw(r):0},triweight:function(r){if(Math.abs(r)<1){var n=1-r*r;return 35/32*n*n*n}return 0},uniform:Yv};Object.defineProperty(jv,"__esModule",{value:!0});var oe=nr.exports,Nr=K,nw=oe.__importDefault(Ne),Xv=oe.__importDefault(Ct),Ia=oe.__importStar(Ln),ew=oe.__importDefault(an),c0=V,tw=cr,iw=On,aw={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},v0=Nr.keys(Xv.default),ow=Nr.keys(Ia);function h0(r,n){n=Nr.assign({},aw,n);var e=tw.getFields(n);if(!Nr.isArray(e)||e.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var t=n.as;if(!Nr.isArray(t)||t.length!==3)throw new TypeError("invalid as: must be an array of 3 strings!");var i=n.method;if(Nr.isString(i)){if(v0.indexOf(i)===-1)throw new TypeError("invalid method: "+i+". Must be one of "+v0.join(", "));i=Xv.default[i]}if(!Nr.isFunction(i))throw new TypeError("invalid method: kernel method must be a function!");var a=n.extent;if(!Nr.isArray(a)||a.length===0){var o=[];Nr.each(e,function(l){var h=r.range(l);o=o.concat(h)}),a=[Math.min.apply(Math,oe.__spread(o)),Math.max.apply(Math,oe.__spread(o))]}var f=n.bandwidth;Nr.isString(f)&&Ia[f]?f=Ia[f](r.getColumn(e[0])):Nr.isFunction(f)?f=f(r.getColumn(e[0])):(!Nr.isNumber(f)||f<=0)&&(f=Ia.nrd(r.getColumn(e[0])));var s=nw.default(a,n.step?n.step:f),c=[],u=n.groupBy,v=ew.default(r.rows,u);Nr.forIn(v,function(l){var h={};Nr.each(e,function(g){var p=Nr.pick(l[0],u);h[g]=iw.kernelDensityEstimation(l.map(function(E){return E[g]}),i,f);var d=oe.__read(t,3),m=d[0],y=d[1],w=d[2];p[m]=g,p[y]=[],p[w]=[],Nr.each(s,function(E){var T=h[g](E);T>=n.minSize&&(p[y].push(E),p[w].push(T))}),c.push(p)})}),r.rows=c}c0.DataSet.registerTransform("kernel-density-estimation",h0);c0.DataSet.registerTransform("kde",h0);c0.DataSet.registerTransform("KDE",h0);jv.default={KERNEL_METHODS:v0,BANDWIDTH_METHODS:ow};var uw={};Object.defineProperty(uw,"__esModule",{value:!0});var mn=nr.exports,Oa=K,g0=V,lw=cr,sw={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},Vv=Math.sqrt(3),kt=Math.PI/3,fw=[0,kt,2*kt,3*kt,4*kt,5*kt];function Jv(r,n,e,t){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))}function Wv(r,n,e){var t=r-e;n=n/2;var i=Math.floor(t/n),a=n*(i+(Math.abs(i%2)===1?1:0)),o=n*(i+(Math.abs(i%2)===1?0:1));return[a+e,o+e]}function cw(r,n,e){n===void 0&&(n=[1,1]),e===void 0&&(e=[0,0]);var t={},i=mn.__read(n,2),a=i[0],o=i[1],f=mn.__read(e,2),s=f[0],c=f[1];return r.forEach(function(u){var v,l,h=mn.__read(u,2),g=h[0],p=h[1],d=mn.__read(Wv(g,a,s),2),m=d[0],y=d[1],w=mn.__read(Wv(p,o,c),2),E=w[0],T=w[1],M=Jv(g,p,m,E),C=Jv(g,p,y,T),R,x,O;M<C?(R="x"+m+"y"+E,v=mn.__read([m,E],2),x=v[0],O=v[1]):(R="x"+y+"y"+T,l=mn.__read([y,T],2),x=l[0],O=l[1]),t[R]=t[R]||{x,y:O,count:0},t[R].count++}),t}function p0(r,n){n=Oa.assign({},sw,n);var e=lw.getFields(n);if(!Oa.isArray(e)||e.length!==2)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var t=mn.__read(e,2),i=t[0],a=t[1],o=r.range(i),f=r.range(a),s=o[1]-o[0],c=f[1]-f[0],u=n.binWidth||[];if(u.length!==2){var v=mn.__read(n.bins,2),l=v[0],h=v[1];if(l<=0||h<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");u=[s/l,c/h]}var g=mn.__read(n.offset,2),p=g[0],d=g[1],m=3*u[0]/(Vv*u[1]),y=r.rows.map(function(D){return[D[i],m*D[a]]}),w=cw(y,[u[0],m*u[1]],[p,m*d]),E=mn.__read(n.as,3),T=E[0],M=E[1],C=E[2];if(!T||!M||!C)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var R=u[0]/Vv,x=fw.map(function(D){return[Math.sin(D)*R,-Math.cos(D)*R]}),O=[],k=0;n.sizeByCount&&Oa.forIn(w,function(D){D.count>k&&(k=D.count)}),Oa.forIn(w,function(D){var z=D.x,_=D.y,S=D.count,$={};$[C]=S,n.sizeByCount?($[T]=x.map(function(P){return z+D.count/k*P[0]}),$[M]=x.map(function(P){return(_+D.count/k*P[1])/m})):($[T]=x.map(function(P){return z+P[0]}),$[M]=x.map(function(P){return(_+P[1])/m})),O.push($)}),r.rows=O}g0.DataSet.registerTransform("bin.hexagon",p0);g0.DataSet.registerTransform("bin.hex",p0);g0.DataSet.registerTransform("hexbin",p0);var vw={};Object.defineProperty(vw,"__esModule",{value:!0});var d0=nr.exports,At=K,hw=d0.__importDefault(an),Kv=V,gw=cr,pw={as:["x","count"],bins:void 0,offset:0,groupBy:[]};function dw(r,n,e){var t=r-e,i=Math.floor(t/n);return[i*n+e,(i+1)*n+e]}function yw(r){return Math.ceil(Math.log(r)/Math.LN2)+1}function Qv(r,n){n=At.assign({},pw,n);var e=gw.getField(n);if(r.rows.length!==0){var t=r.range(e),i=t[1]-t[0],a=n.binWidth,o=n.bins;if(!a&&o){if(o<=0)throw new TypeError("Invalid bins: it must be a positive number!");a=i/o}if(!a&&!o){var f=yw(r.rows.length);a=i/f}var s=n.offset%a,c=[],u=n.groupBy,v=hw.default(r.rows,u);At.forIn(v,function(l){var h={},g=l.map(function(w){return w[e]});g.forEach(function(w){var E=d0.__read(dw(w,a,s),2),T=E[0],M=E[1],C=T+"-"+M;h[C]=h[C]||{x0:T,x1:M,count:0},h[C].count++});var p=d0.__read(n.as,2),d=p[0],m=p[1];if(!d||!m)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var y=At.pick(l[0],u);At.forIn(h,function(w){var E=At.assign({},y);E[d]=[w.x0,w.x1],E[m]=w.count,c.push(E)})}),r.rows=c}}Kv.DataSet.registerTransform("bin.histogram",Qv);Kv.DataSet.registerTransform("bin.dot",Qv);var mw={};Object.defineProperty(mw,"__esModule",{value:!0});var Zv=nr.exports,La=K,ww=On,Sw=Zv.__importDefault(an),Ew=Zv.__importDefault(Sa),_w=V,Tw=_w.DataSet.registerTransform,Mw=cr,$w={as:"_bin",groupBy:[],fraction:4};function Pw(r,n){n=La.assign({},$w,n);var e=Mw.getField(n),t=n.as;if(!La.isString(t))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var i=n.p,a=n.fraction;(!La.isArray(i)||i.length===0)&&(i=Ew.default(a));var o=r.rows,f=n.groupBy,s=Sw.default(o,f),c=[];La.forIn(s,function(u){var v=u[0],l=u.map(function(g){return g[e]}),h=i.map(function(g){return ww.quantile(l,g)});v[t]=h,c.push(v)}),r.rows=c}Tw("bin.quantile",Pw);var Rw={};Object.defineProperty(Rw,"__esModule",{value:!0});var ue=nr.exports,Na=K,xw=V,rh=xw.DataSet.registerTransform,Cw=cr,kw={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function nh(r,n,e){var t=r-e,i=Math.floor(t/n);return[i*n+e,(i+1)*n+e]}function eh(r,n){n=Na.assign({},kw,n);var e=ue.__read(Cw.getFields(n),2),t=e[0],i=e[1];if(!t||!i)throw new TypeError("Invalid fields: must be an array with 2 strings!");var a=r.range(t),o=r.range(i),f=a[1]-a[0],s=o[1]-o[0],c=n.binWidth||[];if(c.length!==2){var u=ue.__read(n.bins,2),v=u[0],l=u[1];if(v<=0||l<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");c=[f/v,s/l]}var h=r.rows.map(function(R){return[R[t],R[i]]}),g={},p=ue.__read(n.offset,2),d=p[0],m=p[1];h.forEach(function(R){var x=ue.__read(nh(R[0],c[0],d),2),O=x[0],k=x[1],D=ue.__read(nh(R[1],c[1],m),2),z=D[0],_=D[1],S=O+"-"+k+"-"+z+"-"+_;g[S]=g[S]||{x0:O,x1:k,y0:z,y1:_,count:0},g[S].count++});var y=[],w=ue.__read(n.as,3),E=w[0],T=w[1],M=w[2];if(!E||!T||!M)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(!n.sizeByCount)Na.forIn(g,function(R){var x={};x[E]=[R.x0,R.x1,R.x1,R.x0],x[T]=[R.y0,R.y0,R.y1,R.y1],x[M]=R.count,y.push(x)});else{var C=0;Na.forIn(g,function(R){R.count>C&&(C=R.count)}),Na.forIn(g,function(R){var x=R.x0,O=R.x1,k=R.y0,D=R.y1,z=R.count,_=z/C,S=ue.__read([(x+O)/2,(k+D)/2],2),$=S[0],P=S[1],I=(O-x)*_/2,J=(D-k)*_/2,gr=$-I,Z=$+I,ir=P-J,pr=P+J,Ar={};Ar[E]=[gr,Z,Z,gr],Ar[T]=[ir,ir,pr,pr],Ar[M]=z,y.push(Ar)})}r.rows=y}rh("bin.rectangle",eh);rh("bin.rect",eh);var Aw={};Object.defineProperty(Aw,"__esModule",{value:!0});var y0=K,bw=V,Dw=bw.DataSet.registerTransform,Iw=cr,Ow={as:["_centroid_x","_centroid_y"]};function Lw(r,n){n=y0.assign({},Ow,n);var e=Iw.getField(n),t=n.geoView||n.geoDataView;if(y0.isString(t)&&r.dataSet&&(t=r.dataSet.getView(t)),!t||t.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=n.as;if(!y0.isArray(i)||i.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var a=i[0],o=i[1];r.rows.forEach(function(f){var s=t.geoFeatureByName(f[e]);s&&(t._projectedAs?(f[a]=s[t._projectedAs[2]],f[o]=s[t._projectedAs[3]]):(f[a]=s.centroidX,f[o]=s.centroidY))})}Dw("geo.centroid",Lw);var Nw={};Object.defineProperty(Nw,"__esModule",{value:!0});var m0=nr.exports,th=K,qw=ot,Fw=m0.__importDefault(z1),zw=V,Bw=zw.DataSet.registerTransform,Gw=m0.__importDefault(Vi),Uw={as:["_x","_y","_centroid_x","_centroid_y"]};function Hw(r,n){if(r.dataType!=="geo"&&r.dataType!=="geo-graticule")throw new TypeError("Invalid dataView: this transform is for Geo data only!");n=th.assign({},Uw,n);var e=n.projection;if(!e)throw new TypeError("Invalid projection!");e=Gw.default(e);var t=qw.geoPath(e),i=n.as;if(!th.isArray(i)||i.length!==4)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');r._projectedAs=i;var a=m0.__read(i,4),o=a[0],f=a[1],s=a[2],c=a[3];r.rows.forEach(function(u){u[o]=[],u[f]=[];var v=t(u);if(v){var l=Fw.default(v);l._path.forEach(function(g){u[o].push(g[1]),u[f].push(g[2])});var h=t.centroid(u);u[s]=h[0],u[c]=h[1]}}),r.rows=r.rows.filter(function(u){return u[o].length!==0})}Bw("geo.projection",Hw);var jw={};Object.defineProperty(jw,"__esModule",{value:!0});var w0=K,Yw=V,Xw=Yw.DataSet.registerTransform,Vw=cr,Jw={as:["_x","_y"]};function Ww(r,n){n=w0.assign({},Jw,n);var e=Vw.getField(n),t=n.geoView||n.geoDataView;if(w0.isString(t)&&(t=r.dataSet.getView(t)),!t||t.dataType!=="geo")throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=n.as;if(!w0.isArray(i)||i.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var a=i[0],o=i[1];r.rows.forEach(function(f){var s=t.geoFeatureByName(f[e]);s&&(t._projectedAs?(f[a]=s[t._projectedAs[0]],f[o]=s[t._projectedAs[1]]):(f[a]=s.longitude,f[o]=s.latitude))})}Xw("geo.region",Ww);var Kw={};Object.defineProperty(Kw,"__esModule",{value:!0});var qe=K,ih=V,Qw={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(r){return r.id},source:function(r){return r.source},target:function(r){return r.target},sourceWeight:function(r){return r.value||1},targetWeight:function(r){return r.value||1},sortBy:null};function Zw(r,n,e){return e===void 0&&(e={}),r.forEach(function(t){var i=n.edgeSource(t),a=n.edgeTarget(t);e[i]||(e[i]={id:i}),e[a]||(e[a]={id:a})}),qe.values(e)}function r6(r,n,e){qe.forIn(r,function(t,i){t.inEdges=n.filter(function(a){return""+e.target(a)==""+i}),t.outEdges=n.filter(function(a){return""+e.source(a)==""+i}),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach(function(a){t.value+=e.targetWeight(a)}),t.outEdges.forEach(function(a){t.value+=e.sourceWeight(a)})})}function n6(r,n){var e={weight:function(i,a){return a.value-i.value},frequency:function(i,a){return a.frequency-i.frequency},id:function(i,a){return(""+n.id(i)).localeCompare(""+n.id(a))}},t=e[n.sortBy];!t&&qe.isFunction(n.sortBy)&&(t=n.sortBy),t&&r.sort(t)}function e6(r,n){var e=r.length;if(!e)throw new TypeError("Invalid nodes: it's empty!");if(n.weight){var t=n.marginRatio;if(t<0||t>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var i=t/(2*e),a=n.thickness;if(a<=0||a>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var o=0;r.forEach(function(s){o+=s.value}),r.forEach(function(s){s.weight=s.value/o,s.width=s.weight*(1-t),s.height=a}),r.forEach(function(s,c){for(var u=0,v=c-1;v>=0;v--)u+=r[v].width+2*i;var l=s.minX=i+u,h=s.maxX=s.minX+s.width,g=s.minY=n.y-a/2,p=s.maxY=g+a;s.x=[l,h,h,l],s.y=[g,g,p,p]})}else{var f=1/e;r.forEach(function(s,c){s.x=(c+.5)*f,s.y=n.y})}}function t6(r,n,e){if(e.weight){var t={};qe.forIn(r,function(i,a){t[a]=i.value}),n.forEach(function(i){var a=e.source(i),o=e.target(i),f=r[a],s=r[o];if(f&&s){var c=t[a],u=e.sourceWeight(i),v=f.minX+(f.value-c)/f.value*f.width,l=v+u/f.value*f.width;t[a]-=u;var h=t[o],g=e.targetWeight(i),p=s.minX+(s.value-h)/s.value*s.width,d=p+g/s.value*s.width;t[o]-=g;var m=e.y;i.x=[v,l,p,d],i.y=[m,m,m,m]}})}else n.forEach(function(i){var a=r[e.source(i)],o=r[e.target(i)];a&&o&&(i.x=[a.x,o.x],i.y=[a.y,o.y])})}function ah(r,n){n=qe.assign({},Qw,n);var e={},t=r.nodes,i=r.edges;(!qe.isArray(t)||t.length===0)&&(t=Zw(i,n,e)),t.forEach(function(a){var o=n.id(a);e[o]=a}),r6(e,i,n),n6(t,n),e6(t,n),t6(e,i,n),r.nodes=t,r.edges=i}ih.DataSet.registerTransform("diagram.arc",ah);ih.DataSet.registerTransform("arc",ah);var i6={};Object.defineProperty(i6,"__esModule",{value:!0});var a6=nr.exports,o6=K,oh=a6.__importDefault(cg),uh=V,u6={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(r){return r.source},target:function(r){return r.target}};function lh(r,n){n=o6.assign({},u6,n);var e=new oh.default.graphlib.Graph;e.setGraph({}),e.setDefaultEdgeLabel(function(){return{}}),r.nodes.forEach(function(a){var o=n.nodeId?n.nodeId(a):a.id;!a.height&&!a.width&&(a.height=a.width=n.edgesep),e.setNode(o,a)}),r.edges.forEach(function(a){e.setEdge(n.source(a),n.target(a))}),oh.default.layout(e);var t=[],i=[];e.nodes().forEach(function(a){var o=e.node(a),f=o.x,s=o.y,c=o.height,u=o.width;o.x=[f-u/2,f+u/2,f+u/2,f-u/2],o.y=[s+c/2,s+c/2,s-c/2,s-c/2],t.push(o)}),e.edges().forEach(function(a){var o=e.edge(a).points,f={};f.x=o.map(function(s){return s.x}),f.y=o.map(function(s){return s.y}),i.push(f)}),r.nodes=t,r.edges=i}uh.DataSet.registerTransform("diagram.dagre",lh);uh.DataSet.registerTransform("dagre",lh);var l6={},hn="$";function qa(){}qa.prototype=bt.prototype={constructor:qa,has:function(r){return hn+r in this},get:function(r){return this[hn+r]},set:function(r,n){return this[hn+r]=n,this},remove:function(r){var n=hn+r;return n in this&&delete this[n]},clear:function(){for(var r in this)r[0]===hn&&delete this[r]},keys:function(){var r=[];for(var n in this)n[0]===hn&&r.push(n.slice(1));return r},values:function(){var r=[];for(var n in this)n[0]===hn&&r.push(this[n]);return r},entries:function(){var r=[];for(var n in this)n[0]===hn&&r.push({key:n.slice(1),value:this[n]});return r},size:function(){var r=0;for(var n in this)n[0]===hn&&++r;return r},empty:function(){for(var r in this)if(r[0]===hn)return!1;return!0},each:function(r){for(var n in this)n[0]===hn&&r(this[n],n.slice(1),this)}};function bt(r,n){var e=new qa;if(r instanceof qa)r.each(function(f,s){e.set(s,f)});else if(Array.isArray(r)){var t=-1,i=r.length,a;if(n==null)for(;++t<i;)e.set(t,r[t]);else for(;++t<i;)e.set(n(a=r[t],t,r),a)}else if(r)for(var o in r)e.set(o,r[o]);return e}function s6(){var r=[],n=[],e,t,i;function a(f,s,c,u){if(s>=r.length)return e!=null&&f.sort(e),t!=null?t(f):f;for(var v=-1,l=f.length,h=r[s++],g,p,d=bt(),m,y=c();++v<l;)(m=d.get(g=h(p=f[v])+""))?m.push(p):d.set(g,[p]);return d.each(function(w,E){u(y,E,a(w,s,c,u))}),y}function o(f,s){if(++s>r.length)return f;var c,u=n[s-1];return t!=null&&s>=r.length?c=f.entries():(c=[],f.each(function(v,l){c.push({key:l,values:o(v,s)})})),u!=null?c.sort(function(v,l){return u(v.key,l.key)}):c}return i={object:function(f){return a(f,0,f6,c6)},map:function(f){return a(f,0,sh,fh)},entries:function(f){return o(a(f,0,sh,fh),0)},key:function(f){return r.push(f),i},sortKeys:function(f){return n[r.length-1]=f,i},sortValues:function(f){return e=f,i},rollup:function(f){return t=f,i}}}function f6(){return{}}function c6(r,n,e){r[n]=e}function sh(){return bt()}function fh(r,n,e){r.set(n,e)}function ch(){}var le=bt.prototype;ch.prototype={constructor:ch,has:le.has,add:function(r){return r+="",this[hn+r]=r,this},remove:le.remove,clear:le.clear,values:le.keys,size:le.size,empty:le.empty,each:le.each};function v6(r){return r.target.depth}function h6(r){return r.depth}function g6(r,n){return n-1-r.height}function vh(r,n){return r.sourceLinks.length?r.depth:n-1}function p6(r){return r.targetLinks.length?r.depth:r.sourceLinks.length?Or(r.sourceLinks,v6)-1:0}function Fa(r){return function(){return r}}function hh(r,n){return S0(r.source,n.source)||r.index-n.index}function gh(r,n){return S0(r.target,n.target)||r.index-n.index}function S0(r,n){return r.y0-n.y0}function E0(r){return r.value}function d6(r){return r.index}function y6(r){return r.nodes}function m6(r){return r.links}function ph(r,n){var e=r.get(n);if(!e)throw new Error("missing: "+n);return e}function w6(){var r=0,n=0,e=1,t=1,i=24,a=8,o=d6,f=vh,s,c=y6,u=m6,v=6;function l(){var y={nodes:c.apply(null,arguments),links:u.apply(null,arguments)};return h(y),g(y),p(y),d(y),m(y),y}l.update=function(y){return m(y),y},l.nodeId=function(y){return arguments.length?(o=typeof y=="function"?y:Fa(y),l):o},l.nodeAlign=function(y){return arguments.length?(f=typeof y=="function"?y:Fa(y),l):f},l.nodeSort=function(y){return arguments.length?(s=y,l):s},l.nodeWidth=function(y){return arguments.length?(i=+y,l):i},l.nodePadding=function(y){return arguments.length?(a=+y,l):a},l.nodes=function(y){return arguments.length?(c=typeof y=="function"?y:Fa(y),l):c},l.links=function(y){return arguments.length?(u=typeof y=="function"?y:Fa(y),l):u},l.size=function(y){return arguments.length?(r=n=0,e=+y[0],t=+y[1],l):[e-r,t-n]},l.extent=function(y){return arguments.length?(r=+y[0][0],e=+y[1][0],n=+y[0][1],t=+y[1][1],l):[[r,n],[e,t]]},l.iterations=function(y){return arguments.length?(v=+y,l):v};function h(y){y.nodes.forEach(function(E,T){E.index=T,E.sourceLinks=[],E.targetLinks=[]});var w=bt(y.nodes,o);y.links.forEach(function(E,T){E.index=T;var M=E.source,C=E.target;typeof M!="object"&&(M=E.source=ph(w,M)),typeof C!="object"&&(C=E.target=ph(w,C)),M.sourceLinks.push(E),C.targetLinks.push(E)})}function g(y){y.nodes.forEach(function(w){w.value=Math.max(mo(w.sourceLinks,E0),mo(w.targetLinks,E0))})}function p(y){var w,E,T,M=y.nodes.length;for(w=y.nodes,E=[],T=0;w.length;++T,w=E,E=[]){if(T>M)throw new Error("circular link");w.forEach(function(R){R.depth=T,R.sourceLinks.forEach(function(x){E.indexOf(x.target)<0&&E.push(x.target)})})}for(w=y.nodes,E=[],T=0;w.length;++T,w=E,E=[]){if(T>M)throw new Error("circular link");w.forEach(function(R){R.height=T,R.targetLinks.forEach(function(x){E.indexOf(x.source)<0&&E.push(x.source)})})}var C=(e-r-i)/(T-1);y.nodes.forEach(function(R){R.x1=(R.x0=r+Math.max(0,Math.min(T-1,Math.floor(f.call(null,R,T))))*C)+i})}function d(y){var w=s6().key(function(O){return O.x0}).sortKeys(po).entries(y.nodes).map(function(O){return O.values});M(),x();for(var E=.9,T=v;T>0;--T,E*=.9)R(E),x(),C(E),x();function M(){var O=Or(w,function(k){return(t-n-(k.length-1)*a)/mo(k,E0)});w.forEach(function(k){s!=null&&k.sort(s),k.forEach(function(D,z){D.y1=(D.y0=z)+D.value*O})}),y.links.forEach(function(k){k.width=k.value*O})}function C(O){w.forEach(function(k){k.forEach(function(D){let z=D.y0;for(const{target:_,width:S,value:$}of D.sourceLinks.sort(gh)){if($>0){let P=0;for(const{source:I,width:J}of _.targetLinks){if(I===D)break;P+=J+a/2}P=(z-P-_.y0)*O*($/Math.min(D.value,_.value)),_.y0+=P,_.y1+=P}z+=S+a/2}})})}function R(O){w.slice().reverse().forEach(function(k){k.forEach(function(D){let z=D.y0;for(const{source:_,width:S,value:$}of D.targetLinks.sort(hh)){if($>0){let P=0;for(const{target:I,width:J}of _.sourceLinks){if(I===D)break;P+=J+a/2}P=(z-P-_.y0)*O*($/Math.min(D.value,_.value)),_.y0+=P,_.y1+=P}z+=S+a/2}})})}function x(){w.forEach(function(O){var k,D,z=n,_=O.length,S;for(s===void 0&&O.sort(S0),S=0;S<_;++S)k=O[S],D=z-k.y0,D>0&&(k.y0+=D,k.y1+=D),z=k.y1+a;if(D=z-a-t,D>0)for(z=k.y0-=D,k.y1-=D,S=_-2;S>=0;--S)k=O[S],D=k.y1+a-z,D>0&&(k.y0-=D,k.y1-=D),z=k.y0})}}function m(y){y.nodes.forEach(function(w){w.sourceLinks.sort(gh),w.targetLinks.sort(hh)}),y.nodes.forEach(function(w){var E=w.y0,T=E;w.sourceLinks.forEach(function(M){M.y0=E+M.width/2,E+=M.width}),w.targetLinks.forEach(function(M){M.y1=T+M.width/2,T+=M.width})})}return l}var _0=Math.PI,T0=2*_0,se=1e-6,S6=T0-se;function M0(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function dh(){return new M0}M0.prototype=dh.prototype={constructor:M0,moveTo:function(r,n){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(r,n){this._+="L"+(this._x1=+r)+","+(this._y1=+n)},quadraticCurveTo:function(r,n,e,t){this._+="Q"+ +r+","+ +n+","+(this._x1=+e)+","+(this._y1=+t)},bezierCurveTo:function(r,n,e,t,i,a){this._+="C"+ +r+","+ +n+","+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(r,n,e,t,i){r=+r,n=+n,e=+e,t=+t,i=+i;var a=this._x1,o=this._y1,f=e-r,s=t-n,c=a-r,u=o-n,v=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=r)+","+(this._y1=n);else if(v>se)if(!(Math.abs(u*f-s*c)>se)||!i)this._+="L"+(this._x1=r)+","+(this._y1=n);else{var l=e-a,h=t-o,g=f*f+s*s,p=l*l+h*h,d=Math.sqrt(g),m=Math.sqrt(v),y=i*Math.tan((_0-Math.acos((g+v-p)/(2*d*m)))/2),w=y/m,E=y/d;Math.abs(w-1)>se&&(this._+="L"+(r+w*c)+","+(n+w*u)),this._+="A"+i+","+i+",0,0,"+ +(u*l>c*h)+","+(this._x1=r+E*f)+","+(this._y1=n+E*s)}},arc:function(r,n,e,t,i,a){r=+r,n=+n,e=+e,a=!!a;var o=e*Math.cos(t),f=e*Math.sin(t),s=r+o,c=n+f,u=1^a,v=a?t-i:i-t;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+s+","+c:(Math.abs(this._x1-s)>se||Math.abs(this._y1-c)>se)&&(this._+="L"+s+","+c),!!e&&(v<0&&(v=v%T0+T0),v>S6?this._+="A"+e+","+e+",0,1,"+u+","+(r-o)+","+(n-f)+"A"+e+","+e+",0,1,"+u+","+(this._x1=s)+","+(this._y1=c):v>se&&(this._+="A"+e+","+e+",0,"+ +(v>=_0)+","+u+","+(this._x1=r+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(r,n,e,t){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +t+"h"+-e+"Z"},toString:function(){return this._}};function yh(r){return function(){return r}}function E6(r){return r[0]}function _6(r){return r[1]}var T6=Array.prototype.slice;function M6(r){return r.source}function $6(r){return r.target}function P6(r){var n=M6,e=$6,t=E6,i=_6,a=null;function o(){var f,s=T6.call(arguments),c=n.apply(this,s),u=e.apply(this,s);if(a||(a=f=dh()),r(a,+t.apply(this,(s[0]=c,s)),+i.apply(this,s),+t.apply(this,(s[0]=u,s)),+i.apply(this,s)),f)return a=null,f+""||null}return o.source=function(f){return arguments.length?(n=f,o):n},o.target=function(f){return arguments.length?(e=f,o):e},o.x=function(f){return arguments.length?(t=typeof f=="function"?f:yh(+f),o):t},o.y=function(f){return arguments.length?(i=typeof f=="function"?f:yh(+f),o):i},o.context=function(f){return arguments.length?(a=f==null?null:f,o):a},o}function R6(r,n,e,t,i){r.moveTo(n,e),r.bezierCurveTo(n=(n+t)/2,e,n,i,t,i)}function x6(){return P6(R6)}function C6(r){return[r.source.x1,r.y0]}function k6(r){return[r.target.x0,r.y1]}function A6(){return x6().source(C6).target(k6)}var b6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",sankey:w6,sankeyCenter:p6,sankeyLeft:h6,sankeyRight:g6,sankeyJustify:vh,sankeyLinkHorizontal:A6}),D6=Sn(b6);Object.defineProperty(l6,"__esModule",{value:!0});var za=K,Dt=D6,mh=V,I6={sankeyLeft:Dt.sankeyLeft,sankeyRight:Dt.sankeyRight,sankeyCenter:Dt.sankeyCenter,sankeyJustify:Dt.sankeyJustify},O6={value:function(r){return r.value},source:function(r){return r.source},target:function(r){return r.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02,sort:void 0};function wh(r,n){n=za.assign({},O6,n);var e=null;za.isString(n.nodeAlign)?e=I6[n.nodeAlign]:za.isFunction(n.nodeAlign)&&(e=n.nodeAlign);var t=Dt.sankey().nodeSort(n.sort).links(function(i){return i.edges}).nodeWidth(n.nodeWidth).nodePadding(n.nodePadding).extent([[0,0],[1,1]]);za.isFunction(n.nodeId)&&t.nodeId(n.nodeId),e&&t.nodeAlign(e),t(r),r.nodes.forEach(function(i){var a=i.x0,o=i.x1,f=i.y0,s=i.y1;i.x=[a,o,o,a],i.y=[f,f,s,s]}),r.edges.forEach(function(i){var a=i.source,o=i.target,f=a.x1,s=o.x0;i.x=[f,f,s,s];var c=i.width/2;i.y=[i.y0+c,i.y0-c,i.y1+c,i.y1-c]})}mh.DataSet.registerTransform("diagram.sankey",wh);mh.DataSet.registerTransform("sankey",wh);var L6={};function Sh(r){return function(){return r}}function N6(r){return r[0]}function q6(r){return r[1]}function Ba(){this._=null}function Ga(r){r.U=r.C=r.L=r.R=r.P=r.N=null}Ba.prototype={constructor:Ba,insert:function(r,n){var e,t,i;if(r){if(n.P=r,n.N=r.N,r.N&&(r.N.P=n),r.N=n,r.R){for(r=r.R;r.L;)r=r.L;r.L=n}else r.R=n;e=r}else this._?(r=Eh(this._),n.P=null,n.N=r,r.P=r.L=n,e=r):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,r=n;e&&e.C;)t=e.U,e===t.L?(i=t.R,i&&i.C?(e.C=i.C=!1,t.C=!0,r=t):(r===e.R&&(It(this,e),r=e,e=r.U),e.C=!1,t.C=!0,Ot(this,t))):(i=t.L,i&&i.C?(e.C=i.C=!1,t.C=!0,r=t):(r===e.L&&(Ot(this,e),r=e,e=r.U),e.C=!1,t.C=!0,It(this,t))),e=r.U;this._.C=!1},remove:function(r){r.N&&(r.N.P=r.P),r.P&&(r.P.N=r.N),r.N=r.P=null;var n=r.U,e,t=r.L,i=r.R,a,o;if(t?i?a=Eh(i):a=t:a=i,n?n.L===r?n.L=a:n.R=a:this._=a,t&&i?(o=a.C,a.C=r.C,a.L=t,t.U=a,a!==i?(n=a.U,a.U=r.U,r=a.R,n.L=r,a.R=i,i.U=a):(a.U=n,n=a,r=a.R)):(o=r.C,r=a),r&&(r.U=n),!o){if(r&&r.C){r.C=!1;return}do{if(r===this._)break;if(r===n.L){if(e=n.R,e.C&&(e.C=!1,n.C=!0,It(this,n),e=n.R),e.L&&e.L.C||e.R&&e.R.C){(!e.R||!e.R.C)&&(e.L.C=!1,e.C=!0,Ot(this,e),e=n.R),e.C=n.C,n.C=e.R.C=!1,It(this,n),r=this._;break}}else if(e=n.L,e.C&&(e.C=!1,n.C=!0,Ot(this,n),e=n.L),e.L&&e.L.C||e.R&&e.R.C){(!e.L||!e.L.C)&&(e.R.C=!1,e.C=!0,It(this,e),e=n.L),e.C=n.C,n.C=e.L.C=!1,Ot(this,n),r=this._;break}e.C=!0,r=n,n=n.U}while(!r.C);r&&(r.C=!1)}}};function It(r,n){var e=n,t=n.R,i=e.U;i?i.L===e?i.L=t:i.R=t:r._=t,t.U=i,e.U=t,e.R=t.L,e.R&&(e.R.U=e),t.L=e}function Ot(r,n){var e=n,t=n.L,i=e.U;i?i.L===e?i.L=t:i.R=t:r._=t,t.U=i,e.U=t,e.L=t.R,e.L&&(e.L.U=e),t.R=e}function Eh(r){for(;r.L;)r=r.L;return r}function Lt(r,n,e,t){var i=[null,null],a=qr.push(i)-1;return i.left=r,i.right=n,e&&Ua(i,r,n,e),t&&Ua(i,n,r,t),on[r.index].halfedges.push(a),on[n.index].halfedges.push(a),i}function Nt(r,n,e){var t=[n,e];return t.left=r,t}function Ua(r,n,e,t){!r[0]&&!r[1]?(r[0]=t,r.left=n,r.right=e):r.left===e?r[1]=t:r[0]=t}function F6(r,n,e,t,i){var a=r[0],o=r[1],f=a[0],s=a[1],c=o[0],u=o[1],v=0,l=1,h=c-f,g=u-s,p;if(p=n-f,!(!h&&p>0)){if(p/=h,h<0){if(p<v)return;p<l&&(l=p)}else if(h>0){if(p>l)return;p>v&&(v=p)}if(p=t-f,!(!h&&p<0)){if(p/=h,h<0){if(p>l)return;p>v&&(v=p)}else if(h>0){if(p<v)return;p<l&&(l=p)}if(p=e-s,!(!g&&p>0)){if(p/=g,g<0){if(p<v)return;p<l&&(l=p)}else if(g>0){if(p>l)return;p>v&&(v=p)}if(p=i-s,!(!g&&p<0)){if(p/=g,g<0){if(p>l)return;p>v&&(v=p)}else if(g>0){if(p<v)return;p<l&&(l=p)}return!(v>0)&&!(l<1)||(v>0&&(r[0]=[f+v*h,s+v*g]),l<1&&(r[1]=[f+l*h,s+l*g])),!0}}}}}function z6(r,n,e,t,i){var a=r[1];if(a)return!0;var o=r[0],f=r.left,s=r.right,c=f[0],u=f[1],v=s[0],l=s[1],h=(c+v)/2,g=(u+l)/2,p,d;if(l===u){if(h<n||h>=t)return;if(c>v){if(!o)o=[h,e];else if(o[1]>=i)return;a=[h,i]}else{if(!o)o=[h,i];else if(o[1]<e)return;a=[h,e]}}else if(p=(c-v)/(l-u),d=g-p*h,p<-1||p>1)if(c>v){if(!o)o=[(e-d)/p,e];else if(o[1]>=i)return;a=[(i-d)/p,i]}else{if(!o)o=[(i-d)/p,i];else if(o[1]<e)return;a=[(e-d)/p,e]}else if(u<l){if(!o)o=[n,p*n+d];else if(o[0]>=t)return;a=[t,p*t+d]}else{if(!o)o=[t,p*t+d];else if(o[0]<n)return;a=[n,p*n+d]}return r[0]=o,r[1]=a,!0}function B6(r,n,e,t){for(var i=qr.length,a;i--;)(!z6(a=qr[i],r,n,e,t)||!F6(a,r,n,e,t)||!(Math.abs(a[0][0]-a[1][0])>dr||Math.abs(a[0][1]-a[1][1])>dr))&&delete qr[i]}function G6(r){return on[r.index]={site:r,halfedges:[]}}function U6(r,n){var e=r.site,t=n.left,i=n.right;return e===i&&(i=t,t=e),i?Math.atan2(i[1]-t[1],i[0]-t[0]):(e===t?(t=n[1],i=n[0]):(t=n[0],i=n[1]),Math.atan2(t[0]-i[0],i[1]-t[1]))}function _h(r,n){return n[+(n.left!==r.site)]}function H6(r,n){return n[+(n.left===r.site)]}function j6(){for(var r=0,n=on.length,e,t,i,a;r<n;++r)if((e=on[r])&&(a=(t=e.halfedges).length)){var o=new Array(a),f=new Array(a);for(i=0;i<a;++i)o[i]=i,f[i]=U6(e,qr[t[i]]);for(o.sort(function(s,c){return f[c]-f[s]}),i=0;i<a;++i)f[i]=t[o[i]];for(i=0;i<a;++i)t[i]=f[i]}}function Y6(r,n,e,t){var i=on.length,a,o,f,s,c,u,v,l,h,g,p,d,m=!0;for(a=0;a<i;++a)if(o=on[a]){for(f=o.site,c=o.halfedges,s=c.length;s--;)qr[c[s]]||c.splice(s,1);for(s=0,u=c.length;s<u;)g=H6(o,qr[c[s]]),p=g[0],d=g[1],v=_h(o,qr[c[++s%u]]),l=v[0],h=v[1],(Math.abs(p-l)>dr||Math.abs(d-h)>dr)&&(c.splice(s,0,qr.push(Nt(f,g,Math.abs(p-r)<dr&&t-d>dr?[r,Math.abs(l-r)<dr?h:t]:Math.abs(d-t)<dr&&e-p>dr?[Math.abs(h-t)<dr?l:e,t]:Math.abs(p-e)<dr&&d-n>dr?[e,Math.abs(l-e)<dr?h:n]:Math.abs(d-n)<dr&&p-r>dr?[Math.abs(h-n)<dr?l:r,n]:null))-1),++u);u&&(m=!1)}if(m){var y,w,E,T=1/0;for(a=0,m=null;a<i;++a)(o=on[a])&&(f=o.site,y=f[0]-r,w=f[1]-n,E=y*y+w*w,E<T&&(T=E,m=o));if(m){var M=[r,n],C=[r,t],R=[e,t],x=[e,n];m.halfedges.push(qr.push(Nt(f=m.site,M,C))-1,qr.push(Nt(f,C,R))-1,qr.push(Nt(f,R,x))-1,qr.push(Nt(f,x,M))-1)}}for(a=0;a<i;++a)(o=on[a])&&(o.halfedges.length||delete on[a])}var Th=[],$0;function X6(){Ga(this),this.x=this.y=this.arc=this.site=this.cy=null}function Fe(r){var n=r.P,e=r.N;if(!(!n||!e)){var t=n.site,i=r.site,a=e.site;if(t!==a){var o=i[0],f=i[1],s=t[0]-o,c=t[1]-f,u=a[0]-o,v=a[1]-f,l=2*(s*v-c*u);if(!(l>=-Q6)){var h=s*s+c*c,g=u*u+v*v,p=(v*h-c*g)/l,d=(s*g-u*h)/l,m=Th.pop()||new X6;m.arc=r,m.site=i,m.x=p+o,m.y=(m.cy=d+f)+Math.sqrt(p*p+d*d),r.circle=m;for(var y=null,w=qt._;w;)if(m.y<w.y||m.y===w.y&&m.x<=w.x)if(w.L)w=w.L;else{y=w.P;break}else if(w.R)w=w.R;else{y=w;break}qt.insert(y,m),y||($0=m)}}}}function ze(r){var n=r.circle;n&&(n.P||($0=n.N),qt.remove(n),Th.push(n),Ga(n),r.circle=null)}var Mh=[];function V6(){Ga(this),this.edge=this.site=this.circle=null}function $h(r){var n=Mh.pop()||new V6;return n.site=r,n}function P0(r){ze(r),Be.remove(r),Mh.push(r),Ga(r)}function J6(r){var n=r.circle,e=n.x,t=n.cy,i=[e,t],a=r.P,o=r.N,f=[r];P0(r);for(var s=a;s.circle&&Math.abs(e-s.circle.x)<dr&&Math.abs(t-s.circle.cy)<dr;)a=s.P,f.unshift(s),P0(s),s=a;f.unshift(s),ze(s);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<dr&&Math.abs(t-c.circle.cy)<dr;)o=c.N,f.push(c),P0(c),c=o;f.push(c),ze(c);var u=f.length,v;for(v=1;v<u;++v)c=f[v],s=f[v-1],Ua(c.edge,s.site,c.site,i);s=f[0],c=f[u-1],c.edge=Lt(s.site,c.site,null,i),Fe(s),Fe(c)}function W6(r){for(var n=r[0],e=r[1],t,i,a,o,f=Be._;f;)if(a=Ph(f,e)-n,a>dr)f=f.L;else if(o=n-K6(f,e),o>dr){if(!f.R){t=f;break}f=f.R}else{a>-dr?(t=f.P,i=f):o>-dr?(t=f,i=f.N):t=i=f;break}G6(r);var s=$h(r);if(Be.insert(t,s),!(!t&&!i)){if(t===i){ze(t),i=$h(t.site),Be.insert(s,i),s.edge=i.edge=Lt(t.site,s.site),Fe(t),Fe(i);return}if(!i){s.edge=Lt(t.site,s.site);return}ze(t),ze(i);var c=t.site,u=c[0],v=c[1],l=r[0]-u,h=r[1]-v,g=i.site,p=g[0]-u,d=g[1]-v,m=2*(l*d-h*p),y=l*l+h*h,w=p*p+d*d,E=[(d*y-h*w)/m+u,(l*w-p*y)/m+v];Ua(i.edge,c,g,E),s.edge=Lt(c,r,null,E),i.edge=Lt(r,g,null,E),Fe(t),Fe(i)}}function Ph(r,n){var e=r.site,t=e[0],i=e[1],a=i-n;if(!a)return t;var o=r.P;if(!o)return-1/0;e=o.site;var f=e[0],s=e[1],c=s-n;if(!c)return f;var u=f-t,v=1/a-1/c,l=u/c;return v?(-l+Math.sqrt(l*l-2*v*(u*u/(-2*c)-s+c/2+i-a/2)))/v+t:(t+f)/2}function K6(r,n){var e=r.N;if(e)return Ph(e,n);var t=r.site;return t[1]===n?t[0]:1/0}var dr=1e-6,Q6=1e-12,Be,on,qt,qr;function Z6(r,n,e){return(r[0]-e[0])*(n[1]-r[1])-(r[0]-n[0])*(e[1]-r[1])}function r8(r,n){return n[1]-r[1]||n[0]-r[0]}function R0(r,n){var e=r.sort(r8).pop(),t,i,a;for(qr=[],on=new Array(r.length),Be=new Ba,qt=new Ba;;)if(a=$0,e&&(!a||e[1]<a.y||e[1]===a.y&&e[0]<a.x))(e[0]!==t||e[1]!==i)&&(W6(e),t=e[0],i=e[1]),e=r.pop();else if(a)J6(a.arc);else break;if(j6(),n){var o=+n[0][0],f=+n[0][1],s=+n[1][0],c=+n[1][1];B6(o,f,s,c),Y6(o,f,s,c)}this.edges=qr,this.cells=on,Be=qt=qr=on=null}R0.prototype={constructor:R0,polygons:function(){var r=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(t){return _h(n,r[t])});return e.data=n.site.data,e})},triangles:function(){var r=[],n=this.edges;return this.cells.forEach(function(e,t){if(!!(f=(a=e.halfedges).length))for(var i=e.site,a,o=-1,f,s,c=n[a[f-1]],u=c.left===i?c.right:c.left;++o<f;)s=u,c=n[a[o]],u=c.left===i?c.right:c.left,s&&u&&t<s.index&&t<u.index&&Z6(i,s,u)<0&&r.push([i.data,s.data,u.data])}),r},links:function(){return this.edges.filter(function(r){return r.right}).map(function(r){return{source:r.left.data,target:r.right.data}})},find:function(r,n,e){for(var t=this,i,a=t._found||0,o=t.cells.length,f;!(f=t.cells[a]);)if(++a>=o)return null;var s=r-f.site[0],c=n-f.site[1],u=s*s+c*c;do f=t.cells[i=a],a=null,f.halfedges.forEach(function(v){var l=t.edges[v],h=l.left;if(!((h===f.site||!h)&&!(h=l.right))){var g=r-h[0],p=n-h[1],d=g*g+p*p;d<u&&(u=d,a=h.index)}});while(a!==null);return t._found=i,e==null||u<=e*e?f.site:null}};function n8(){var r=N6,n=q6,e=null;function t(i){return new R0(i.map(function(a,o){var f=[Math.round(r(a,o,i)/dr)*dr,Math.round(n(a,o,i)/dr)*dr];return f.index=o,f.data=a,f}),e)}return t.polygons=function(i){return t(i).polygons()},t.links=function(i){return t(i).links()},t.triangles=function(i){return t(i).triangles()},t.x=function(i){return arguments.length?(r=typeof i=="function"?i:Sh(+i),t):r},t.y=function(i){return arguments.length?(n=typeof i=="function"?i:Sh(+i),t):n},t.extent=function(i){return arguments.length?(e=i==null?null:[[+i[0][0],+i[0][1]],[+i[1][0],+i[1][1]]],t):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},t.size=function(i){return arguments.length?(e=i==null?null:[[0,0],[+i[0],+i[1]]],t):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},t}var e8=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",voronoi:n8}),t8=Sn(e8);Object.defineProperty(L6,"__esModule",{value:!0});var i8=nr.exports,a8=i8.__importStar(t8),x0=K,o8=V,Rh=o8.DataSet.registerTransform,u8=cr,l8={as:["_x","_y"]};function xh(r,n){n=x0.assign({},l8,n);var e=n.as;if(!x0.isArray(e)||e.length!==2)throw new TypeError("Invalid as: must be an array with two strings!");var t=e[0],i=e[1],a=u8.getFields(n);if(!x0.isArray(a)||a.length!==2)throw new TypeError("Invalid fields: must be an array with two strings!");var o=a[0],f=a[1],s=r.rows,c=s.map(function(l){return[l[o],l[f]]}),u=a8.voronoi();n.extend&&u.extent(n.extend),n.size&&u.size(n.size);var v=u(c).polygons();s.forEach(function(l,h){var g=v[h].filter(function(p){return!!p});l[t]=g.map(function(p){return p[0]}),l[i]=g.map(function(p){return p[1]})})}Rh("diagram.voronoi",xh);Rh("voronoi",xh);var s8={};Object.defineProperty(s8,"__esModule",{value:!0});var f8=nr.exports,c8=f8.__importStar(Ie),Ch=K,C0=V,v8=cr,h8={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function kh(r,n){if(r.dataType!==C0.DataSet.CONSTANTS.HIERARCHY||!r.root)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=r.root;n=Ch.assign({},h8,n);var t=n.as;if(!Ch.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i=void 0;try{i=v8.getField(n)}catch(s){console.warn(s)}i&&e.sum(function(s){return s[i]});var a=c8.cluster();a.size(n.size),n.nodeSize&&a.nodeSize(n.nodeSize),n.separation&&a.separation(n.separation),a(e);var o=t[0],f=t[1];e.each(function(s){s[o]=s.x,s[f]=s.y})}C0.DataSet.registerTransform("hierarchy.cluster",kh);C0.DataSet.registerTransform("dendrogram",kh);var g8={};Object.defineProperty(g8,"__esModule",{value:!0});var p8=nr.exports,d8=p8.__importDefault(Qa),Ft=V,y8={};function Ha(r,n){var e=r.root;if(n=Object.assign({},y8,n),r.dataType!==Ft.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");r.root=d8.default.compactBox(e,n)}Ft.DataSet.registerTransform("hierarchy.compact-box",Ha);Ft.DataSet.registerTransform("compact-box-tree",Ha);Ft.DataSet.registerTransform("non-layered-tidy-tree",Ha);Ft.DataSet.registerTransform("mindmap-logical",Ha);var m8={};Object.defineProperty(m8,"__esModule",{value:!0});var w8=nr.exports,S8=w8.__importDefault(Qa),k0=V,E8={};function Ah(r,n){var e=r.root;if(n=Object.assign({},E8,n),r.dataType!==k0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");r.root=S8.default.dendrogram(e,n)}k0.DataSet.registerTransform("hierarchy.dendrogram",Ah);k0.DataSet.registerTransform("dendrogram",Ah);var _8={};Object.defineProperty(_8,"__esModule",{value:!0});var T8=nr.exports,M8=T8.__importDefault(Qa),A0=V,$8={};function bh(r,n){var e=r.root;if(n=Object.assign({},$8,n),r.dataType!==A0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");r.root=M8.default.indented(e,n)}A0.DataSet.registerTransform("hierarchy.indented",bh);A0.DataSet.registerTransform("indented-tree",bh);var P8={};Object.defineProperty(P8,"__esModule",{value:!0});var R8=nr.exports,Dh=K,x8=R8.__importStar(Ie),ja=V,C8=cr,k8={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function b0(r,n){if(r.dataType!==ja.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=r.root;n=Dh.assign({},k8,n);var t=n.as;if(!Dh.isArray(t)||t.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var i;try{i=C8.getField(n)}catch(c){console.warn(c)}i&&e.sum(function(c){return c[i]}).sort(function(c,u){return u[i]-c[i]});var a=x8.pack();a.size(n.size),n.padding&&a.padding(n.padding),a(e);var o=t[0],f=t[1],s=t[2];e.each(function(c){c[o]=c.x,c[f]=c.y,c[s]=c.r})}ja.DataSet.registerTransform("hierarchy.pack",b0);ja.DataSet.registerTransform("hierarchy.circle-packing",b0);ja.DataSet.registerTransform("circle-packing",b0);var A8={};Object.defineProperty(A8,"__esModule",{value:!0});var b8=nr.exports,D8=b8.__importStar(Ie),Ih=K,D0=V,I8=cr,O8={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function Oh(r,n){if(r.dataType!==D0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=r.root;n=Ih.assign({},O8,n);var t=n.as;if(!Ih.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=I8.getField(n)}catch(s){console.warn(s)}i&&e.sum(function(s){return s[i]});var a=D8.partition();a.size(n.size).round(n.round).padding(n.padding),a(e);var o=t[0],f=t[1];e.each(function(s){s[o]=[s.x0,s.x1,s.x1,s.x0],s[f]=[s.y1,s.y1,s.y0,s.y0],["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete s[c]})})}D0.DataSet.registerTransform("hierarchy.partition",Oh);D0.DataSet.registerTransform("adjacency",Oh);var L8={};Object.defineProperty(L8,"__esModule",{value:!0});var N8=nr.exports,q8=N8.__importStar(Ie),Lh=K,I0=V,F8=cr,z8={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function Nh(r,n){if(r.dataType!==I0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=r.root;n=Lh.assign({},z8,n);var t=n.as;if(!Lh.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=F8.getField(n)}catch(s){console.warn(s)}i&&e.sum(function(s){return s[i]});var a=q8.tree();a.size(n.size),n.nodeSize&&a.nodeSize(n.nodeSize),n.separation&&a.separation(n.separation),a(e);var o=t[0],f=t[1];e.each(function(s){s[o]=s.x,s[f]=s.y})}I0.DataSet.registerTransform("hierarchy.tree",Nh);I0.DataSet.registerTransform("tree",Nh);var B8={};Object.defineProperty(B8,"__esModule",{value:!0});var G8=nr.exports,qh=G8.__importStar(Ie),Fh=K,O0=V,U8=cr,H8={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function zh(r,n){if(r.dataType!==O0.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=r.root;n=Fh.assign({},H8,n);var t=n.as;if(!Fh.isArray(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=U8.getField(n)}catch(s){console.warn(s)}i&&e.sum(function(s){return s[i]});var a=qh.treemap();a.tile(qh[n.tile]).size(n.size).round(n.round).padding(n.padding).paddingInner(n.paddingInner).paddingOuter(n.paddingOuter).paddingTop(n.paddingTop).paddingRight(n.paddingRight).paddingBottom(n.paddingBottom).paddingLeft(n.paddingLeft),a(e);var o=t[0],f=t[1];e.each(function(s){s[o]=[s.x0,s.x1,s.x1,s.x0],s[f]=[s.y1,s.y1,s.y0,s.y0],["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete s[c]})})}O0.DataSet.registerTransform("hierarchy.treemap",zh);O0.DataSet.registerTransform("treemap",zh);var j8={},L0={};Object.defineProperty(L0,"__esModule",{value:!0});var Bh=nr.exports,N0=Math.PI/180,zt=1<<11>>5,Ya=1<<11;function Y8(r){return r.text}function X8(){return"serif"}function Gh(){return"normal"}function V8(r){return r.value}function J8(){return~~(Math.random()*2)*90}function W8(){return 1}function K8(r,n,e,t){if(!n.sprite){var i=r.context,a=r.ratio;i.clearRect(0,0,(zt<<5)/a,Ya/a);var o=0,f=0,s=0,c=e.length;for(--t;++t<c;){n=e[t],i.save(),i.font=n.style+" "+n.weight+" "+~~((n.size+1)/a)+"px "+n.font;var u=i.measureText(n.text+"m").width*a,v=n.size<<1;if(n.rotate){var l=Math.sin(n.rotate*N0),h=Math.cos(n.rotate*N0),g=u*h,p=u*l,d=v*h,m=v*l;u=Math.max(Math.abs(g+m),Math.abs(g-m))+31>>5<<5,v=~~Math.max(Math.abs(p+d),Math.abs(p-d))}else u=u+31>>5<<5;if(v>s&&(s=v),o+u>=zt<<5&&(o=0,f+=s,s=0),f+v>=Ya)break;i.translate((o+(u>>1))/a,(f+(v>>1))/a),n.rotate&&i.rotate(n.rotate*N0),i.fillText(n.text,0,0),n.padding&&(i.lineWidth=2*n.padding,i.strokeText(n.text,0,0)),i.restore(),n.width=u,n.height=v,n.xoff=o,n.yoff=f,n.x1=u>>1,n.y1=v>>1,n.x0=-n.x1,n.y0=-n.y1,n.hasText=!0,o+=u}for(var y=i.getImageData(0,0,(zt<<5)/a,Ya/a).data,w=[];--t>=0;)if(n=e[t],!!n.hasText){for(var u=n.width,E=u>>5,v=n.y1-n.y0,T=0;T<v*E;T++)w[T]=0;if(o=n.xoff,o==null)return;f=n.yoff;for(var M=0,C=-1,R=0;R<v;R++){for(var T=0;T<u;T++){var x=E*R+(T>>5),O=y[(f+R)*(zt<<5)+(o+T)<<2]?1<<31-T%32:0;w[x]|=O,M|=O}M?C=R:(n.y0++,v--,R--,f++)}n.y1=n.y0+C,n.sprite=w.slice(0,(n.y1-n.y0)*E)}}}function Q8(r,n,e){e>>=5;for(var t=r.sprite,i=r.width>>5,a=r.x-(i<<4),o=a&127,f=32-o,s=r.y1-r.y0,c=(r.y+r.y0)*e+(a>>5),u,v=0;v<s;v++){u=0;for(var l=0;l<=i;l++)if((u<<f|(l<i?(u=t[v*i+l])>>>o:0))&n[c+l])return!0;c+=e}return!1}function Z8(r,n){var e=r[0],t=r[1];n.x+n.x0<e.x&&(e.x=n.x+n.x0),n.y+n.y0<e.y&&(e.y=n.y+n.y0),n.x+n.x1>t.x&&(t.x=n.x+n.x1),n.y+n.y1>t.y&&(t.y=n.y+n.y1)}function r7(r,n){return r.x+r.x1>n[0].x&&r.x+r.x0<n[1].x&&r.y+r.y1>n[0].y&&r.y+r.y0<n[1].y}function Uh(r){var n=r[0]/r[1];return function(e){return[n*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function n7(r){var n=4,e=n*r[0]/r[1],t=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:t+=e;break;case 1:i+=n;break;case 2:t-=e;break;default:i-=n;break}return[t,i]}}function Hh(r){for(var n=[],e=-1;++e<r;)n[e]=0;return n}function e7(){return document.createElement("canvas")}function Xn(r){return typeof r=="function"?r:function(){return r}}var t7={archimedean:Uh,rectangular:n7};function i7(){var r=[256,256],n=Y8,e=X8,t=V8,i=Gh,a=Gh,o=J8,f=W8,s=Uh,c=[],u=1/0,v=Math.random,l=e7,h={};h.canvas=function(d){return arguments.length?(l=Xn(d),h):l},h.start=function(){var d=Bh.__read(r,2),m=d[0],y=d[1],w=g(l()),E=h.board?h.board:Hh((r[0]>>5)*r[1]),T=c.length,M=[],C=c.map(function(k,D){return k.text=n.call(this,k,D),k.font=e.call(this,k,D),k.style=i.call(this,k,D),k.weight=a.call(this,k,D),k.rotate=o.call(this,k,D),k.size=~~t.call(this,k,D),k.padding=f.call(this,k,D),k}).sort(function(k,D){return D.size-k.size}),R=-1,x=h.board?[{x:0,y:0},{x:m,y}]:null;O();function O(){for(var k=Date.now();Date.now()-k<u&&++R<T;){var D=C[R];D.x=m*(v()+.5)>>1,D.y=y*(v()+.5)>>1,K8(w,D,C,R),D.hasText&&p(E,D,x)&&(M.push(D),x?h.hasImage||Z8(x,D):x=[{x:D.x+D.x0,y:D.y+D.y0},{x:D.x+D.x1,y:D.y+D.y1}],D.x-=r[0]>>1,D.y-=r[1]>>1)}h._tags=M,h._bounds=x}return h};function g(d){d.width=d.height=1;var m=Math.sqrt(d.getContext("2d").getImageData(0,0,1,1).data.length>>2);d.width=(zt<<5)/m,d.height=Ya/m;var y=d.getContext("2d");return y.fillStyle=y.strokeStyle="red",y.textAlign="center",{context:y,ratio:m}}function p(d,m,y){for(var w=m.x,E=m.y,T=Math.sqrt(r[0]*r[0]+r[1]*r[1]),M=s(r),C=v()<.5?1:-1,R,x=-C,O,k;(R=M(x+=C))&&(O=~~R[0],k=~~R[1],!(Math.min(Math.abs(O),Math.abs(k))>=T));)if(m.x=w+O,m.y=E+k,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>r[0]||m.y+m.y1>r[1])&&(!y||!Q8(m,d,r[0]))&&(!y||r7(m,y))){for(var D=m.sprite,z=m.width>>5,_=r[0]>>5,S=m.x-(z<<4),$=S&127,P=32-$,I=m.y1-m.y0,J=void 0,gr=(m.y+m.y0)*_+(S>>5),Z=0;Z<I;Z++){J=0;for(var ir=0;ir<=z;ir++)d[gr+ir]|=J<<P|(ir<z?(J=D[Z*z+ir])>>>$:0);gr+=_}return delete m.sprite,!0}return!1}return h.createMask=function(d){var m=document.createElement("canvas"),y=Bh.__read(r,2),w=y[0],E=y[1];if(!(!w||!E)){var T=w>>5,M=Hh((w>>5)*E);m.width=w,m.height=E;var C=m.getContext("2d");C.drawImage(d,0,0,d.width,d.height,0,0,w,E);for(var R=C.getImageData(0,0,w,E).data,x=0;x<E;x++)for(var O=0;O<w;O++){var k=T*x+(O>>5),D=x*w+O<<2,z=R[D]>=250&&R[D+1]>=250&&R[D+2]>=250,_=z?1<<31-O%32:0;M[k]|=_}h.board=M,h.hasImage=!0}},h.timeInterval=function(d){return arguments.length?(u=d==null?1/0:d,h):u},h.words=function(d){return arguments.length?(c=d,h):c},h.size=function(d){return arguments.length?(r=[+d[0],+d[1]],h):r},h.font=function(d){return arguments.length?(e=Xn(d),h):e},h.fontStyle=function(d){return arguments.length?(i=Xn(d),h):i},h.fontWeight=function(d){return arguments.length?(a=Xn(d),h):a},h.rotate=function(d){return arguments.length?(o=Xn(d),h):o},h.text=function(d){return arguments.length?(n=Xn(d),h):n},h.spiral=function(d){return arguments.length?(s=t7[d]||d,h):s},h.fontSize=function(d){return arguments.length?(t=Xn(d),h):t},h.padding=function(d){return arguments.length?(f=Xn(d),h):f},h.random=function(d){return arguments.length?(v=d,h):v},h}L0.default=i7;Object.defineProperty(j8,"__esModule",{value:!0});var q0=nr.exports,F0=K,jh=V,a7=q0.__importDefault(L0),o7=cr,u7={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function Yh(r,n){n=F0.assign({},u7,n);var e=a7.default();if(!n.size[0]||!n.size[1]){r.rows=[],r._tagCloud=e;return}["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval"].forEach(function(p){n[p]&&e[p](n[p])});var t=o7.getFields(n),i=q0.__read(t,2),a=i[0],o=i[1];if(!F0.isString(a)||!F0.isString(o))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var f=r.rows.map(function(p){return p.text=p[a],p.value=p[o],p});e.words(f),n.imageMask&&e.createMask(n.imageMask);var s=e.start(),c=s._tags,u=s._bounds||[{x:0,y:0},{x:n.size[0],y:n.size[1]}];c.forEach(function(p){p.x+=n.size[0]/2,p.y+=n.size[1]/2});var v=q0.__read(n.size,2),l=v[0],h=v[1],g=s.hasImage;c.push({text:"",value:0,x:g?0:u[0].x,y:g?0:u[0].y,opacity:0}),c.push({text:"",value:0,x:g?l:u[1].x,y:g?h:u[1].y,opacity:0}),r.rows=c,r._tagCloud=s}jh.DataSet.registerTransform("tag-cloud",Yh);jh.DataSet.registerTransform("word-cloud",Yh);var l7={};Object.defineProperty(l7,"__esModule",{value:!0});var Xa=nr.exports,fe=K,s7=On,f7=Xa.__importDefault(an),c7=V,v7=cr,h7={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};function g7(r,n){n=fe.assign({},h7,n);var e=v7.getFields(n),t=Xa.__read(e,2),i=t[0],a=t[1],o=Xa.__read(n.as,2),f=o[0],s=o[1],c=n.groupBy,u=f7.default(r.rows,c),v=fe.keys(u),l=Xa.__read(n.size,2),h=l[0],g=l[1],p=n.maxCount,d=v.length,m=g/d,y=n.rows,w=n.gapRatio,E=[],T=n.scale,M=0,C=0;fe.forIn(u,function(R){var x=s7.sum(fe.map(R,function(k){return k[a]})),O=Math.ceil(x*T/y);x*T>p&&(T=p/x,O=Math.ceil(x*T/y)),C=h/O}),fe.forIn(u,function(R){var x=[M*m,(M+1)*m],O=x[1]-x[0],k=O*(1-w)/y,D=0,z=0;fe.each(R,function(_){for(var S=_[a],$=Math.round(S*T),P=0;P<$;P++){z===y&&(z=0,D++);var I=fe.pick(_,[i,a].concat(c));I[f]=D*C+C/2,I[s]=z*k+k/2+x[0],I._wStep=C,I._hStep=k,z++,E.push(I)}}),M+=1}),r.rows=E}c7.DataSet.registerTransform("waffle",g7);var Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});var Ge=nr.exports,Vn=K,Vh=Ge.__importDefault(Ne),Jh=Ge.__importDefault(Ct),Wh=V,p7=cr,Kh=Ln,d7={as:["x","y","z"],method:"gaussian"},z0=Vn.keys(Jh.default);function Qh(r,n){var e,t;n=Vn.assign({},d7,n);var i=p7.getFields(n);if(!Vn.isArray(i)||i.length!==2)throw new TypeError("invalid fields: must be an array of 2 strings!");var a=Ge.__read(n.as,3),o=a[0],f=a[1],s=a[2];if(!Vn.isString(o)||!Vn.isString(f)||!Vn.isString(s))throw new TypeError("invalid as: must be an array of 3 strings!");var c;if(Vn.isString(n.method)){if(z0.indexOf(n.method)===-1)throw new TypeError("invalid method: "+n.method+". Must be one of "+z0.join(", "));c=Jh.default[n.method]}var u=Ge.__read(i,2),v=u[0],l=u[1],h=n.extent,g=n.bandwidth,p,d;h&&Array.isArray(h)&&Array.isArray(h[0])&&Array.isArray(h[1])?(e=Ge.__read(h,2),p=e[0],d=e[1]):(p=r.range(v),d=r.range(l));var m,y;g&&Array.isArray(g)&&g.slice(0,2).every(Vn.isNumber)&&g.slice(0,2).every(function(S){return S>0})?(t=Ge.__read(g,2),m=t[0],y=t[1]):(m=Kh.silverman(r.getColumn(v)),y=Kh.silverman(r.getColumn(l)));for(var w=Vh.default(p,m),E=Vh.default(d,y),T=r.rows.length,M=[],C=0;C<w.length;C++)for(var R=0;R<E.length;R++){for(var x=0,O=w[C],k=E[R],D=0;D<T;D++)x+=c((O-r.rows[D][v])/m)*c((k-r.rows[D][l])/y);var z=1/(T*m*y)*x,_={};_[o]=O,_[f]=k,_[s]=z,M.push(_)}r.rows=M}Wh.DataSet.registerTransform("kernel-smooth.density",Qh);Wh.DataSet.registerTransform("kernel.density",Qh);Xh.default={KERNEL_METHODS:z0};var Zh={};Object.defineProperty(Zh,"__esModule",{value:!0});var Va=nr.exports,Rn=K,y7=Va.__importDefault(Ne),rg=Va.__importDefault(Ct),ng=V,B0=On,m7=cr,w7=Ln,S7={as:["x","y"],method:"gaussian"},G0=Rn.keys(rg.default);function E7(r,n,e,t){var i=(t-e)/n;return r(i)}function eg(r){return function(n){return Rn.isArray(n)?n.map(function(e){return r(e)}):r(n)}}function tg(r,n){n=Rn.assign({},S7,n);var e=m7.getFields(n);if(!Rn.isArray(e)||!(e.length===1||e.length===2))throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var t=Va.__read(n.as,2),i=t[0],a=t[1];if(!Rn.isString(i)||!Rn.isString(a))throw new TypeError("invalid as: must be an array of 2 strings!");var o,f=n.method;if(Rn.isString(f)){if(G0.indexOf(f)===-1)throw new TypeError("invalid method: "+f+". Must be one of "+G0.join(", "));o=rg.default[f]}var s=Va.__read(e,2),c=s[0],u=s[1],v=r.getColumn(c),l=n.extent;(l||!Rn.isArray(l))&&(l=r.range(c));var h=n.bandwidth;(!h||!Rn.isNumber(h)||h<=0)&&(h=w7.silverman(v));var g=y7.default(l,h),p=v.length,d=E7.bind(null,o,h),m;if(Rn.isNil(u))m=eg(function(E){var T=v.map(function(R){return d(E,R)}),M=B0.sum(T),C=p*h;return!M||!C?0:M/C});else{var y=r.getColumn(u);m=eg(function(E){var T=v.map(function(R){return d(E,R)}),M=B0.sum(T.map(function(R,x){return R*y[x]})),C=B0.sum(T);return!M||!C?0:M/C})}var w=g.map(function(E){var T={};return T[i]=E,T[a]=m(E),T});r.rows=w}ng.DataSet.registerTransform("kernel-smooth.regression",tg);ng.DataSet.registerTransform("kernel.regression",tg);Zh.default={KERNEL_METHODS:G0};var _7=V,T7=_7.DataSet;function M7(r){const{data:n,loading:e,fields:t,height:i}=r,{DataView:a}=T7,o=new a().source(n);return o.transform({type:"fold",fields:t,key:"category",value:"score"}),vr(X0,{loading:e,style:{width:"100%"},children:wn(ro,{height:i||400,padding:0,data:o.rows,autoFit:!0,scale:{score:{min:0,max:80}},interactions:["legend-highlight"],className:"chart-wrapper",children:[vr(J0,{type:"polar",radius:.8}),vr(W0,{shared:!0,children:(f,s)=>vr(Z0,{title:f,data:s})}),vr(Eg,{position:"item*score",size:"2",color:["category",["#313CA9","#21CCFF","#249EFF"]]}),vr(_g,{position:"item*score",tooltip:!1,color:["category",["rgba(49, 60, 169, 0.4)","rgba(33, 204, 255, 0.4)","rgba(36, 158, 255, 0.4)"]]}),vr(K0,{name:"score",label:!1}),vr(Q0,{position:"right",marker:(f,s)=>({symbol:"circle",style:{r:4,lineWidth:0,fill:["#313CA9","#21CCFF","#249EFF"][s]}}),name:"category"})]})})}function $7(r){return wn(ro,{theme:Mg(),forceUpdate:!0,autoFit:!0,data:r.data,height:r.height||400,padding:[0,0,10,0],children:[vr(Q0,{visible:!0}),vr(Tg,{fields:["category"],type:"rect",showTitle:!1,eachView:(n,e)=>{const t=e.data;n.coordinate({type:"theta",cfg:{radius:.8,innerRadius:.7}}),n.interval().adjust("stack").position("value").color("type",["#249eff","#846BCE","#21CCFF"," #86DF6C","#0E42D2"]).label("value",{content:i=>`${(i.value*100).toFixed(2)} %`}),n.annotation().text({position:["50%","46%"],content:t[0].category,style:{fontSize:14,fontWeight:500,textAlign:"center"},offsetY:10}),n.interaction("element-single-selected")}})]})}const P7=["\u6D3B\u8DC3\u7528\u6237\u6570","\u5185\u5BB9\u751F\u4EA7\u91CF","\u5185\u5BB9\u70B9\u51FB\u91CF","\u5185\u5BB9\u66DD\u5149\u91CF"],ig=[0,600,1e3,2e3,4e3],U0=["\u7EAF\u6587\u672C","\u56FE\u6587\u7C7B","\u89C6\u9891\u7C7B"],R7=(r,n)=>{const{list:e}=kr.mock({"list|10":[{"id|+1":1,time:function(){return hg().subtract(this.id,"days").format("MM-DD")},count:()=>kr.Random.natural(ig[n],ig[n+1]),name:r}]});return e.map(t=>(delete t.id,t))},x7=r=>new Array(12).fill(0).map(()=>({y:kr.Random.natural(1e3,1e4)})).sort((e,t)=>e.y-t.y).map((e,t)=>Bt(Ue({},e),{x:t,name:r})),C7=r=>{const n=["UGC\u539F\u521B","\u56FD\u5916\u7F51\u7AD9","\u8F6C\u8F7D\u6587\u7AE0","\u884C\u4E1A\u62A5\u544A","\u5176\u4ED6"],e=[];n.forEach(i=>{e.push({type:i,value:kr.Random.natural(100,1e4),name:r})});const t=e.reduce((i,a)=>i+a.value,0);return e.map(i=>Bt(Ue({},i),{value:Number((i.value/t).toFixed(2))}))};yg({setup:()=>{kr.mock(new RegExp("/api/multi-dimension/overview"),()=>{const{array:r}=kr.mock({"array|4":[function(){return kr.Random.natural(0,1e4)}]});let n=[];return P7.forEach((e,t)=>n=n.concat(R7(e,t))),{overviewData:r,chartData:n}}),kr.mock(new RegExp("/api/multi-dimension/activity"),()=>{const{list:r}=kr.mock({"list|3":[{"name|+1":["\u5206\u4EAB\u91CF","\u8BC4\u8BBA\u91CF","\u70B9\u8D5E\u91CF"],count:()=>kr.Random.natural(1e3,1e4)}]});return r}),kr.mock(new RegExp("/api/multi-dimension/polar"),()=>{const r=["\u56FD\u9645","\u5A31\u4E50","\u4F53\u80B2","\u8D22\u7ECF","\u79D1\u6280","\u5176\u4ED6"],n=()=>{const e={};return U0.forEach(t=>{e[t]=kr.Random.natural(0,100)}),e};return{list:r.map(e=>Ue({item:e},n())),fields:U0}}),kr.mock(new RegExp("/api/multi-dimension/card"),r=>{const{type:n}=vg.parseUrl(r.url).query;return kr.mock({count:()=>kr.Random.natural(1e3,1e4),increment:()=>kr.Random.boolean(),diff:()=>kr.Random.natural(100,1e3),chartType:n,chartData:()=>x7("\u7C7B\u76EE1")})}),kr.mock(new RegExp("/api/multi-dimension/content-source"),()=>U0.map(n=>C7(n).map(e=>Bt(Ue({},e),{category:n}))).flat())}});const{Row:H0,Col:Ja}=pg,{Title:Wa}=dg;function G7(){const r=mg($g),[n,e]=Jn.exports.useState(!1),[t,i]=Jn.exports.useState([]),[a,o]=Jn.exports.useState(!1),[f,s]=Jn.exports.useState({list:[],fields:[]}),[c,u]=Jn.exports.useState(!1),[v,l]=Jn.exports.useState([]),h=async()=>{e(!0);const{data:d}=await Za.get("/api/multi-dimension/activity").finally(()=>{e(!1)});i(d)},g=async()=>{o(!0);const{data:d}=await Za.get("/api/multi-dimension/polar").finally(()=>o(!1));s(d)},p=async()=>{u(!0);const{data:d}=await Za.get("/api/multi-dimension/content-source").finally(()=>{u(!1)});l(d)};return Jn.exports.useEffect(()=>{h(),g(),p()},[]),wn(gg,{size:16,direction:"vertical",style:{width:"100%"},children:[wn(H0,{gutter:20,children:[vr(Ja,{span:16,children:wn(Gt,{children:[vr(Wa,{heading:6,children:r["multiDAnalysis.card.title.dataOverview"]}),vr(Pg,{})]})}),wn(Ja,{span:8,children:[wn(Gt,{children:[vr(Wa,{heading:6,children:r["multiDAnalysis.card.title.todayActivity"]}),vr(xg,{data:t,loading:n,height:160})]}),wn(Gt,{children:[vr(Wa,{heading:6,children:r["multiDAnalysis.card.title.contentTheme"]}),vr(M7,{data:f.list,fields:f.fields,height:197,loading:a})]})]})]}),vr(H0,{children:vr(Ja,{span:24,children:vr(Rg,{})})}),vr(H0,{children:vr(Ja,{span:24,children:wn(Gt,{children:[vr(Wa,{heading:6,children:r["multiDAnalysis.card.title.contentSource"]}),vr($7,{loading:c,data:v,height:240})]})})})]})}export{G7 as default};
